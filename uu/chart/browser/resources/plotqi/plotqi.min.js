!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";n(27);n(1),n(4);n(14)},function(t,e,n){var r,i;!function(){function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function s(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function u(t){return null===t?NaN:+t}function l(t){return!isNaN(t)}function c(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function h(t){return t.length}function f(t){for(var e=1;t*e%1;)e*=10;return e}function d(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function p(){this._=Object.create(null)}function g(t){return(t+="")===ka||t[0]===Ma?Ma+t:t}function v(t){return(t+="")[0]===Ma?t.slice(1):t}function y(t){return g(t)in this._}function m(t){return(t=g(t))in this._&&delete this._[t]}function b(){var t=[];for(var e in this._)t.push(v(e));return t}function x(){var t=0;for(var e in this._)++t;return t}function S(){for(var t in this._)return!1;return!0}function _(){this._=Object.create(null)}function w(t){return t}function k(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function M(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=Pa.length;n<r;++n){var i=Pa[n]+e;if(i in t)return i}}function P(){}function A(){}function C(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new p;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function O(){da.event.preventDefault()}function E(){for(var t,e=da.event;t=e.sourceEvent;)e=t;return e}function T(t){for(var e=new A,n=0,r=arguments.length;++n<r;)e[arguments[n]]=C(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=da.event;i.target=t,da.event=i,e[i.type].apply(n,r)}finally{da.event=o}}},e}function V(t){return Ca(t,Va),t}function G(t){return"function"==typeof t?t:function(){return Oa(t,this)}}function L(t){return"function"==typeof t?t:function(){return Ea(t,this)}}function D(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=da.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function R(t){return t.trim().replace(/\s+/g," ")}function N(t){return new RegExp("(?:^|\\s+)"+da.requote(t)+"(?:\\s+|$)","g")}function I(t){return(t+"").trim().split(/^|\s+/)}function j(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=I(t).map(H);var i=t.length;return"function"==typeof e?r:n}function H(t){var e=N(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",R(i+" "+t))):n.setAttribute("class",R(i.replace(e," ")))}}function z(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function F(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function Y(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ga&&e.documentElement.namespaceURI===Ga?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=da.ns.qualify(t)).local?n:e}function W(){var t=this.parentNode;t&&t.removeChild(this)}function q(t){return{__data__:t}}function B(t){return function(){return Ta(this,t)}}function U(t){return arguments.length||(t=s),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function Z(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function X(t){return Ca(t,Da),t}function Q(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function K(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,ga(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+da.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=$;s>0&&(t=t.slice(0,s));var l=Ra.get(t);return l&&(t=l,u=J),s?e?i:r:e?P:o}function $(t,e){return function(n){var r=da.event;da.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{da.event=r}}}function J(t,e){var n=$(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function tt(t){var e=".dragsuppress-"+ ++Ia,n="click"+e,r=da.select(a(t)).on("touchmove"+e,O).on("dragstart"+e,O).on("selectstart"+e,O);if(null==Na&&(Na=!("onselectstart"in t)&&M(t.style,"userSelect")),Na){var i=o(t).style,s=i[Na];i[Na]="none"}return function(t){if(r.on(e,null),Na&&(i[Na]=s),t){var o=function(){r.on(n,null)};r.on(n,function(){O(),o()},!0),setTimeout(o,0)}}}function et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(ja<0){var i=a(t);if(i.scrollX||i.scrollY){n=da.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();ja=!(o.f||o.e),n.remove()}}return ja?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function nt(){return da.event.changedTouches[0].identifier}function rt(t){return t>0?1:t<0?-1:0}function it(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ot(t){return t>1?0:t<-1?Fa:Math.acos(t)}function at(t){return t>1?qa:t<-1?-qa:Math.asin(t)}function st(t){return((t=Math.exp(t))-1/t)/2}function ut(t){return((t=Math.exp(t))+1/t)/2}function lt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ct(t){return(t=Math.sin(t/2))*t}function ht(){}function ft(t,e,n){return this instanceof ft?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof ft?new ft(t.h,t.s,t.l):Pt(""+t,At,ft):new ft(t,e,n)}function dt(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a,new _t(i(t+120),i(t),i(t-120))}function pt(t,e,n){return this instanceof pt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof pt?new pt(t.h,t.c,t.l):t instanceof vt?mt(t.l,t.a,t.b):mt((t=Ct((t=da.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new pt(t,e,n)}function gt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new vt(n,Math.cos(t*=Ba)*e,Math.sin(t)*e)}function vt(t,e,n){return this instanceof vt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof vt?new vt(t.l,t.a,t.b):t instanceof pt?gt(t.h,t.c,t.l):Ct((t=_t(t)).r,t.g,t.b):new vt(t,e,n)}function yt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=bt(i)*rs,r=bt(r)*is,o=bt(o)*os,new _t(St(3.2404542*i-1.5371385*r-.4985314*o),St(-.969266*i+1.8760108*r+.041556*o),St(.0556434*i-.2040259*r+1.0572252*o))}function mt(t,e,n){return t>0?new pt(Math.atan2(n,e)*Ua,Math.sqrt(e*e+n*n),t):new pt(NaN,NaN,t)}function bt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function xt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function St(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function _t(t,e,n){return this instanceof _t?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof _t?new _t(t.r,t.g,t.b):Pt(""+t,_t,dt):new _t(t,e,n)}function wt(t){return new _t(t>>16,t>>8&255,255&t)}function kt(t){return wt(t)+""}function Mt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Pt(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Et(i[0]),Et(i[1]),Et(i[2]))}return(o=us.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function At(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new ft(r,i,u)}function Ct(t,e,n){t=Ot(t),e=Ot(e),n=Ot(n);var r=xt((.4124564*t+.3575761*e+.1804375*n)/rs),i=xt((.2126729*t+.7151522*e+.072175*n)/is),o=xt((.0193339*t+.119192*e+.9503041*n)/os);return vt(116*i-16,500*(r-i),200*(i-o))}function Ot(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Et(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Tt(t){return"function"==typeof t?t:function(){return t}}function Vt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Gt(e,n,t,r)}}function Gt(t,e,n,r){function i(){var t,e=u.status;if(!e&&Dt(u)||e>=200&&e<300||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=da.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=da.event;da.event=t;try{a.progress.call(o,u)}finally{da.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ga(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},da.rebind(o,a,"on"),null==r?o:o.get(Lt(r))}function Lt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Dt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Rt(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,n:null};return cs?cs.n=o:ls=o,cs=o,hs||(fs=clearTimeout(fs),hs=1,ds(Nt)),o}function Nt(){var t=It(),e=jt()-t;e>24?(isFinite(e)&&(clearTimeout(fs),fs=setTimeout(Nt,e)),hs=0):(hs=1,ds(Nt))}function It(){for(var t=Date.now(),e=ls;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function jt(){for(var t,e=ls,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ls=e.n;return cs=t,n}function Ht(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zt(t,e){var n=Math.pow(10,3*wa(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:w;return function(t){var n=gs.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],h=n[7],f=n[8],d=n[9],p=1,g="",v="",y=!1,m=!0;switch(f&&(f=+f.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),d){case"n":h=!0,d="g";break;case"%":p=100,v="%",d="f";break;case"p":p=100,v="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":m=!1;case"d":y=!0,f=0;break;case"s":p=-1,d="r"}"$"===u&&(g=i[0],v=i[1]),"r"!=d||f||(d="g"),null!=f&&("g"==d?f=Math.max(1,Math.min(21,f)):"e"!=d&&"f"!=d||(f=Math.max(0,Math.min(20,f)))),d=vs.get(d)||Yt;var b=l&&h;return function(t){var n=v;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var u=da.formatPrefix(t,f);t=u.scale(t),n=u.symbol+v}else t*=p;t=d(t,f);var x,S,_=t.lastIndexOf(".");if(_<0){var w=m?t.lastIndexOf("e"):-1;w<0?(x=t,S=""):(x=t.substring(0,w),S=t.substring(w))}else x=t.substring(0,_),S=e+t.substring(_+1);!l&&h&&(x=o(x,1/0));var k=g.length+x.length+S.length+(b?0:i.length),M=k<c?new Array(k=c-k+1).join(r):"";return b&&(x=o(M+x,M.length?c-S.length:1/0)),i+=g,t=x+S,("<"===a?i+t+M:">"===a?M+i+t:"^"===a?M.substring(0,k>>=1)+i+t+M.substring(k):i+(b?t:M+t))+n}}}function Yt(t){return t+""}function Wt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function qt(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new ms(n-1)),1),n}function o(t,n){return e(t=new ms(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{ms=Wt;var r=new Wt;return r._=t,a(r,e,n)}finally{ms=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=Bt(t);return u.floor=u,u.round=Bt(r),u.ceil=Bt(i),u.offset=Bt(o),u.range=s,t}function Bt(t){return function(e,n){try{ms=Wt;var r=new Wt;return r._=e,t(r,n)._}finally{ms=Date}}}function Ut(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=xs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=C[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&ms!==Wt,a=new(o?Wt:ms);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=O[a in xs?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=S.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){P.lastIndex=0;var r=P.exec(e.slice(n));return r?(t.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,C.c.toString(),e,r)}function u(t,e,r){return n(t,C.x.toString(),e,r)}function l(t,e,r){return n(t,C.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,v=t.shortDays,y=t.months,m=t.shortMonths;e.utc=function(t){function n(t){try{ms=Wt;var e=new ms;return e._=t,r(e)}finally{ms=Date}}var r=e(t);return n.parse=function(t){try{ms=Wt;var e=r.parse(t);return e&&e._}finally{ms=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=de;var b=da.map(),x=Xt(g),S=Qt(g),_=Xt(v),w=Qt(v),k=Xt(y),M=Qt(y),P=Xt(m),A=Qt(m);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var C={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:e(h),d:function(t,e){return Zt(t.getDate(),e,2)},e:function(t,e){return Zt(t.getDate(),e,2)},H:function(t,e){return Zt(t.getHours(),e,2)},I:function(t,e){return Zt(t.getHours()%12||12,e,2)},j:function(t,e){return Zt(1+ys.dayOfYear(t),e,3)},L:function(t,e){return Zt(t.getMilliseconds(),e,3)},m:function(t,e){return Zt(t.getMonth()+1,e,2)},M:function(t,e){return Zt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Zt(t.getSeconds(),e,2)},U:function(t,e){return Zt(ys.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Zt(ys.mondayOfYear(t),e,2)},x:e(f),X:e(d),y:function(t,e){return Zt(t.getFullYear()%100,e,2)},Y:function(t,e){return Zt(t.getFullYear()%1e4,e,4)},Z:he,"%":function(){return"%"}},O={a:r,A:i,b:o,B:a,c:s,d:oe,e:oe,H:se,I:se,j:ae,L:ce,m:ie,M:ue,p:c,S:le,U:$t,w:Kt,W:Jt,x:u,X:l,y:ee,Y:te,Z:ne,"%":fe};return e}function Zt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Xt(t){return new RegExp("^(?:"+t.map(da.requote).join("|")+")","i")}function Qt(t){for(var e=new p,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Kt(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $t(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Jt(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function te(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ee(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+2));return r?(t.y=re(+r[0]),n+r[0].length):-1}function ne(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function re(t){return t+(t>68?1900:2e3)}function ie(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function oe(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ae(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function se(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ue(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function le(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ce(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function he(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=wa(e)/60|0,i=wa(e)%60;return n+Zt(r,"0",2)+Zt(i,"0",2)}function fe(t,e,n){_s.lastIndex=0;var r=_s.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function de(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function pe(){}function ge(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function ve(t,e){t&&Ps.hasOwnProperty(t.type)&&Ps[t.type](t,e)}function ye(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function me(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ye(t[n],e,1);e.polygonEnd()}function be(){function t(t,e){t*=Ba,e=e*Ba/2+Fa/4;var n=t-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,h=i*u+c*Math.cos(s),f=c*a*Math.sin(s);Cs.add(Math.atan2(f,h)),r=t,i=u,o=l}var e,n,r,i,o;Os.point=function(a,s){Os.point=t,r=(e=a)*Ba,i=Math.cos(s=(n=s)*Ba/2+Fa/4),o=Math.sin(s)},Os.lineEnd=function(){t(e,n)}}function xe(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Se(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _e(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function we(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ke(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Me(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Pe(t){return[Math.atan2(t[1],t[0]),at(t[2])]}function Ae(t,e){return wa(t[0]-e[0])<Ha&&wa(t[1]-e[1])<Ha}function Ce(t,e){t*=Ba;var n=Math.cos(e*=Ba);Oe(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Oe(t,e,n){++Es,Vs+=(t-Vs)/Es,Gs+=(e-Gs)/Es,Ls+=(n-Ls)/Es}function Ee(){function t(t,i){t*=Ba;var o=Math.cos(i*=Ba),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);Ts+=l,Ds+=l*(e+(e=a)),Rs+=l*(n+(n=s)),Ns+=l*(r+(r=u)),Oe(e,n,r)}var e,n,r;zs.point=function(i,o){i*=Ba;var a=Math.cos(o*=Ba);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),zs.point=t,Oe(e,n,r)}}function Te(){zs.point=Ce}function Ve(){function t(t,e){t*=Ba;var n=Math.cos(e*=Ba),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,f=Math.sqrt(l*l+c*c+h*h),d=r*a+i*s+o*u,p=f&&-ot(d)/f,g=Math.atan2(f,d);Is+=p*l,js+=p*c,Hs+=p*h,Ts+=g,Ds+=g*(r+(r=a)),Rs+=g*(i+(i=s)),Ns+=g*(o+(o=u)),Oe(r,i,o)}var e,n,r,i,o;zs.point=function(a,s){e=a,n=s,zs.point=t,a*=Ba;var u=Math.cos(s*=Ba);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Oe(r,i,o)},zs.lineEnd=function(){t(e,n),zs.lineEnd=Te,zs.point=Ce}}function Ge(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Le(){return!0}function De(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Ae(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new Ne(n,t,null,!0),l=new Ne(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Ne(r,t,null,!1),l=new Ne(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(e),Re(o),Re(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function Re(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ne(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ie(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){m.point=s,v.lineStart()}function l(){m.point=a,v.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);x.point(n[0],n[1])}function h(){x.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(S||(o.polygonStart(),S=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(je))}var d,p,g,v=e(o),y=i.invert(r[0],r[1]),m={point:a,lineStart:u,lineEnd:l,polygonStart:function(){m.point=c,m.lineStart=h,m.lineEnd=f,d=[],p=[]},polygonEnd:function(){m.point=a,m.lineStart=u,m.lineEnd=l,d=da.merge(d);var t=qe(y,p);d.length?(S||(o.polygonStart(),S=!0),De(d,ze,t,n,o)):t&&(S||(o.polygonStart(),S=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),S&&(o.polygonEnd(),S=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=He(),x=e(b),S=!1;return m}}function je(t){return t.length>1}function He(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:P,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ze(t,e){return((t=t.x)[0]<0?t[1]-qa-Ha:qa-t[1])-((e=e.x)[0]<0?e[1]-qa-Ha:qa-e[1])}function Fe(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Fa:-Fa,u=wa(o-n);wa(u-Fa)<Ha?(t.point(n,r=(r+a)/2>0?qa:-qa),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Fa&&(wa(n-i)<Ha&&(n-=i*Ha),wa(o-s)<Ha&&(o-=s*Ha),r=Ye(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Ye(t,e,n,r){var i,o,a=Math.sin(t-n);return wa(a)>Ha?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function We(t,e,n,r){var i;if(null==t)i=n*qa,r.point(-Fa,i),r.point(0,i),r.point(Fa,i),r.point(Fa,0),r.point(Fa,-i),r.point(0,-i),r.point(-Fa,-i),r.point(-Fa,0),r.point(-Fa,i);else if(wa(t[0]-e[0])>Ha){var o=t[0]<e[0]?Fa:-Fa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function qe(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Cs.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Fa/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0),t=l[v];var y=t[0],m=t[1]/2+Fa/4,b=Math.sin(m),x=Math.cos(m),S=y-f,_=S>=0?1:-1,w=_*S,k=w>Fa,M=p*b;if(Cs.add(Math.atan2(M*_*Math.sin(w),g*x+M*Math.cos(w))),o+=k?S+_*Ya:S,k^f>=n^y>=n){var P=_e(xe(h),xe(t));Me(P);var A=_e(i,P);Me(A);var C=(k^S>=0?-1:1)*at(A[2]);(r>C||r===C&&(P[0]||P[1]))&&(a+=k^S>=0?1:-1)}if(!v++)break;f=y,p=b,g=x,h=t}}return(o<-Ha||o<Ha&&Cs<-Ha)^1&a}function Be(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],g=e(h,f),v=a?g?0:i(h,f):g?i(h+(h<0?Fa:-Fa),f):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(d=r(n,p),(Ae(n,d)||Ae(p,d))&&(p[0]+=Ha,p[1]+=Ha,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=r(p,n),t.point(d[0],d[1])):(d=r(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var y;v&o||!(y=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||n&&Ae(n,p)||t.point(p[0],p[1]),n=p,u=g,o=v},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r=xe(t),i=xe(e),a=[1,0,0],s=_e(r,i),u=Se(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var h=o*u/c,f=-o*l/c,d=_e(a,s),p=ke(a,h),g=ke(s,f);we(p,g);var v=d,y=Se(p,v),m=Se(v,v),b=y*y-m*(Se(p,p)-1);if(!(b<0)){var x=Math.sqrt(b),S=ke(v,(-y-x)/m);if(we(S,p),S=Pe(S),!n)return S;var _,w=t[0],k=e[0],M=t[1],P=e[1];k<w&&(_=w,w=k,k=_);var A=k-w,C=wa(A-Fa)<Ha,O=C||A<Ha;if(!C&&P<M&&(_=M,M=P,P=_),O?C?M+P>0^S[1]<(wa(S[0]-w)<Ha?M:P):M<=S[1]&&S[1]<=P:A>Fa^(w<=S[0]&&S[0]<=k)){var E=ke(v,(-y+x)/m);return we(E,p),[S,Pe(E)]}}}function i(e,n){var r=a?t:Fa-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=wa(o)>Ha,u=xn(t,6*Ba);return Ie(e,n,u,a?[0,-t]:[-Fa,t-Fa])}function Ue(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,h=s.y,f=0,d=1,p=c-u,g=h-l;if(o=t-u,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=n-u,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<d&&(d=o)}if(o=e-l,g||!(o>0)){if(o/=g,g<0){if(o<f)return;o<d&&(d=o)}else if(g>0){if(o>d)return;o>f&&(f=o)}if(o=r-l,g||!(o<0)){if(o/=g,g<0){if(o>d)return;o>f&&(f=o)}else if(g>0){if(o<f)return;o<d&&(d=o)}return f>0&&(i.a={x:u+f*p,y:l+f*g}),d<1&&(i.b={x:u+d*p,y:l+d*g}),i}}}}}}function Ze(t,e,n,r){function i(r,i){return wa(r[0]-t)<Ha?i>0?0:3:wa(r[0]-n)<Ha?i>0?2:1:wa(r[1]-e)<Ha?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=v.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=v[i],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=r?o[1]>r&&it(l,o,t)>0&&++e:o[1]<=r&&it(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,h=0;if(null==o||(c=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==h)}else l.point(s[0],s[1])}function c(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function h(t,e){c(t,e)&&s.point(t,e)}function f(){O.point=p,v&&v.push(y=[]),k=!0,w=!1,S=_=NaN}function d(){g&&(p(m,b),x&&w&&A.rejoin(),g.push(A.buffer())),O.point=h,w&&s.lineEnd()}function p(t,e){t=Math.max(-Ys,Math.min(Ys,t)),e=Math.max(-Ys,Math.min(Ys,e));var n=c(t,e);if(v&&y.push([t,e]),k)m=t,b=e,x=n,k=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&w)s.point(t,e);else{var r={a:{x:S,y:_},b:{x:t,y:e}};C(r)?(w||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),M=!1):n&&(s.lineStart(),s.point(t,e),M=!1)}S=t,_=e,w=n}var g,v,y,m,b,x,S,_,w,k,M,P=s,A=He(),C=Ue(t,e,n,r),O={point:h,lineStart:f,lineEnd:d,polygonStart:function(){s=A,g=[],v=[],M=!0},polygonEnd:function(){s=P,g=da.merge(g);var e=u([t,r]),n=M&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&De(g,o,e,l,s),s.polygonEnd()),g=v=y=null}};return O}}function Xe(t){var e=0,n=Fa/3,r=fn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Fa/180,n=t[1]*Fa/180):[e/Fa*180,n/Fa*180]},i}function Qe(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,at((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ke(){function t(t,e){qs+=i*t-r*e,r=t,i=e}var e,n,r,i;Qs.point=function(o,a){Qs.point=t,e=r=o,n=i=a},Qs.lineEnd=function(){t(e,n)}}function $e(t,e){t<Bs&&(Bs=t),t>Zs&&(Zs=t),e<Us&&(Us=e),e>Xs&&(Xs=e)}function Je(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=tn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=tn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function tn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function en(t,e){Vs+=t,Gs+=e,++Ls}function nn(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Ds+=a*(e+t)/2,Rs+=a*(n+r)/2,Ns+=a,en(e=t,n=r)}var e,n;$s.point=function(r,i){$s.point=t,en(e=r,n=i)}}function rn(){$s.point=en}function on(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Ds+=a*(r+t)/2,Rs+=a*(i+e)/2,Ns+=a,a=i*t-r*e,Is+=a*(r+t),js+=a*(i+e),Hs+=3*a,en(r=t,i=e)}var e,n,r,i;$s.point=function(o,a){$s.point=t,en(e=r=o,n=i=a)},$s.lineEnd=function(){t(e,n)}}function an(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Ya)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:P};return s}function sn(t){function e(t){return(s?r:n)(t)}function n(e){return cn(e,function(n,r){
n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,k.point=o,e.lineStart()}function o(n,r){var o=xe([n,r]),a=t(n,r);i(b,x,m,S,_,w,b=a[0],x=a[1],m=n,S=o[0],_=o[1],w=o[2],s,e),e.point(b,x)}function a(){k.point=n,e.lineEnd()}function u(){r(),k.point=l,k.lineEnd=c}function l(t,e){o(h=t,f=e),d=b,p=x,g=S,v=_,y=w,k.point=o}function c(){i(b,x,m,S,_,w,d,p,h,g,v,y,s,e),k.lineEnd=a,a()}var h,f,d,p,g,v,y,m,b,x,S,_,w,k={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),k.lineStart=u},polygonEnd:function(){e.polygonEnd(),k.lineStart=r}};return k}function i(e,n,r,s,u,l,c,h,f,d,p,g,v,y){var m=c-e,b=h-n,x=m*m+b*b;if(x>4*o&&v--){var S=s+d,_=u+p,w=l+g,k=Math.sqrt(S*S+_*_+w*w),M=Math.asin(w/=k),P=wa(wa(w)-1)<Ha||wa(r-f)<Ha?(r+f)/2:Math.atan2(_,S),A=t(P,M),C=A[0],O=A[1],E=C-e,T=O-n,V=b*E-m*T;(V*V/x>o||wa((m*E+b*T)/x-.5)>.3||s*d+u*p+l*g<a)&&(i(e,n,r,s,u,l,C,O,P,S/=k,_/=k,w,v,y),y.point(C,O),i(C,O,P,S,_,w,c,h,f,d,p,g,v,y))}}var o=.5,a=Math.cos(30*Ba),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function un(t){var e=sn(function(e,n){return t([e*Ua,n*Ua])});return function(t){return dn(e(t))}}function ln(t){this.stream=t}function cn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function hn(t){return fn(function(){return t})()}function fn(t){function e(t){return t=s(t[0]*Ba,t[1]*Ba),[t[0]*f+u,l-t[1]*f]}function n(t){return t=s.invert((t[0]-u)/f,(l-t[1])/f),t&&[t[0]*Ua,t[1]*Ua]}function r(){s=Ge(a=vn(y,m,b),o);var t=o(g,v);return u=d-t[0]*f,l=p+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=sn(function(t,e){return t=o(t,e),[t[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,v=0,y=0,m=0,b=0,x=Fs,S=w,_=null,k=null;return e.stream=function(t){return c&&(c.valid=!1),c=dn(x(a,h(S(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(_=t,Fs):Be((_=+t)*Ba),i()):_},e.clipExtent=function(t){return arguments.length?(k=t,S=t?Ze(t[0][0],t[0][1],t[1][0],t[1][1]):w,i()):k},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ba,v=t[1]%360*Ba,r()):[g*Ua,v*Ua]},e.rotate=function(t){return arguments.length?(y=t[0]%360*Ba,m=t[1]%360*Ba,b=t.length>2?t[2]%360*Ba:0,r()):[y*Ua,m*Ua,b*Ua]},da.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function dn(t){return cn(t,function(e,n){t.point(e*Ba,n*Ba)})}function pn(t,e){return[t,e]}function gn(t,e){return[t>Fa?t-Ya:t<-Fa?t+Ya:t,e]}function vn(t,e,n){return t?e||n?Ge(mn(t),bn(e,n)):mn(t):e||n?bn(e,n):gn}function yn(t){return function(e,n){return e+=t,[e>Fa?e-Ya:e<-Fa?e+Ya:e,n]}}function mn(t){var e=yn(t);return e.invert=yn(-t),e}function bn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),at(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),at(c*r-s*i)]},n}function xn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=Sn(n,i),o=Sn(n,o),(a>0?i<o:i>o)&&(i+=a*Ya)):(i=t+a*Ya,o=t-.5*u);for(var l,c=i;a>0?c>o:c<o;c-=u)s.point((l=Pe([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function Sn(t,e){var n=xe(e);n[0]-=t,Me(n);var r=ot(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ha)%(2*Math.PI)}function _n(t,e,n){var r=da.range(t,e-Ha,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function wn(t,e,n){var r=da.range(t,e-Ha,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function kn(t){return t.source}function Mn(t){return t.target}function Pn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ct(r-e)+i*a*ct(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,r=n*u+e*c,i=n*l+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Ua,Math.atan2(a,Math.sqrt(r*r+i*i))*Ua]}:function(){return[t*Ua,e*Ua]};return p.distance=f,p}function An(){function t(t,i){var o=Math.sin(i*=Ba),a=Math.cos(i),s=wa((t*=Ba)-e),u=Math.cos(s);Js+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;tu.point=function(i,o){e=i*Ba,n=Math.sin(o*=Ba),r=Math.cos(o),tu.point=t},tu.lineEnd=function(){tu.point=tu.lineEnd=P}}function Cn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function On(t,e){function n(t,e){a>0?e<-qa+Ha&&(e=-qa+Ha):e>qa-Ha&&(e=qa-Ha);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Fa/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=rt(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-qa]},n):Tn}function En(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return wa(i)<Ha?pn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-rt(i)*Math.sqrt(t*t+n*n)]},n)}function Tn(t,e){return[t,Math.log(Math.tan(Fa/4+e/2))]}function Vn(t){var e,n=hn(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Fa*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Gn(t,e){return[Math.log(Math.tan(Fa/4+e/2)),-t]}function Ln(t){return t[0]}function Dn(t){return t[1]}function Rn(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&it(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Nn(t,e){return t[0]-e[0]||t[1]-e[1]}function In(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function jn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+f*a,u+f*c]}function Hn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function zn(){ur(this),this.edge=this.site=this.circle=null}function Fn(t){var e=fu.pop()||new zn;return e.site=t,e}function Yn(t){Jn(t),lu.remove(t),fu.push(t),ur(t)}function Wn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Yn(t);for(var u=o;u.circle&&wa(n-u.circle.x)<Ha&&wa(r-u.circle.cy)<Ha;)o=u.P,s.unshift(u),Yn(u),u=o;s.unshift(u),Jn(u);for(var l=a;l.circle&&wa(n-l.circle.x)<Ha&&wa(r-l.circle.cy)<Ha;)a=l.N,s.push(l),Yn(l),l=a;s.push(l),Jn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],or(l.edge,u.site,l.site,i);u=s[0],l=s[h-1],l.edge=rr(u.site,l.site,null,i),$n(u),$n(l)}function qn(t){for(var e,n,r,i,o=t.x,a=t.y,s=lu._;s;)if(r=Bn(s,a)-o,r>Ha)s=s.L;else{if(i=o-Un(s,a),!(i>Ha)){r>-Ha?(e=s.P,n=s):i>-Ha?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Fn(t);if(lu.insert(e,u),e||n){if(e===n)return Jn(e),n=Fn(e.site),lu.insert(u,n),u.edge=n.edge=rr(e.site,u.site),$n(e),void $n(n);if(!n)return void(u.edge=rr(e.site,u.site));Jn(e),Jn(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,v=p.y-h,y=2*(f*v-d*g),m=f*f+d*d,b=g*g+v*v,x={x:(v*m-d*b)/y+c,y:(f*b-g*m)/y+h};or(n.edge,l,p,x),u.edge=rr(l,t,null,x),n.edge=rr(t,p,null,x),$n(e),$n(n)}}function Bn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function Un(t,e){var n=t.N;if(n)return Bn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Zn(t){this.site=t,this.edges=[]}function Xn(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=uu,v=g.length;v--;)if(o=g[v],o&&o.prepare())for(s=o.edges,u=s.length,a=0;a<u;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(wa(r-e)>Ha||wa(i-n)>Ha)&&(s.splice(a,0,new ar(ir(o.site,c,wa(r-h)<Ha&&p-i>Ha?{x:h,y:wa(e-h)<Ha?n:p}:wa(i-p)<Ha&&f-r>Ha?{x:wa(n-p)<Ha?e:f,y:p}:wa(r-f)<Ha&&i-d>Ha?{x:f,y:wa(e-f)<Ha?n:d}:wa(i-d)<Ha&&r-h>Ha?{x:wa(n-d)<Ha?e:h,y:d}:null),o.site,null)),++u)}function Qn(t,e){return e.angle-t.angle}function Kn(){ur(this),this.x=this.y=this.arc=this.site=this.cy=null}function $n(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=o.y-s,f=2*(u*h-l*c);if(!(f>=-za)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,v=(u*p-c*d)/f,h=v+s,y=du.pop()||new Kn;y.arc=t,y.site=i,y.x=g+a,y.y=h+Math.sqrt(g*g+v*v),y.cy=h,t.circle=y;for(var m=null,b=hu._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}hu.insert(m,y),m||(cu=y)}}}}function Jn(t){var e=t.circle;e&&(e.P||(cu=e.N),hu.remove(e),du.push(e),ur(e),t.circle=null)}function tr(t){for(var e,n=su,r=Ue(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!er(e,t)||!r(e)||wa(e.a.x-e.b.x)<Ha&&wa(e.a.y-e.b.y)<Ha)&&(e.a=e.b=null,n.splice(i,1))}function er(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,v=(f+p)/2,y=(d+g)/2;if(g===d){if(v<a||v>=s)return;if(f>p){if(o){if(o.y>=l)return}else o={x:v,y:u};n={x:v,y:l}}else{if(o){if(o.y<u)return}else o={x:v,y:l};n={x:v,y:u}}}else if(r=(f-p)/(g-d),i=y-r*v,r<-1||r>1)if(f>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function nr(t,e){this.l=t,this.r=e,this.a=this.b=null}function rr(t,e,n,r){var i=new nr(t,e);return su.push(i),n&&or(i,t,e,n),r&&or(i,e,t,r),uu[t.i].edges.push(new ar(i,t,e)),uu[e.i].edges.push(new ar(i,e,t)),i}function ir(t,e,n){var r=new nr(t,null);return r.a=e,r.b=n,su.push(r),r}function or(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ar(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function sr(){this._=null}function ur(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function lr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function hr(t){for(;t.L;)t=t.L;return t}function fr(t,e){var n,r,i,o=t.sort(dr).pop();for(su=[],uu=new Array(t.length),lu=new sr,hu=new sr;;)if(i=cu,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(uu[o.i]=new Zn(o),qn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Wn(i.arc)}e&&(tr(e),Xn(e));var a={cells:uu,edges:su};return lu=hu=su=uu=null,a}function dr(t,e){return e.y-t.y||e.x-t.x}function pr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function gr(t){return t.x}function vr(t){return t.y}function yr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function mr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&mr(t,u[0],n,r,a,s),u[1]&&mr(t,u[1],a,r,i,s),u[2]&&mr(t,u[2],n,s,a,o),u[3]&&mr(t,u[3],a,s,i,o)}}function br(t,e,n,r,i,o,a){var s,u=1/0;return function t(l,c,h,f,d){if(!(c>o||h>a||f<r||d<i)){if(p=l.point){var p,g=e-l.x,v=n-l.y,y=g*g+v*v;if(y<u){var m=Math.sqrt(u=y);r=e-m,i=n-m,o=e+m,a=n+m,s=p}}for(var b=l.nodes,x=.5*(c+f),S=.5*(h+d),_=e>=x,w=n>=S,k=w<<1|_,M=k+4;k<M;++k)if(l=b[3&k])switch(3&k){case 0:t(l,c,h,x,S);break;case 1:t(l,x,h,f,S);break;case 2:t(l,c,S,x,d);break;case 3:t(l,x,S,f,d)}}}(t,r,i,o,a),s}function xr(t,e){t=da.rgb(t),e=da.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+Mt(Math.round(n+o*t))+Mt(Math.round(r+a*t))+Mt(Math.round(i+s*t))}}function Sr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=kr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function _r(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wr(t,e){var n,r,i,o=gu.lastIndex=vu.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=gu.exec(t))&&(r=vu.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:_r(n,r)})),o=vu.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function kr(t,e){for(var n,r=da.interpolators.length;--r>=0&&!(n=da.interpolators[r](t,e)););return n}function Mr(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(kr(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function Pr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Ar(t){return function(e){return 1-t(1-e)}}function Cr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Or(t){return t*t}function Er(t){return t*t*t}function Tr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Vr(t){return function(e){return Math.pow(e,t)}}function Gr(t){return 1-Math.cos(t*qa)}function Lr(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Rr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ya*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Ya/e)}}function Nr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Ir(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function jr(t,e){t=da.hcl(t),e=da.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return gt(n+o*t,r+a*t,i+s*t)+""}}function Hr(t,e){t=da.hsl(t),e=da.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return dt(n+o*t,r+a*t,i+s*t)+""}}function zr(t,e){t=da.lab(t),e=da.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return yt(n+o*t,r+a*t,i+s*t)+""}}function Fr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Yr(t){var e=[t.a,t.b],n=[t.c,t.d],r=qr(e),i=Wr(e,n),o=qr(Br(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ua,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ua:0}function Wr(t,e){return t[0]*e[0]+t[1]*e[1]}function qr(t){var e=Math.sqrt(Wr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Br(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ur(t){return t.length?t.pop()+",":""}function Zr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:_r(t[0],e[0])},{i:i-2,x:_r(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Xr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Ur(n)+"rotate(",null,")")-2,x:_r(t,e)})):e&&n.push(Ur(n)+"rotate("+e+")")}function Qr(t,e,n,r){t!==e?r.push({i:n.push(Ur(n)+"skewX(",null,")")-2,x:_r(t,e)}):e&&n.push(Ur(n)+"skewX("+e+")")}function Kr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Ur(n)+"scale(",null,",",null,")");r.push({i:i-4,x:_r(t[0],e[0])},{i:i-2,x:_r(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Ur(n)+"scale("+e+")")}function $r(t,e){var n=[],r=[];return t=da.transform(t),e=da.transform(e),Zr(t.translate,e.translate,n,r),Xr(t.rotate,e.rotate,n,r),Qr(t.skew,e.skew,n,r),Kr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Jr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function ti(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function ei(t){for(var e=t.source,n=t.target,r=ri(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function ni(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ri(t,e){if(t===e)return t;for(var n=ni(t),r=ni(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function ii(t){t.fixed|=2}function oi(t){t.fixed&=-7}function ai(t){t.fixed|=4,t.px=t.x,t.py=t.y}function si(t){t.fixed&=-5}function ui(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(ui(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function li(t,e){return da.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=gi,t}function ci(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function hi(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function fi(t){return t.children}function di(t){return t.value}function pi(t,e){return e.value-t.value}function gi(t){return da.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function vi(t){return t.x}function yi(t){return t.y}function mi(t,e,n){t.y0=e,t.y=n}function bi(t){return da.range(t.length)}function xi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Si(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function _i(t){return t.reduce(wi,0)}function wi(t,e){return t+e[1]}function ki(t,e){return Mi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Mi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Pi(t){return[da.min(t),da.max(t)]}function Ai(t,e){return t.value-e.value}function Ci(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Oi(t,e){t._pack_next=e,e._pack_prev=t}function Ei(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Ti(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,h=-(1/0),f=1/0,d=-(1/0);if(n.forEach(Vi),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(i=n[1],i.x=i.r,i.y=0,e(i),l>2))for(o=n[2],Di(r,i,o),e(o),Ci(r,o),r._pack_prev=o,Ci(o,i),i=r._pack_next,a=3;a<l;a++){Di(r,i,o=n[a]);var p=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Ei(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!Ei(u,o);u=u._pack_prev,v++);p?(g<v||g==v&&i.r<r.r?Oi(r,i=s):Oi(r=u,i),a--):(Ci(r,o),i=o,e(o))}var y=(c+h)/2,m=(f+d)/2,b=0;for(a=0;a<l;a++)o=n[a],o.x-=y,o.y-=m,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Gi)}}function Vi(t){t._pack_next=t._pack_prev=t}function Gi(t){delete t._pack_next,delete t._pack_prev}function Li(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Li(i[o],e,n,r)}function Di(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function Ri(t,e){return t.parent==e.parent?1:2}function Ni(t){var e=t.children;return e.length?e[0]:t.t}function Ii(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ji(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Hi(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function zi(t,e,n){return t.a.parent===e.parent?t.a:n}function Fi(t){return 1+da.max(t,function(t){return t.y})}function Yi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Wi(t){var e=t.children;return e&&e.length?Wi(e[0]):t}function qi(t){var e,n=t.children;return n&&(e=n.length)?qi(n[e-1]):t}function Bi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ui(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Zi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Xi(t){return t.rangeExtent?t.rangeExtent():Zi(t.range())}function Qi(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Ki(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function $i(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Au}function Ji(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=da.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function to(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Ji:Qi,u=r?ti:Jr;return a=i(t,e,u,n),s=i(e,t,u,kr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Fr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return io(t,e)},o.tickFormat=function(e,n){return oo(t,e,n)},o.nice=function(e){return no(t,e),i()},o.copy=function(){return to(t,e,n,r)},i()}function eo(t,e){return da.rebind(t,e,"range","rangeRound","interpolate","clamp")}function no(t,e){return Ki(t,$i(ro(t,e)[2])),Ki(t,$i(ro(t,e)[2])),t}function ro(t,e){null==e&&(e=10);var n=Zi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function io(t,e){return da.range.apply(da,ro(t,e))}function oo(t,e,n){var r=ro(t,e);if(n){var i=gs.exec(n);if(i.shift(),"s"===i[8]){var o=da.formatPrefix(Math.max(wa(r[0]),wa(r[1])));return i[7]||(i[7]="."+ao(o.scale(r[2]))),i[8]="f",n=da.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+so(i[8],r)),n=i.join("")}else n=",."+ao(r[2])+"f";return da.format(n)}function ao(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function so(t,e){var n=ao(e[2]);return t in Cu?Math.abs(n-ao(Math.max(wa(e[0]),wa(e[1]))))+ +("e"!==t):n-2*("%"===t)}function uo(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Ki(r.map(i),n?Math:Eu);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Zi(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var f=1;f<h;f++)a.push(o(l)*f);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var f=h-1;f>0;f--)a.push(o(l)*f);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Ou;arguments.length<2?n=Ou:"function"!=typeof n&&(n=da.format(n));var r=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/o(Math.round(i(t)));return a*e<e-.5&&(a*=e),a<=r?n(t):""}},a.copy=function(){return uo(t.copy(),e,n,r)},eo(a,t)}function lo(t,e,n){function r(e){return t(i(e))}var i=co(e),o=co(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return io(n,t)},r.tickFormat=function(t,e){return oo(n,t,e)},r.nice=function(t){return r.domain(no(n,t))},r.exponent=function(a){return arguments.length?(i=co(e=a),o=co(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return lo(t.copy(),e,n)},eo(r,t)}function co(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ho(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return da.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new p;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return o=r(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return o=r(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=(h-c)/(t.length-s+2*u);return o=r(c+f*u,f),l&&o.reverse(),a=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=Math.floor((h-c)/(t.length-s+2*u));return o=r(c+Math.round((h-c-(t.length-s)*f)/2),f),l&&o.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Zi(e.a[0])},n.copy=function(){return ho(t,e)},n.domain(t)}function fo(t,e){function n(){var n=0,o=e.length;for(i=[];++n<o;)i[n-1]=da.quantile(t,n/o);return r}function r(t){if(!isNaN(t=+t))return e[da.bisect(i,t)]}var i;return r.domain=function(e){return arguments.length?(t=e.map(u).filter(l).sort(s),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return i},r.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?i[n-1]:t[0],n<i.length?i[n]:t[t.length-1]]},r.copy=function(){return fo(t,e)},n()}function po(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return po(t,e,n)},i()}function go(t,e){function n(n){if(n<=n)return e[da.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return go(t,e)},n}function vo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return io(t,e)},e.tickFormat=function(e,n){return oo(t,e,n)},e.copy=function(){return vo(t)},e}function yo(){return 0}function mo(t){return t.innerRadius}function bo(t){return t.outerRadius}function xo(t){return t.startAngle}function So(t){return t.endAngle}function _o(t){return t&&t.padAngle}function wo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function ko(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,v=f-c,y=d-h,m=v*v+y*y,b=n-r,x=c*d-f*h,S=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*m-x*x)),_=(x*y-v*S)/m,w=(-x*v-y*S)/m,k=(x*y+v*S)/m,M=(-x*v+y*S)/m,P=_-p,A=w-g,C=k-p,O=M-g;return P*P+A*A>C*C+O*O&&(_=k,w=M),[[_-u,w-l],[_*n/b,w*n/b]]}function Mo(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,f=e.length,d=Tt(n),p=Tt(r);++h<f;)i.call(this,u=e[h],h)?c.push([+d.call(this,u,h),+p.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Ln,r=Dn,i=Le,o=Po,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Ru.get(t)||Po).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Po(t){return t.length>1?t.join("L"):t+"Z"}function Ao(t){return t.join("L")+"Z"}function Co(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Oo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Eo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function To(t,e){return t.length<4?Po(t):t[1]+Lo(t.slice(1,-1),Do(t,e))}function Vo(t,e){return t.length<3?Ao(t):t[0]+Lo((t.push(t[0]),t),Do([t[t.length-2]].concat(t,[t[1]]),e))}function Go(t,e){return t.length<3?Po(t):t[0]+Lo(t,Do(t,e))}function Lo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Po(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Do(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Ro(t){if(t.length<3)return Po(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Ho(ju,a),",",Ho(ju,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),zo(u,a,s);return t.pop(),u.push("L",r),u.join("")}function No(t){if(t.length<4)return Po(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Ho(ju,o)+","+Ho(ju,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),zo(n,o,a);return n.join("")}function Io(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Ho(ju,a),",",Ho(ju,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),zo(e,a,s);return e.join("")}function jo(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Ro(t)}function Ho(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function zo(t,e,n){t.push("C",Ho(Nu,e),",",Ho(Nu,n),",",Ho(Iu,e),",",Ho(Iu,n),",",Ho(ju,e),",",Ho(ju,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Yo(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Fo(i,o);++e<n;)r[e]=(a+(a=Fo(i=o,o=t[e+1])))/2;return r[e]=a,r}function Wo(t){for(var e,n,r,i,o=[],a=Yo(t),s=-1,u=t.length-1;++s<u;)e=Fo(t[s],t[s+1]),wa(e)<Ha?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function qo(t){
return t.length<3?Po(t):t[0]+Lo(t,Wo(t))}function Bo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-qa,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Uo(t){function e(e){function u(){g.push("M",s(t(y),h),c,l(t(v.reverse()),h),"Z")}for(var f,d,p,g=[],v=[],y=[],m=-1,b=e.length,x=Tt(n),S=Tt(i),_=n===r?function(){return d}:Tt(r),w=i===o?function(){return p}:Tt(o);++m<b;)a.call(this,f=e[m],m)?(v.push([d=+x.call(this,f,m),p=+S.call(this,f,m)]),y.push([+_.call(this,f,m),+w.call(this,f,m)])):v.length&&(u(),v=[],y=[]);return v.length&&u(),g.length?g.join(""):null}var n=Ln,r=Ln,i=0,o=Dn,a=Le,s=Po,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Ru.get(t)||Po).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Zo(t){return t.radius}function Xo(t){return[t.x,t.y]}function Qo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-qa;return[n*Math.cos(r),n*Math.sin(r)]}}function Ko(){return 64}function $o(){return"circle"}function Jo(t){var e=Math.sqrt(t/Fa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ta(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ea(t,e,n){return Ca(t,Bu),t.namespace=e,t.id=n,t}function na(t,e,n,r){var i=t.id,o=t.namespace;return Z(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function ra(t){return null==t&&(t=""),function(){this.textContent=t}}function ia(t){return null==t?"__transition__":"__transition_"+t+"__"}function oa(t,e,n,r,i){function o(t){var e=g.delay;return l.t=e+u,e<=t?a(t-e):void(l.c=a)}function a(n){var i=d.active,o=d[i];o&&(o.timer.c=null,o.timer.t=NaN,--d.count,delete d[i],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var a in d)if(+a<r){var p=d[a];p.timer.c=null,p.timer.t=NaN,--d.count,delete d[a]}l.c=s,Rt(function(){return l.c&&s(n||1)&&(l.c=null,l.t=NaN),1},0,u),d.active=r,g.event&&g.event.start.call(t,t.__data__,e),f=[],g.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&f.push(r)}),h=g.ease,c=g.duration}function s(i){for(var o=i/c,a=h(o),s=f.length;s>0;)f[--s].call(t,a);if(o>=1)return g.event&&g.event.end.call(t,t.__data__,e),--d.count?delete d[r]:delete t[n],1}var u,l,c,h,f,d=t[n]||(t[n]={active:0,count:0}),g=d[r];g||(u=i.time,l=Rt(o,0,u),g=d[r]={tween:new p,time:u,timer:l,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++d.count)}function aa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function sa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function ua(t){return t.toISOString()}function la(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=da.bisect(el,i);return o==el.length?[e.year,ro(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/el[o-1]<el[o]/i?o-1:o]:[il,ro(t,n)[2]]}return r.invert=function(e){return ca(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ca)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ca(+n+1),e).length}var o=r.domain(),a=Zi(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Ki(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ca(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ca(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Zi(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],ca(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return la(t.copy(),e,n)},eo(r,t)}function ca(t){return new Date(t)}function ha(t){return JSON.parse(t.responseText)}function fa(t){var e=va.createRange();return e.selectNode(va.body),e.createContextualFragment(t.responseText)}var da={version:"3.5.17"},pa=[].slice,ga=function(t){return pa.call(t)},va=this.document;if(va)try{ga(va.documentElement.childNodes)[0].nodeType}catch(t){ga=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),va)try{va.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var ya=this.Element.prototype,ma=ya.setAttribute,ba=ya.setAttributeNS,xa=this.CSSStyleDeclaration.prototype,Sa=xa.setProperty;ya.setAttribute=function(t,e){ma.call(this,t,e+"")},ya.setAttributeNS=function(t,e,n){ba.call(this,t,e,n+"")},xa.setProperty=function(t,e,n){Sa.call(this,t,e+"",n)}}da.ascending=s,da.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},da.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},da.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},da.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},da.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)l(n=+t[o])&&(r+=n);else for(;++o<i;)l(n=+e.call(t,t[o],o))&&(r+=n);return r},da.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)l(n=u(t[o]))?r+=n:--a;else for(;++o<i;)l(n=u(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},da.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},da.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)l(n=u(t[o]))&&r.push(n);else for(;++o<i;)l(n=u(e.call(t,t[o],o)))&&r.push(n);if(r.length)return da.quantile(r.sort(s),.5)},da.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,c=0;if(1===arguments.length)for(;++s<i;)l(n=u(t[s]))&&(r=n-o,o+=r/++c,a+=r*(n-o));else for(;++s<i;)l(n=u(e.call(t,t[s],s)))&&(r=n-o,o+=r/++c,a+=r*(n-o));if(c>1)return a/(c-1)},da.deviation=function(){var t=da.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _a=c(s);da.bisectLeft=_a.left,da.bisect=da.bisectRight=_a.right,da.bisector=function(t){return c(1===t.length?function(e,n){return s(t(e),n)}:t)},da.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},da.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},da.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=[e=i,i=t[++n]];return o},da.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=da.min(t,h),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},da.zip=function(){return da.transpose(arguments)},da.keys=function(t){var e=[];for(var n in t)e.push(n);return e},da.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},da.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},da.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var wa=Math.abs;da.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=f(wa(n)),a=-1;if(t*=o,e*=o,n*=o,n<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},da.map=function(t,e){var n=new p;if(t instanceof p)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var ka="__proto__",Ma="\0";d(p,{has:y,get:function(t){return this._[g(t)]},set:function(t,e){return this._[g(t)]=e},remove:m,keys:b,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:v(e),value:this._[e]});return t},size:x,empty:S,forEach:function(t){for(var e in this._)t.call(this,v(e),this._[e])}}),da.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,l,c,h,f=-1,d=a.length,g=o[s++],v=new p;++f<d;)(h=v.get(u=g(l=a[f])))?h.push(l):v.set(u,[l]);return e?(l=e(),c=function(n,r){l.set(n,t(e,r,s))}):(l={},c=function(n,r){l[n]=t(e,r,s)}),v.forEach(c),l}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(da.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},da.set=function(t){var e=new _;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},d(_,{has:y,add:function(t){return this._[g(t+="")]=!0,t},remove:m,values:b,size:x,empty:S,forEach:function(t){for(var e in this._)t.call(this,v(e))}}),da.behavior={},da.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=k(t,e,e[n]);return t};var Pa=["webkit","ms","moz","Moz","o","O"];da.dispatch=function(){for(var t=new A,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},A.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},da.event=null,da.requote=function(t){return t.replace(Aa,"\\$&")};var Aa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ca={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Oa=function(t,e){return e.querySelector(t)},Ea=function(t,e){return e.querySelectorAll(t)},Ta=function(t,e){var n=t.matches||t[M(t,"matchesSelector")];return(Ta=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Oa=function(t,e){return Sizzle(t,e)[0]||null},Ea=Sizzle,Ta=Sizzle.matchesSelector),da.selection=function(){return da.select(va.documentElement)};var Va=da.selection.prototype=[];Va.select=function(t){var e,n,r,i,o=[];t=G(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return V(o)},Va.selectAll=function(t){var e,n,r=[];t=L(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=ga(t.call(n,n.__data__,s,i))),e.parentNode=n);return V(r)};var Ga="http://www.w3.org/1999/xhtml",La={svg:"http://www.w3.org/2000/svg",xhtml:Ga,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};da.ns={prefix:La,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),La.hasOwnProperty(n)?{space:La[n],local:t}:t}},Va.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=da.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Va.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=I(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!N(t[i]).test(e))return!1;return!0}for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Va.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(z(n,t[n],e));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(z(t,e,n))},Va.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},Va.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Va.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Va.append=function(t){return t=Y(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Va.insert=function(t,e){return t=Y(t),e=G(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Va.remove=function(){return this.each(W)},Va.data=function(t,e){function n(t,n){var r,i,o,a=t.length,c=n.length,h=Math.min(a,c),f=new Array(c),d=new Array(c),g=new Array(a);if(e){var v,y=new p,m=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(y.has(v=e.call(i,i.__data__,r))?g[r]=i:y.set(v,i),m[r]=v);for(r=-1;++r<c;)(i=y.get(v=e.call(n,o=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=o):d[r]=q(o),y.set(v,!0);for(r=-1;++r<a;)r in m&&y.get(m[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):d[r]=q(o);for(;r<c;++r)d[r]=q(n[r]);for(;r<a;++r)g[r]=t[r]}d.update=f,d.parentNode=f.parentNode=g.parentNode=t.parentNode,s.push(d),u.push(f),l.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=X([]),u=V([]),l=V([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return u.enter=function(){return s},u.exit=function(){return l},u},Va.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Va.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=B(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return V(i)},Va.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Va.sort=function(t){t=U.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Va.each=function(t){return Z(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Va.call=function(t){var e=ga(arguments);return t.apply(e[0]=this,e),this},Va.empty=function(){return!this.node()},Va.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Va.size=function(){var t=0;return Z(this,function(){++t}),t};var Da=[];da.selection.enter=X,da.selection.enter.prototype=Da,Da.append=Va.append,Da.empty=Va.empty,Da.node=Va.node,Da.call=Va.call,Da.size=Va.size,Da.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return V(a)},Da.insert=function(t,e){return arguments.length<2&&(e=Q(this)),Va.insert.call(this,t,e)},da.select=function(t){var e;return"string"==typeof t?(e=[Oa(t,va)],e.parentNode=va.documentElement):(e=[t],e.parentNode=o(t)),V([e])},da.selectAll=function(t){var e;return"string"==typeof t?(e=ga(Ea(t,va)),e.parentNode=va.documentElement):(e=ga(t),e.parentNode=null),V([e])},Va.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(K(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(K(t,e,n))};var Ra=da.map({mouseenter:"mouseover",mouseleave:"mouseout"});va&&Ra.forEach(function(t){"on"+t in va&&Ra.remove(t)});var Na,Ia=0;da.mouse=function(t){return et(t,E())};var ja=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;da.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=E().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return et(t,r)},da.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){function s(){var t,n,r=e(f,g);r&&(t=r[0]-b[0],n=r[1]-b[1],p|=t|n,b=r,d({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}function u(){e(f,g)&&(y.on(o+v,null).on(a+v,null),m(p),d({type:"dragend"}))}var l,c=this,h=da.event.target.correspondingElement||da.event.target,f=c.parentNode,d=n.of(c,arguments),p=0,g=t(),v=".drag"+(null==g?"":"-"+g),y=da.select(i(h)).on(o+v,s).on(a+v,u),m=tt(h),b=e(f,g);r?(l=r.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],d({type:"dragstart"})}}var n=T(t,"drag","dragstart","dragend"),r=null,i=e(P,da.mouse,a,"mousemove","mouseup"),o=e(nt,da.touch,w,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},da.rebind(t,n,"on")},da.touches=function(t,e){return arguments.length<2&&(e=E().touches),e?ga(e).map(function(e){var n=et(t,e);return n.identifier=e.identifier,n}):[]};var Ha=1e-6,za=Ha*Ha,Fa=Math.PI,Ya=2*Fa,Wa=Ya-Ha,qa=Fa/2,Ba=Fa/180,Ua=180/Fa,Za=Math.SQRT2,Xa=2,Qa=4;da.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,h=u-o,f=c*c+h*h;if(f<za)r=Math.log(l/a)/Za,n=function(t){return[i+t*c,o+t*h,a*Math.exp(Za*t*r)]};else{var d=Math.sqrt(f),p=(l*l-a*a+Qa*f)/(2*a*Xa*d),g=(l*l-a*a-Qa*f)/(2*l*Xa*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-v)/Za,n=function(t){var e=t*r,n=ut(v),s=a/(Xa*d)*(n*lt(Za*e+v)-st(v));return[i+s*c,o+s*h,a*n/ut(Za*e+v)]}}return n.duration=1e3*r,n},da.behavior.zoom=function(){function t(t){t.on(E,h).on($a+".zoom",d).on("dblclick.zoom",p).on(L,f)}function e(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function n(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function r(t){k.k=Math.max(P[0],Math.min(P[1],t))}function i(t,e){e=n(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function o(e,n,o,a){e.__chart__={x:k.x,y:k.y,k:k.k},r(Math.pow(2,a)),i(v=n,o),e=da.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function s(){S&&S.domain(x.range().map(function(t){return(t-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(t){return(t-k.y)/k.k}).map(_.invert))}function u(t){C++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function c(t){--C||(t({type:"zoomend"}),v=null)}function h(){function t(){s=1,i(da.mouse(r),f),l(o)}function n(){h.on(V,null).on(G,null),d(s),c(o)}var r=this,o=D.of(r,arguments),s=0,h=da.select(a(r)).on(V,t).on(G,n),f=e(da.mouse(r)),d=tt(r);qu.call(r),u(o)}function f(){function t(){var t=da.touches(p);return d=k.k,t.forEach(function(t){t.identifier in v&&(v[t.identifier]=e(t))}),t}function n(){var e=da.event.target;da.select(e).on(x,a).on(S,s),_.push(e);for(var n=da.event.changedTouches,r=0,i=n.length;r<i;++r)v[n[r].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(l-b<500){var c=u[0];o(p,c,v[c.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),O()}b=l}else if(u.length>1){var c=u[0],h=u[1],f=c[0]-h[0],d=c[1]-h[1];y=f*f+d*d}}function a(){var t,e,n,o,a=da.touches(p);qu.call(p);for(var s=0,u=a.length;s<u;++s,o=null)if(n=a[s],o=v[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=y&&Math.sqrt(c/y);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(h*d)}b=null,i(t,e),l(g)}function s(){if(da.event.touches.length){for(var e=da.event.changedTouches,n=0,r=e.length;n<r;++n)delete v[e[n].identifier];for(var i in v)return void t()}da.selectAll(_).on(m,null),w.on(E,h).on(L,f),M(),c(g)}var d,p=this,g=D.of(p,arguments),v={},y=0,m=".zoom-"+da.event.changedTouches[0].identifier,x="touchmove"+m,S="touchend"+m,_=[],w=da.select(p),M=tt(p);n(),u(g),w.on(E,null).on(L,n)}function d(){var t=D.of(this,arguments);m?clearTimeout(m):(qu.call(this),g=e(v=y||da.mouse(this)),u(t)),m=setTimeout(function(){m=null,c(t)},50),O(),r(Math.pow(2,.002*Ka())*k.k),i(v,g),l(t)}function p(){var t=da.mouse(this),n=Math.log(k.k)/Math.LN2;o(this,t,e(t),da.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,v,y,m,b,x,S,_,w,k={x:0,y:0,k:1},M=[960,500],P=Ja,A=250,C=0,E="mousedown.zoom",V="mousemove.zoom",G="mouseup.zoom",L="touchstart.zoom",D=T(t,"zoomstart","zoom","zoomend");return $a||($a="onwheel"in va?(Ka=function(){return-da.event.deltaY*(da.event.deltaMode?120:1)},"wheel"):"onmousewheel"in va?(Ka=function(){return da.event.wheelDelta},"mousewheel"):(Ka=function(){return-da.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=D.of(this,arguments),e=k;Yu?da.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=M[0],r=M[1],i=v?v[0]:n/2,o=v?v[1]:r/2,a=da.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,n/k.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=k={x:i-r[0]*s,y:o-r[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=k,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(k={x:+e[0],y:+e[1],k:k.k},s(),t):[k.x,k.y]},t.scale=function(e){return arguments.length?(k={x:k.x,y:k.y,k:null},r(+e),s(),t):k.k},t.scaleExtent=function(e){return arguments.length?(P=null==e?Ja:[+e[0],+e[1]],t):P},t.center=function(e){return arguments.length?(y=e&&[+e[0],+e[1]],t):y},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(S=e,x=e.copy(),k={x:0,y:0,k:1},t):S},t.y=function(e){return arguments.length?(w=e,_=e.copy(),k={x:0,y:0,k:1},t):w},da.rebind(t,D,"on")};var Ka,$a,Ja=[0,1/0];da.color=ht,ht.prototype.toString=function(){return this.rgb()+""},da.hsl=ft;var ts=ft.prototype=new ht;ts.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ft(this.h,this.s,this.l/t)},ts.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ft(this.h,this.s,t*this.l)},ts.rgb=function(){return dt(this.h,this.s,this.l)},da.hcl=pt;var es=pt.prototype=new ht;es.brighter=function(t){return new pt(this.h,this.c,Math.min(100,this.l+ns*(arguments.length?t:1)))},es.darker=function(t){return new pt(this.h,this.c,Math.max(0,this.l-ns*(arguments.length?t:1)))},es.rgb=function(){return gt(this.h,this.c,this.l).rgb()},da.lab=vt;var ns=18,rs=.95047,is=1,os=1.08883,as=vt.prototype=new ht;as.brighter=function(t){return new vt(Math.min(100,this.l+ns*(arguments.length?t:1)),this.a,this.b)},as.darker=function(t){return new vt(Math.max(0,this.l-ns*(arguments.length?t:1)),this.a,this.b)},as.rgb=function(){return yt(this.l,this.a,this.b)},da.rgb=_t;var ss=_t.prototype=new ht;ss.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new _t(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new _t(i,i,i)},ss.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new _t(t*this.r,t*this.g,t*this.b)},ss.hsl=function(){return At(this.r,this.g,this.b)},ss.toString=function(){return"#"+Mt(this.r)+Mt(this.g)+Mt(this.b)};var us=da.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});us.forEach(function(t,e){us.set(t,wt(e))}),da.functor=Tt,da.xhr=Vt(w),da.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Gt(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],l=t.length,c=0,h=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();e&&null==(f=e(f,h++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new _,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},da.csv=da.dsv(",","text/csv"),da.tsv=da.dsv("\t","text/tab-separated-values");var ls,cs,hs,fs,ds=this[M(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};da.timer=function(){Rt.apply(this,arguments)},da.timer.flush=function(){It(),jt()},da.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ps=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(zt);da.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=da.round(t,Ht(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ps[8+n/3]};var gs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,vs=da.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=da.round(t,Ht(t,e))).toFixed(Math.max(0,Math.min(20,Ht(t*(1+1e-15),e))))}}),ys=da.time={},ms=Date;Wt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){bs.setUTCDate.apply(this._,arguments)},setDay:function(){bs.setUTCDay.apply(this._,arguments)},setFullYear:function(){bs.setUTCFullYear.apply(this._,arguments)},setHours:function(){bs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){bs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){bs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){bs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){bs.setUTCSeconds.apply(this._,arguments)},setTime:function(){bs.setTime.apply(this._,arguments)}};var bs=Date.prototype;ys.year=qt(function(t){return t=ys.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ys.years=ys.year.range,ys.years.utc=ys.year.utc.range,ys.day=qt(function(t){var e=new ms(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ys.days=ys.day.range,ys.days.utc=ys.day.utc.range,ys.dayOfYear=function(t){var e=ys.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ys[t]=qt(function(t){return(t=ys.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ys.year(t).getDay();return Math.floor((ys.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ys[t+"s"]=n.range,ys[t+"s"].utc=n.utc.range,ys[t+"OfYear"]=function(t){var n=ys.year(t).getDay();return Math.floor((ys.dayOfYear(t)+(n+e)%7)/7)}}),ys.week=ys.sunday,ys.weeks=ys.sunday.range,ys.weeks.utc=ys.sunday.utc.range,
ys.weekOfYear=ys.sundayOfYear;var xs={"-":"",_:" ",0:"0"},Ss=/^\s*\d+/,_s=/^%/;da.locale=function(t){return{numberFormat:Ft(t),timeFormat:Ut(t)}};var ws=da.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});da.format=ws.numberFormat,da.geo={},pe.prototype={s:0,t:0,add:function(t){ge(t,this.t,ks),ge(ks.s,this.s,this),this.s?this.t+=ks.t:this.s=ks.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ks=new pe;da.geo.stream=function(t,e){t&&Ms.hasOwnProperty(t.type)?Ms[t.type](t,e):ve(t,e)};var Ms={Feature:function(t,e){ve(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ve(n[r].geometry,e)}},Ps={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ye(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ye(n[r],e,0)},Polygon:function(t,e){me(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)me(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ve(n[r],e)}};da.geo.area=function(t){return As=0,da.geo.stream(t,Os),As};var As,Cs=new pe,Os={sphere:function(){As+=4*Fa},point:P,lineStart:P,lineEnd:P,polygonStart:function(){Cs.reset(),Os.lineStart=be},polygonEnd:function(){var t=2*Cs;As+=t<0?4*Fa+t:t,Os.lineStart=Os.lineEnd=Os.point=P}};da.geo.bounds=function(){function t(t,e){b.push(x=[c=t,f=t]),e<h&&(h=e),e>d&&(d=e)}function e(e,n){var r=xe([e*Ba,n*Ba]);if(y){var i=_e(y,r),o=[i[1],-i[0],0],a=_e(o,i);Me(a),a=Pe(a);var u=e-p,l=u>0?1:-1,g=a[0]*Ua*l,v=wa(u)>180;if(v^(l*p<g&&g<l*e)){var m=a[1]*Ua;m>d&&(d=m)}else if(g=(g+360)%360-180,v^(l*p<g&&g<l*e)){var m=-a[1]*Ua;m<h&&(h=m)}else n<h&&(h=n),n>d&&(d=n);v?e<p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(e<c&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);y=r,p=e}function n(){S.point=e}function r(){x[0]=c,x[1]=f,S.point=t,y=null}function i(t,n){if(y){var r=t-p;m+=wa(r)>180?r+(r>0?360:-360):r}else g=t,v=n;Os.point(t,n),e(t,n)}function o(){Os.lineStart()}function a(){i(g,v),Os.lineEnd(),wa(m)>Ha&&(c=-(f=180)),x[0]=c,x[1]=f,y=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,f,d,p,g,v,y,m,b,x,S={point:t,lineStart:n,lineEnd:r,polygonStart:function(){S.point=i,S.lineStart=o,S.lineEnd=a,m=0,Os.polygonStart()},polygonEnd:function(){Os.polygonEnd(),S.point=t,S.lineStart=n,S.lineEnd=r,Cs<0?(c=-(f=180),h=-(d=90)):m>Ha?d=90:m<-Ha&&(h=-90),x[0]=c,x[1]=f}};return function(t){d=f=-(c=h=1/0),b=[],da.geo.stream(t,S);var e=b.length;if(e){b.sort(u);for(var n,r=1,i=b[0],o=[i];r<e;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-(1/0),e=o.length-1,r=0,i=o[e];r<=e;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],f=i[1])}return b=x=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[f,d]]}}(),da.geo.centroid=function(t){Es=Ts=Vs=Gs=Ls=Ds=Rs=Ns=Is=js=Hs=0,da.geo.stream(t,zs);var e=Is,n=js,r=Hs,i=e*e+n*n+r*r;return i<za&&(e=Ds,n=Rs,r=Ns,Ts<Ha&&(e=Vs,n=Gs,r=Ls),i=e*e+n*n+r*r,i<za)?[NaN,NaN]:[Math.atan2(n,e)*Ua,at(r/Math.sqrt(i))*Ua]};var Es,Ts,Vs,Gs,Ls,Ds,Rs,Ns,Is,js,Hs,zs={sphere:P,point:Ce,lineStart:Ee,lineEnd:Te,polygonStart:function(){zs.lineStart=Ve},polygonEnd:function(){zs.lineStart=Ee}},Fs=Ie(Le,Fe,We,[-Fa,-Fa/2]),Ys=1e9;da.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=Ze(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(da.geo.conicEqualArea=function(){return Xe(Qe)}).raw=Qe,da.geo.albers=function(){return da.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},da.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=da.geo.albers(),a=da.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=da.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,r=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+Ha,h+.12*l+Ha],[c-.214*l-Ha,h+.234*l-Ha]]).stream(u).point,i=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+Ha,h+.166*l+Ha],[c-.115*l-Ha,h+.234*l-Ha]]).stream(u).point,t},t.scale(1070)};var Ws,qs,Bs,Us,Zs,Xs,Qs={point:P,lineStart:P,lineEnd:P,polygonStart:function(){qs=0,Qs.lineStart=Ke},polygonEnd:function(){Qs.lineStart=Qs.lineEnd=Qs.point=P,Ws+=wa(qs/2)}},Ks={point:$e,lineStart:P,lineEnd:P,polygonStart:P,polygonEnd:P},$s={point:en,lineStart:nn,lineEnd:rn,polygonStart:function(){$s.lineStart=on},polygonEnd:function(){$s.point=en,$s.lineStart=nn,$s.lineEnd=rn}};da.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),da.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Ws=0,da.geo.stream(t,i(Qs)),Ws},t.centroid=function(t){return Vs=Gs=Ls=Ds=Rs=Ns=Is=js=Hs=0,da.geo.stream(t,i($s)),Hs?[Is/Hs,js/Hs]:Ns?[Ds/Ns,Rs/Ns]:Ls?[Vs/Ls,Gs/Ls]:[NaN,NaN]},t.bounds=function(t){return Zs=Xs=-(Bs=Us=1/0),da.geo.stream(t,i(Ks)),[[Bs,Us],[Zs,Xs]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||un(t):w,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Je:new an(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(da.geo.albersUsa()).context(null)},da.geo.transform=function(t){return{stream:function(e){var n=new ln(e);for(var r in t)n[r]=t[r];return n}}},ln.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},da.geo.projection=hn,da.geo.projectionMutator=fn,(da.geo.equirectangular=function(){return hn(pn)}).raw=pn.invert=pn,da.geo.rotation=function(t){function e(e){return e=t(e[0]*Ba,e[1]*Ba),e[0]*=Ua,e[1]*=Ua,e}return t=vn(t[0]%360*Ba,t[1]*Ba,t.length>2?t[2]*Ba:0),e.invert=function(e){return e=t.invert(e[0]*Ba,e[1]*Ba),e[0]*=Ua,e[1]*=Ua,e},e},gn.invert=pn,da.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=vn(-t[0]*Ba,-t[1]*Ba,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Ua,t[1]*=Ua}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=xn((e=+r)*Ba,i*Ba),t):e},t.precision=function(r){return arguments.length?(n=xn(e*Ba,(i=+r)*Ba),t):i},t.angle(90)},da.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ba,i=t[1]*Ba,o=e[1]*Ba,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},da.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return da.range(Math.ceil(o/v)*v,i,v).map(f).concat(da.range(Math.ceil(l/y)*y,u,y).map(d)).concat(da.range(Math.ceil(r/p)*p,n,p).filter(function(t){return wa(t%v)>Ha}).map(c)).concat(da.range(Math.ceil(s/g)*g,a,g).filter(function(t){return wa(t%y)>Ha}).map(h))}var n,r,i,o,a,s,u,l,c,h,f,d,p=10,g=p,v=90,y=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(i).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(m)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(m)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],y=+e[1],t):[v,y]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(m=+e,c=_n(s,a,90),h=wn(r,n,m),f=_n(l,u,90),d=wn(o,i,m),t):m},t.majorExtent([[-180,-90+Ha],[180,90-Ha]]).minorExtent([[-180,-80-Ha],[180,80+Ha]])},da.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=kn,i=Mn;return t.distance=function(){return da.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},da.geo.interpolate=function(t,e){return Pn(t[0]*Ba,t[1]*Ba,e[0]*Ba,e[1]*Ba)},da.geo.length=function(t){return Js=0,da.geo.stream(t,tu),Js};var Js,tu={sphere:P,point:P,lineStart:An,lineEnd:P,polygonStart:P,polygonEnd:P},eu=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(da.geo.azimuthalEqualArea=function(){return hn(eu)}).raw=eu;var nu=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},w);(da.geo.azimuthalEquidistant=function(){return hn(nu)}).raw=nu,(da.geo.conicConformal=function(){return Xe(On)}).raw=On,(da.geo.conicEquidistant=function(){return Xe(En)}).raw=En;var ru=Cn(function(t){return 1/t},Math.atan);(da.geo.gnomonic=function(){return hn(ru)}).raw=ru,Tn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-qa]},(da.geo.mercator=function(){return Vn(Tn)}).raw=Tn;var iu=Cn(function(){return 1},Math.asin);(da.geo.orthographic=function(){return hn(iu)}).raw=iu;var ou=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(da.geo.stereographic=function(){return hn(ou)}).raw=ou,Gn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-qa]},(da.geo.transverseMercator=function(){var t=Vn(Gn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Gn,da.geom={},da.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Tt(n),o=Tt(r),a=t.length,s=[],u=[];for(e=0;e<a;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Nn),e=0;e<a;e++)u.push([s[e][0],-s[e][1]]);var l=Rn(s),c=Rn(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],d=[];for(e=l.length-1;e>=0;--e)d.push(t[s[l[e]][2]]);for(e=+h;e<c.length-f;++e)d.push(t[s[c[e]][2]]);return d}var n=Ln,r=Dn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},da.geom.polygon=function(t){return Ca(t,au),t};var au=da.geom.polygon.prototype=[];au.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},au.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},au.clip=function(t){for(var e,n,r,i,o,a,s=Hn(t),u=-1,l=this.length-Hn(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],In(a,c,i)?(In(o,c,i)||t.push(jn(o,a,c,i)),t.push(a)):In(o,c,i)&&t.push(jn(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var su,uu,lu,cu,hu,fu=[],du=[];Zn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Qn),e.length},ar.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},sr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=hr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(lr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,cr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,lr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?hr(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,lr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,cr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,lr(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,cr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,lr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,cr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},da.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return fr(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ha)*Ha,y:Math.round(a(t,e)/Ha)*Ha,i:e}})}var r=Ln,i=Dn,o=r,a=i,s=pu;return t?e(t):(e.links=function(t){return fr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return fr(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Qn),u=-1,l=s.length,c=s[l-1].edge,h=c.l===a?c.r:c.l;++u<l;)i=c,o=h,c=s[u].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&pr(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Tt(r=t),e):r},e.y=function(t){return arguments.length?(a=Tt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?pu:t,e):s===pu?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===pu?null:s&&s[1]},e)};var pu=[[-1e6,-1e6],[1e6,1e6]];da.geom.delaunay=function(t){return da.geom.voronoi().triangles(t)},da.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(wa(u-n)+wa(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),h=n>=l,f=r>=c,d=f<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=yr()),h?i=l:s=l,f?a=c:u=c,o(t,e,n,r,i,a,s,u)}var c,h,f,d,p,g,v,y,m,b=Tt(s),x=Tt(u);if(null!=e)g=e,v=n,y=r,m=i;else if(y=m=-(g=v=1/0),h=[],f=[],p=t.length,a)for(d=0;d<p;++d)c=t[d],c.x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>y&&(y=c.x),c.y>m&&(m=c.y),h.push(c.x),f.push(c.y);else for(d=0;d<p;++d){var S=+b(c=t[d],d),_=+x(c,d);S<g&&(g=S),_<v&&(v=_),S>y&&(y=S),_>m&&(m=_),h.push(S),f.push(_)}var w=y-g,k=m-v;w>k?m=v+w:y=g+k;var M=yr();if(M.add=function(t){o(M,t,+b(t,++d),+x(t,d),g,v,y,m)},M.visit=function(t){mr(t,M,g,v,y,m)},M.find=function(t){return br(M,t[0],t[1],g,v,y,m)},d=-1,null==e){for(;++d<p;)o(M,t[d],h[d],f[d],g,v,y,m);--d}else t.forEach(M.add);return h=f=t=c=null,M}var a,s=Ln,u=Dn;return(a=arguments.length)?(s=gr,u=vr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},da.interpolateRgb=xr,da.interpolateObject=Sr,da.interpolateNumber=_r,da.interpolateString=wr;var gu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vu=new RegExp(gu.source,"g");da.interpolate=kr,da.interpolators=[function(t,e){var n=typeof e;return("string"===n?us.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?xr:wr:e instanceof ht?xr:Array.isArray(e)?Mr:"object"===n&&isNaN(e)?Sr:_r)(t,e)}],da.interpolateArray=Mr;var yu=function(){return w},mu=da.map({linear:yu,poly:Vr,quad:function(){return Or},cubic:function(){return Er},sin:function(){return Gr},exp:function(){return Lr},circle:function(){return Dr},elastic:Rr,back:Nr,bounce:function(){return Ir}}),bu=da.map({in:w,out:Ar,"in-out":Cr,"out-in":function(t){return Cr(Ar(t))}});da.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=mu.get(n)||yu,r=bu.get(r)||w,Pr(r(n.apply(null,pa.call(arguments,1))))},da.interpolateHcl=jr,da.interpolateHsl=Hr,da.interpolateLab=zr,da.interpolateRound=Fr,da.transform=function(t){var e=va.createElementNS(da.ns.prefix.svg,"g");return(da.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Yr(n?n.matrix:xu)})(t)},Yr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var xu={a:1,b:0,c:0,d:1,e:0,f:0};da.interpolateTransform=$r,da.layout={},da.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(ei(t[n]));return e}},da.layout.chord=function(){function t(){var t,l,h,f,d,p={},g=[],v=da.range(o),y=[];for(n=[],r=[],t=0,f=-1;++f<o;){for(l=0,d=-1;++d<o;)l+=i[f][d];g.push(l),y.push(da.range(o)),t+=l}for(a&&v.sort(function(t,e){return a(g[t],g[e])}),s&&y.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Ya-c*o)/t,l=0,f=-1;++f<o;){for(h=l,d=-1;++d<o;){var m=v[f],b=y[m][d],x=i[m][b],S=l,_=l+=x*t;p[m+"-"+b]={index:m,subindex:b,startAngle:S,endAngle:_,value:x}}r[m]={index:m,startAngle:h,endAngle:l,value:g[m]},l+=c}for(f=-1;++f<o;)for(d=f-1;++d<o;){var w=p[f+"-"+d],k=p[d+"-"+f];(w.value||k.value)&&n.push(w.value<k.value?{source:k,target:w}:{source:w,target:k})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},da.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(s*s/y<u){if(u<g){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&u<g){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=da.event.x,t.py=da.event.y,u.resume()}var n,r,i,o,a,s,u={},l=da.dispatch("start","tick","end"),c=[1,1],h=.9,f=Su,d=_u,p=-30,g=wu,v=.1,y=.64,m=[],b=[];return u.tick=function(){if((i*=.99)<.005)return n=null,l.end({type:"end",alpha:i=0}),!0;var e,r,u,f,d,g,y,x,S,_=m.length,w=b.length;for(r=0;r<w;++r)u=b[r],f=u.source,d=u.target,x=d.x-f.x,S=d.y-f.y,(g=x*x+S*S)&&(g=i*a[r]*((g=Math.sqrt(g))-o[r])/g,x*=g,S*=g,d.x-=x*(y=f.weight+d.weight?f.weight/(f.weight+d.weight):.5),d.y-=S*y,f.x+=x*(y=1-y),f.y+=S*y);if((y=i*v)&&(x=c[0]/2,S=c[1]/2,r=-1,y))for(;++r<_;)u=m[r],u.x+=(x-u.x)*y,u.y+=(S-u.y)*y;if(p)for(ui(e=da.geom.quadtree(m),i,s),r=-1;++r<_;)(u=m[r]).fixed||e.visit(t(u));for(r=-1;++r<_;)u=m[r],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*h,u.y-=(u.py-(u.py=u.y))*h);l.tick({type:"tick",alpha:i})},u.nodes=function(t){return arguments.length?(m=t,u):m},u.links=function(t){return arguments.length?(b=t,u):b},u.size=function(t){return arguments.length?(c=t,u):c},u.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,u):f},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,u):d},u.friction=function(t){return arguments.length?(h=+t,u):h},u.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,u):p},u.chargeDistance=function(t){return arguments.length?(g=t*t,u):Math.sqrt(g)},u.gravity=function(t){return arguments.length?(v=+t,u):v},u.theta=function(t){return arguments.length?(y=t*t,u):Math.sqrt(y)},u.alpha=function(t){return arguments.length?(t=+t,i?t>0?i=t:(n.c=null,n.t=NaN,n=null,l.end({type:"end",alpha:i=0})):t>0&&(l.start({type:"start",alpha:i=t}),n=Rt(u.tick)),u):i},u.start=function(){function t(t,r){if(!n){for(n=new Array(i),u=0;u<i;++u)n[u]=[];for(u=0;u<l;++u){var o=b[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[e],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][t]))return a;return Math.random()*r}var e,n,r,i=m.length,l=b.length,h=c[0],g=c[1];for(e=0;e<i;++e)(r=m[e]).index=e,r.weight=0;for(e=0;e<l;++e)r=b[e],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<i;++e)r=m[e],isNaN(r.x)&&(r.x=t("x",h)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof f)for(e=0;e<l;++e)o[e]=+f.call(this,b[e],e);else for(e=0;e<l;++e)o[e]=f;if(a=[],"function"==typeof d)for(e=0;e<l;++e)a[e]=+d.call(this,b[e],e);else for(e=0;e<l;++e)a[e]=d;if(s=[],"function"==typeof p)for(e=0;e<i;++e)s[e]=+p.call(this,m[e],e);else for(e=0;e<i;++e)s[e]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return r||(r=da.behavior.drag().origin(w).on("dragstart.force",ii).on("drag.force",e).on("dragend.force",oi)),arguments.length?void this.on("mouseover.force",ai).on("mouseout.force",si).call(r):r},da.rebind(u,l,"on")};var Su=20,_u=1,wu=1/0;da.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return hi(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=pi,n=fi,r=di;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(ci(e,function(t){t.children&&(t.value=0)}),hi(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},da.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=da.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},li(n,r)},da.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-c,f=Math.min(Math.abs(h)/u,+("function"==typeof o?o.apply(this,arguments):o)),d=f*(h<0?-1:1),p=da.sum(l),g=p?(h-u*d)/p:0,v=da.range(u),y=[];return null!=n&&v.sort(n===ku?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),v.forEach(function(t){y[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*g+d,padAngle:f}}),y}var e=Number,n=ku,r=0,i=Ya,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var ku={};da.layout.stack=function(){function t(s,u){if(!(f=s.length))return s;var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=da.permute(l,h),c=da.permute(c,h);var f,d,p,g,v=r.call(t,c,u),y=l[0].length;for(p=0;p<y;++p)for(i.call(t,l[0][p],g=v[p],c[0][p][1]),d=1;d<f;++d)i.call(t,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var e=w,n=bi,r=xi,i=mi,o=vi,a=yi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Mu.get(e)||bi,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Pu.get(e)||xi,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var Mu=da.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Si),o=t.map(_i),a=da.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return da.range(t.length).reverse()},default:bi}),Pu=da.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<f;++n)d[n]-=l;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:xi});da.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),h=i.call(this,c,l,o),o=-1,f=l.length,d=h.length-1,p=e?1:1/f;++o<d;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(d>0)for(o=-1;++o<f;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[da.bisect(h,s,1,d)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,r=Pi,i=ki;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Tt(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Mi(t,e)}:Tt(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},da.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,hi(s,function(t){t.r=+c(t.value)}),hi(s,Ti),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;hi(s,function(t){t.r+=h}),hi(s,Ti),hi(s,function(t){t.r-=h})}return Li(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=da.layout.hierarchy().sort(Ai),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},li(t,n)},da.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),h=c[0],f=e(h);if(hi(f,n),f.parent.m=-f.z,ci(f,r),l)ci(h,o);else{var d=h,p=h,g=h;ci(h,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var v=s(d,p)/2-d.x,y=u[0]/(p.x+s(p,d)/2+v),m=u[1]/(g.depth||1);ci(h,function(t){t.x=(t.x+v)*y,t.y=t.depth*m})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Hi(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],l=i.m,c=o.m,h=a.m,f=u.m;a=Ii(a),i=Ni(i),a&&i;)u=Ni(u),o=Ii(o),o.a=t,r=a.z+h-i.z-l+s(a._,i._),r>0&&(ji(zi(a,t,n),t,r),l+=r,c+=r),h+=a.m,l+=i.m,f+=u.m,c+=o.m;a&&!Ii(o)&&(o.t=a,o.m+=h-c),i&&!Ni(u)&&(u.t=i,u.m+=l-f,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=da.layout.hierarchy().sort(null).value(null),s=Ri,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},li(t,a)},da.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;hi(u,function(t){var e=t.children;e&&e.length?(t.x=Yi(e),t.y=Fi(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Wi(u),h=qi(u),f=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return hi(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(d-f)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=da.layout.hierarchy().sort(null).value(null),n=Ri,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},li(t,e)},da.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],f=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(f,l.dx*l.dy/n.value),c.area=0;(u=f.length)>0;)c.push(a=f[u-1]),c.area+=a.area,"squarify"!==d||(s=r(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){
var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=l[0],o.dy=l[1]):o.dx=o.dy=0,a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=i),i}var a,s=da.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=Bi,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Bi(e):Ui(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ui(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?Bi:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},li(o,s)},da.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=da.random.normal.apply(da,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=da.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},da.scale={};var Au={floor:w,ceil:w};da.scale.linear=function(){return to([0,1],[0,1],kr,!1)};var Cu={s:1,g:1,p:1,r:1,e:1};da.scale.log=function(){return uo(da.scale.linear().domain([0,1]),10,!0,[1,10])};var Ou=da.format(".0e"),Eu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};da.scale.pow=function(){return lo(da.scale.linear(),1,[0,1])},da.scale.sqrt=function(){return da.scale.pow().exponent(.5)},da.scale.ordinal=function(){return ho([],{t:"range",a:[[]]})},da.scale.category10=function(){return da.scale.ordinal().range(Tu)},da.scale.category20=function(){return da.scale.ordinal().range(Vu)},da.scale.category20b=function(){return da.scale.ordinal().range(Gu)},da.scale.category20c=function(){return da.scale.ordinal().range(Lu)};var Tu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(kt),Vu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(kt),Gu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(kt),Lu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(kt);da.scale.quantile=function(){return fo([],[])},da.scale.quantize=function(){return po(0,1,[0,1])},da.scale.threshold=function(){return go([.5],[0,1])},da.scale.identity=function(){return vo([0,1])},da.svg={},da.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-qa,h=s.apply(this,arguments)-qa,f=Math.abs(h-c),d=c>h?0:1;if(l<t&&(p=l,l=t,t=p),f>=Wa)return e(l,d)+(t?e(t,1-d):"")+"Z";var p,g,v,y,m,b,x,S,_,w,k,M,P=0,A=0,C=[];if((y=(+u.apply(this,arguments)||0)/2)&&(v=o===Du?Math.sqrt(t*t+l*l):+o.apply(this,arguments),d||(A*=-1),l&&(A=at(v/l*Math.sin(y))),t&&(P=at(v/t*Math.sin(y)))),l){m=l*Math.cos(c+A),b=l*Math.sin(c+A),x=l*Math.cos(h-A),S=l*Math.sin(h-A);var O=Math.abs(h-c-2*A)<=Fa?0:1;if(A&&wo(m,b,x,S)===d^O){var E=(c+h)/2;m=l*Math.cos(E),b=l*Math.sin(E),x=S=null}}else m=b=0;if(t){_=t*Math.cos(h-P),w=t*Math.sin(h-P),k=t*Math.cos(c+P),M=t*Math.sin(c+P);var T=Math.abs(c-h+2*P)<=Fa?0:1;if(P&&wo(_,w,k,M)===1-d^T){var V=(c+h)/2;_=t*Math.cos(V),w=t*Math.sin(V),k=M=null}}else _=w=0;if(f>Ha&&(p=Math.min(Math.abs(l-t)/2,+i.apply(this,arguments)))>.001){g=t<l^d?0:1;var G=p,L=p;if(f<Fa){var D=null==k?[_,w]:null==x?[m,b]:jn([m,b],[k,M],[x,S],[_,w]),R=m-D[0],N=b-D[1],I=x-D[0],j=S-D[1],H=1/Math.sin(Math.acos((R*I+N*j)/(Math.sqrt(R*R+N*N)*Math.sqrt(I*I+j*j)))/2),z=Math.sqrt(D[0]*D[0]+D[1]*D[1]);L=Math.min(p,(t-z)/(H-1)),G=Math.min(p,(l-z)/(H+1))}if(null!=x){var F=ko(null==k?[_,w]:[k,M],[m,b],l,G,d),Y=ko([x,S],[_,w],l,G,d);p===G?C.push("M",F[0],"A",G,",",G," 0 0,",g," ",F[1],"A",l,",",l," 0 ",1-d^wo(F[1][0],F[1][1],Y[1][0],Y[1][1]),",",d," ",Y[1],"A",G,",",G," 0 0,",g," ",Y[0]):C.push("M",F[0],"A",G,",",G," 0 1,",g," ",Y[0])}else C.push("M",m,",",b);if(null!=k){var W=ko([m,b],[k,M],t,-L,d),q=ko([_,w],null==x?[m,b]:[x,S],t,-L,d);p===L?C.push("L",q[0],"A",L,",",L," 0 0,",g," ",q[1],"A",t,",",t," 0 ",d^wo(q[1][0],q[1][1],W[1][0],W[1][1]),",",1-d," ",W[1],"A",L,",",L," 0 0,",g," ",W[0]):C.push("L",q[0],"A",L,",",L," 0 0,",g," ",W[0])}else C.push("L",_,",",w)}else C.push("M",m,",",b),null!=x&&C.push("A",l,",",l," 0 ",O,",",d," ",x,",",S),C.push("L",_,",",w),null!=k&&C.push("A",t,",",t," 0 ",T,",",1-d," ",k,",",M);return C.push("Z"),C.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=mo,r=bo,i=yo,o=Du,a=xo,s=So,u=_o;return t.innerRadius=function(e){return arguments.length?(n=Tt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Tt(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Tt(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Du?Du:Tt(e),t):o},t.startAngle=function(e){return arguments.length?(a=Tt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Tt(e),t):s},t.padAngle=function(e){return arguments.length?(u=Tt(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-qa;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Du="auto";da.svg.line=function(){return Mo(w)};var Ru=da.map({linear:Po,"linear-closed":Ao,step:Co,"step-before":Oo,"step-after":Eo,basis:Ro,"basis-open":No,"basis-closed":Io,bundle:jo,cardinal:Go,"cardinal-open":To,"cardinal-closed":Vo,monotone:qo});Ru.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Nu=[0,2/3,1/3,0],Iu=[0,1/3,2/3,0],ju=[0,1/6,2/3,1/6];da.svg.line.radial=function(){var t=Mo(Bo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Oo.reverse=Eo,Eo.reverse=Oo,da.svg.area=function(){return Uo(w)},da.svg.area.radial=function(){var t=Uo(Bo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},da.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)-qa,c=l.call(t,i,r)-qa;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Fa)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=kn,a=Mn,s=Zo,u=xo,l=So;return t.radius=function(e){return arguments.length?(s=Tt(e),t):s},t.source=function(e){return arguments.length?(o=Tt(e),t):o},t.target=function(e){return arguments.length?(a=Tt(e),t):a},t.startAngle=function(e){return arguments.length?(u=Tt(e),t):u},t.endAngle=function(e){return arguments.length?(l=Tt(e),t):l},t},da.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=kn,n=Mn,r=Xo;return t.source=function(n){return arguments.length?(e=Tt(n),t):e},t.target=function(e){return arguments.length?(n=Tt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},da.svg.diagonal.radial=function(){var t=da.svg.diagonal(),e=Xo,n=t.projection;return t.projection=function(t){return arguments.length?n(Qo(e=t)):e},t},da.svg.symbol=function(){function t(t,r){return(Hu.get(e.call(this,t,r))||Jo)(n.call(this,t,r))}var e=$o,n=Ko;return t.type=function(n){return arguments.length?(e=Tt(n),t):e},t.size=function(e){return arguments.length?(n=Tt(e),t):n},t};var Hu=da.map({circle:Jo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/zu),n=e*zu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/zu),n=e*zu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});da.svg.symbolTypes=Hu.keys();var zu=Math.sqrt(3),Fu=Math.tan(30*Ba);Va.transition=function(t){for(var e,n,r=Yu||++Uu,i=ia(t),o=[],a=Wu||{time:Date.now(),ease:Tr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&oa(n,c,i,r,a),e.push(n)}return ea(o,i,r)},Va.interrupt=function(t){return this.each(null==t?qu:ta(ia(t)))};var Yu,Wu,qu=ta(ia()),Bu=[],Uu=0;Bu.call=Va.call,Bu.empty=Va.empty,Bu.node=Va.node,Bu.size=Va.size,da.transition=function(t,e){return t&&t.transition?Yu?t.transition(e):t:da.selection().transition(t)},da.transition.prototype=Bu,Bu.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=G(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),oa(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return ea(a,o,i)},Bu.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=L(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(r=h[f]){o=r[s][a],n=t.call(r,r.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&oa(i,p,s,a,o),e.push(i)}return ea(u,s,a)},Bu.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=B(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return ea(i,this.namespace,this.id)},Bu.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):Z(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Bu.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?$r:kr,s=da.ns.qualify(t);return na(this,"attr."+t,e,s.local?o:i)},Bu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=da.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Bu.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=kr(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return na(this,"style."+t,e,i)},Bu.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Bu.text=function(t){return na(this,"text",t,ra)},Bu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Bu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=da.ease.apply(da,arguments)),Z(this,function(r){r[n][e].ease=t}))},Bu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Z(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Bu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Z(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Bu.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Wu,o=Yu;try{Yu=n,Z(this,function(e,i,o){Wu=e[r][n],t.call(e,e.__data__,i,o)})}finally{Wu=i,Yu=o}}else Z(this,function(i){var o=i[r][n];(o.event||(o.event=da.dispatch("start","end","interrupt"))).on(t,e)});return this},Bu.transition=function(){for(var t,e,n,r,i=this.id,o=++Uu,a=this.namespace,s=[],u=0,l=this.length;u<l;u++){s.push(t=[]);for(var e=this[u],c=0,h=e.length;c<h;c++)(n=e[c])&&(r=n[a][i],oa(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return ea(s,a,o)},da.svg.axis=function(){function t(t){t.each(function(){var t,l=da.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),f=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):w:e,p=l.selectAll(".tick").data(f,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ha),v=da.transition(p.exit()).style("opacity",Ha).remove(),y=da.transition(p.order()).style("opacity",1),m=Math.max(i,0)+a,b=Xi(h),x=l.selectAll(".domain").data([0]),S=(x.enter().append("path").attr("class","domain"),da.transition(x));g.append("line"),g.append("text");var _,k,M,P,A=g.select("line"),C=y.select("line"),O=p.select("text").text(d),E=g.select("text"),T=y.select("text"),V="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=aa,_="x",M="y",k="x2",P="y2",O.attr("dy",V<0?"0em":".71em").style("text-anchor","middle"),S.attr("d","M"+b[0]+","+V*o+"V0H"+b[1]+"V"+V*o)):(t=sa,_="y",M="x",k="y2",P="x2",O.attr("dy",".32em").style("text-anchor",V<0?"end":"start"),S.attr("d","M"+V*o+","+b[0]+"H0V"+b[1]+"H"+V*o)),A.attr(P,V*i),E.attr(M,V*m),C.attr(k,0).attr(P,V*i),T.attr(_,0).attr(M,V*m),h.rangeBand){var G=h,L=G.rangeBand()/2;c=h=function(t){return G(t)+L}}else c.rangeBand?c=h:v.call(t,h,c);g.call(t,c,h),y.call(t,h,h)})}var e,n=da.scale.linear(),r=Zu,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Xu?e+"":Zu,t):r},t.ticks=function(){return arguments.length?(s=ga(arguments),t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Zu="bottom",Xu={top:1,right:1,bottom:1,left:1};da.svg.brush=function(){function t(o){o.each(function(){var o=da.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(g,w);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Qu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=da.transition(o),f=da.transition(a);l&&(u=Xi(l),f.attr("x",u[0]).attr("width",u[1]-u[0]),n(h)),c&&(u=Xi(c),f.attr("y",u[0]).attr("height",u[1]-u[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==da.event.keyCode&&(C||(b=null,T[0]-=h[1],T[1]-=f[1],C=2),O())}function g(){32==da.event.keyCode&&2==C&&(T[0]+=h[1],T[1]+=f[1],C=0,O())}function v(){var t=da.mouse(S),i=!1;x&&(t[0]+=x[0],t[1]+=x[1]),C||(da.event.altKey?(b||(b=[(h[0]+h[1])/2,(f[0]+f[1])/2]),T[0]=h[+(t[0]<b[0])],T[1]=f[+(t[1]<b[1])]):b=null),P&&y(t,l,0)&&(n(k),i=!0),A&&y(t,c,1)&&(r(k),i=!0),i&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function y(t,e,n){var r,i,a=Xi(e),u=a[0],l=a[1],c=T[n],g=n?f:h,v=g[1]-g[0];if(C&&(u-=c,l-=v+c),r=(n?p:d)?Math.max(u,Math.min(l,t[n])):t[n],C?i=(r+=c)+v:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),c<r?(i=r,r=c):i=c),g[0]!=r||g[1]!=i)return n?s=null:o=null,g[0]=r,g[1]=i,!0}function m(){v(),k.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),da.select("body").style("cursor",null),V.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),w({type:"brushend"})}var b,x,S=this,_=da.select(da.event.target),w=u.of(S,arguments),k=da.select(S),M=_.datum(),P=!/^(n|s)$/.test(M)&&l,A=!/^(e|w)$/.test(M)&&c,C=_.classed("extent"),E=tt(S),T=da.mouse(S),V=da.select(a(S)).on("keydown.brush",i).on("keyup.brush",g);if(da.event.changedTouches?V.on("touchmove.brush",v).on("touchend.brush",m):V.on("mousemove.brush",v).on("mouseup.brush",m),k.interrupt().selectAll("*").interrupt(),C)T[0]=h[0]-T[0],T[1]=f[0]-T[1];else if(M){var G=+/w$/.test(M),L=+/^n/.test(M);x=[h[1-G]-T[0],f[1-L]-T[1]],T[0]=h[G],T[1]=f[L]}else da.event.altKey&&(b=T.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),da.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),v()}var o,s,u=T(t,"brushstart","brush","brushend"),l=null,c=null,h=[0,0],f=[0,0],d=!0,p=!0,g=Ku[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:f,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Yu?da.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,h=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Mr(h,e.x),r=Mr(f,e.y);return o=s=null,function(i){h=e.x=n(i),f=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=Ku[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=Ku[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(d=!!e[0],p=!!e[1]):l?d=!!e:c&&(p=!!e),t):l&&c?[d,p]:l?d:c?p:null},t.extent=function(e){var n,r,i,a,u;return arguments.length?(l&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),o=[n,r],l.invert&&(n=l(n),r=l(r)),r<n&&(u=n,n=r,r=u),n==h[0]&&r==h[1]||(h=[n,r])),c&&(i=e[0],a=e[1],l&&(i=i[1],a=a[1]),s=[i,a],c.invert&&(i=c(i),a=c(a)),a<i&&(u=i,i=a,a=u),i==f[0]&&a==f[1]||(f=[i,a])),t):(l&&(o?(n=o[0],r=o[1]):(n=h[0],r=h[1],l.invert&&(n=l.invert(n),r=l.invert(r)),r<n&&(u=n,n=r,r=u))),c&&(s?(i=s[0],a=s[1]):(i=f[0],a=f[1],c.invert&&(i=c.invert(i),a=c.invert(a)),a<i&&(u=i,i=a,a=u))),l&&c?[[n,i],[r,a]]:l?[n,r]:c&&[i,a])},t.clear=function(){return t.empty()||(h=[0,0],f=[0,0],o=s=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!c&&f[0]==f[1]},da.rebind(t,u,"on")};var Qu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ku=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],$u=ys.format=ws.timeFormat,Ju=$u.utc,tl=Ju("%Y-%m-%dT%H:%M:%S.%LZ");$u.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ua:tl,ua.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ua.toString=tl.toString,ys.second=qt(function(t){return new ms(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ys.seconds=ys.second.range,ys.seconds.utc=ys.second.utc.range,ys.minute=qt(function(t){return new ms(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ys.minutes=ys.minute.range,ys.minutes.utc=ys.minute.utc.range,ys.hour=qt(function(t){var e=t.getTimezoneOffset()/60;return new ms(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ys.hours=ys.hour.range,ys.hours.utc=ys.hour.utc.range,ys.month=qt(function(t){return t=ys.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ys.months=ys.month.range,ys.months.utc=ys.month.utc.range;var el=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],nl=[[ys.second,1],[ys.second,5],[ys.second,15],[ys.second,30],[ys.minute,1],[ys.minute,5],[ys.minute,15],[ys.minute,30],[ys.hour,1],[ys.hour,3],[ys.hour,6],[ys.hour,12],[ys.day,1],[ys.day,2],[ys.week,1],[ys.month,1],[ys.month,3],[ys.year,1]],rl=$u.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Le]]),il={range:function(t,e,n){return da.range(Math.ceil(t/n)*n,+e,n).map(ca)},floor:w,ceil:w};nl.year=ys.year,ys.scale=function(){return la(da.scale.linear(),nl,rl)};var ol=nl.map(function(t){return[t[0].utc,t[1]]}),al=Ju.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Le]]);ol.year=ys.year.utc,ys.scale.utc=function(){return la(da.scale.linear(),ol,al)},da.text=Vt(function(t){return t.responseText}),da.json=function(t,e){return Gt(t,"application/json",ha,e)},da.html=function(t,e){return Gt(t,"text/html",fa,e)},da.xml=Vt(function(t){return t.responseXML}),this.d3=da,r=da,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){var t=window.location.search.slice(1),e=function(t){return t.split("=")},n=t.split("&").map(e),r={};return n.forEach(function(t){var e=f(t,2),n=e[0],i=e[1];r[n]=i}),r}function o(t,e){var n,r=function(t){return p.utc(t,p.ISO_8601)},i=function(t){return p(t,p.ISO_8601)},o=function(t){var e=t.slice(11);return 10===t.length||"Z"!==t.slice(-1)&&(e.indexOf("+")===-1&&e.indexOf("-")===-1)};return n="string"==typeof t?o(t)?r(t):i(t):p.utc(t),e?n:n.toDate()}function a(){var t,e=arguments,n=e.length>1?e[1]:e[0],r=e.length>1?e[0]:0,i=e.length>2?e[2]:1,o=[];if(0===i)throw new RangeError("range() step argument must not be zero");for(t=r;i>0?t<n:t>n;t+=i)o.push(t);return o}function s(t){for(var e=[],n=1,r=0;n<=t;)e.push([r,Math.min(n,t-r)]),r+=n,n+=n;return e}function u(t,e){g.json(t,function(t){var n=function(t){var e=f(t,2),n=(e[0],e[1]);return n},r=t instanceof Array?t.map(n):[t],i=function(t){return t.data=t.data.map(n)};r.forEach(function(t){return t.series.forEach(i)}),e(r)})}function l(t,e,n,r,i){n=null!=n?n:5,r=(null!=r?r:5)-2;e=i?e:e-2*n;var o=[];return t.each(function(){var t,i=g.select(this),a=i.text().split(/[ ,]+/).reverse(),s=[],u=1.2,l=parseFloat(i.attr("y")),c=parseFloat(i.attr("dy")),h=1;i.style("text-anchor")||"start";isNaN(c)&&(c=0),l=+(null===l?r:l);for(var f=i.text(null).append("tspan").attr("x",n).attr("dy",c+"em");t=a.pop();)s.push(t),f.text(s.join(" ")),f.node().getComputedTextLength()>e&&s.length>1&&(s.pop(),f.text(s.join(" ")),s=[t],f=i.append("tspan").attr("x",n).attr("dy",u+c+"em").text(t),++h);o.push(h)}),o}function c(t){var e=function(t){return t*t},n=function(t){return t.reduce(function(t,e){return t+e},0)},r=function(t){return t[0]*t[1]},i=t.length,o=t.map(function(t){return t[0]}),a=t.map(function(t){return t[1]}),s=n(o),u=n(a),l=n(t.map(r)),c=n(o.map(e)),h=c-e(s)/i,f=l-s*u/i,d=f/h,p=u/i-d*s/i;return[d,p]}function h(t,e,n){var r=c(t),i=f(r,2),o=i[0],a=i[1],s=function(t){return o*t+a},u=function(t){return(t-a)/o},l=f(n,2),h=l[0],d=l[1],p=f(e,2),g=p[0],v=p[1],y=o<0,m={};return m.x1=u(y?d:h),m.x1=m.x1<g?g:m.x1,m.y1=s(m.x1),m.x2=u(y?h:d),m.x2=m.x2>v?v:m.x2,m.y2=s(m.x2),m.slope=o,m}Object.defineProperty(e,"__esModule",{value:!0});var f=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.urlArgs=i,e.parseDate=o,e.range=a,e.geometricBatch=s,e.forReportJSON=u,e.d3textWrap=l,e.trendlineSlopeIntercept=c,e.fittedTrendline=h;var p=n(4),g=n(1),v=window.document,y=v.createElement("style");v.head.appendChild(y);var m=y.sheet;e.styleSheet=m;var b=["#393960","#8AA9C9","#5F9EA0","#9370DB","#4682B4","#2E8B57","#FF7F50","#FFD700","#DA70D6","#008080","#FF1493","#6A5ACD","#708090","#FF6347","#66CDAA","#F08080"];e.DEFAULT_COLORS=b;var x="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",S=function(){return x.replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})};e.uuid4=S;var _=function(){function t(){r(this,t)}return d(t,null,[{key:"upScale8",value:function(t){if(t<0||t>1)throw new RangeError("Color channel ratio value must be between 0-1.");return Math.round(255*t)}},{key:"downScale8",value:function(t){if(t<0||t>255)throw new RangeError("Color channel value must be between 0-255.");return Math.round(t)/255}},{key:"normalizeColor",value:function(t){var e=function(t,e){return new Array(3).join(t)},n=function(t){return e(t[1])+e(t[2])+e(t[3])},r=function(t){return"#"===t[0]};return r(t)?7===t.length?t:"#"+n(t):t}},{key:"rgb",value:function(e){var n=t.normalizeColor(e),r=parseInt(n.slice(1,3),16),i=parseInt(n.slice(3,5),16),o=parseInt(n.slice(5,7),16);return[r,i,o]}},{key:"rgb2hex",value:function(t){var e=function(t){return t.length<2?"0"+t:t},n=function(t){return e(t.toString(16))};return"#"+t.map(n).join("")}},{key:"rgb2hsv",value:function(e,n){var r,i,o,a=t.downScale8,s=e instanceof Array?e:t.rgb(e),u=s.map(a),l=Math.min.apply(null,u),c=Math.max.apply(null,u),h=c-l,d=0===c,p=0===h,g=f(u,3),v=g[0],y=g[1],m=g[2],b=c;return d||p?[0,0,b]:(i=h/b,r=v===c?(y-m)/h:y===c?2+(m-v)/h:4+(v-y)/h,r*=60,r<0&&(r+=360),n?(o=.5*(c+l),i=h/(1-Math.abs(2*o-1)),[r,i,o]):[r,i,b])}},{key:"rgb2hsl",value:function(e){return t.rgb2hsv(e,!0)}},{key:"hsv2rgb",value:function(e,n,r){var i,o,a,s,u,l,c,h,d,p,g=f(e,3),v=g[0],y=g[1],m=g[2],b=m,x=0===m||0===y,S=t.upScale8,_=v/60,w=r?(1-Math.abs(2*b-1))*y:m*y;if(!(e instanceof Array))throw new TypeError("Invalid HSV value, must be Array.");if(n=void 0===n,x)i=m,o=m,a=m;else{switch(h=w*(1-Math.abs(_%2-1)),d=Math.floor(_)){case 0:u=w,l=h,c=0;break;case 1:u=h,l=w,c=0;break;case 2:u=0,l=w,c=h;break;case 3:u=0,l=h,c=w;break;case 4:u=h,l=0,c=w;break;default:u=w,l=0,c=h}p=r?b-.5*w:m-w,i=u+p,o=l+p,a=c+p}return s=[i,o,a].map(S),n?t.rgb2hex(s):s}},{key:"hsl2rgb",value:function(e,n){return t.hsv2rgb(e,n,!0)}},{key:"colorShift",value:function(e,n,r){var i=t.rgb2hsl(e),o=f(i,3),a=o[0],s=o[1],u=o[2],l=r(u);if(n=void 0===n?.2:n,n<0||n>1)throw new RangeError("multipler must be >= 0, <= 1");return t.hsl2rgb([a,s,u+l*n])}},{key:"lighten",value:function(e,n){return t.colorShift(e,n,function(t){return 1-t})}},{key:"darken",value:function(e,n){return t.colorShift(e,n,function(t){return-1*t})}},{key:"isDark",value:function(e){return t.rgb2hsl(e)[2]<.5}},{key:"isLight",value:function(e){return t.rgb2hsl(e)[2]>=.5}}]),t}();e.ColorTool=_},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this.plotter=e,this.data=e.data,this.plotDiv=e.plotDiv,this.plotCore=e.plotCore,this.svg=e.svg,this.xScale=e.xScale,this.yScale=e.yScale,this.enabled=!0}return r(t,[{key:"preRender",value:function(){this.plotCore=this.plotter.plotCore,this.svg=this.plotter.svg,this.plotGroup=this.plotter.plotGroup,this.abovePlotGroup=this.plotter.abovePlotGroup,this.xScale=this.plotter.xScale,this.yScale=this.plotter.yScale,this.margins=this.plotter.margins}},{key:"clear",value:function(){}},{key:"prepare",value:function(){}},{key:"render",value:function(){this.prepare()}},{key:"loadInteractiveFeatures",value:function(){}},{key:"postRender",value:function(){}},{key:"onComplete",value:function(){}},{key:"update",value:function(){this.clear(),this.render()}}]),t}();e.BaseRenderingPlugin=i},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(this,function(){"use strict";function e(){return xr.apply(null,arguments)}function n(t){xr=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){var e;for(e in t)return!1;return!0}function a(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),
t}function f(t,e,n,r){return be(t,e,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(t){return null==t._pf&&(t._pf=d()),t._pf}function g(t){if(null==t._isValid){var e=p(t),n=_r.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function v(t){var e=f(NaN);return null!=t?h(p(e),t):p(e).userInvalidated=!0,e}function y(t,e){var n,r,i;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=p(e)),a(e._locale)||(t._locale=e._locale),wr.length>0)for(n=0;n<wr.length;n++)r=wr[n],i=e[r],a(i)||(t[r]=i);return t}function m(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),kr===!1&&(kr=!0,e.updateOffset(this),kr=!1)}function b(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function _(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&S(t[r])!==S(e[r]))&&a++;return a+o}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,n){var r=!0;return h(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}w(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function M(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Mr[t]||(w(n),Mr[t]=!0)}function P(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t){var e,n;for(n in t)e=t[n],P(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(t,e){var n,r=h({},t);for(n in e)c(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},h(r[n],t[n]),h(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)c(t,n)&&!c(e,n)&&i(t[n])&&(r[n]=h({},r[n]));return r}function O(t){null!=t&&this.set(t)}function E(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return P(r)?r.call(e,n):r}function T(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function V(){return this._invalidDate}function G(t){return this._ordinal.replace("%d",t)}function L(t,e,n,r){var i=this._relativeTime[n];return P(i)?i(t,e,n,r):i.replace(/%d/i,t)}function D(t,e){var n=this._relativeTime[t>0?"future":"past"];return P(n)?n(e):n.replace(/%s/i,e)}function R(t,e){var n=t.toLowerCase();Dr[n]=Dr[n+"s"]=Dr[e]=t}function N(t){return"string"==typeof t?Dr[t]||Dr[t.toLowerCase()]:void 0}function I(t){var e,n,r={};for(n in t)c(t,n)&&(e=N(n),e&&(r[e]=t[n]));return r}function j(t,e){Rr[t]=e}function H(t){var e=[];for(var n in t)e.push({unit:n,priority:Rr[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function z(t,n){return function(r){return null!=r?(Y(this,t,r),e.updateOffset(this,n),this):F(this,t)}}function F(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Y(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function W(t){return t=N(t),P(this[t])?this[t]():this}function q(t,e){if("object"==typeof t){t=I(t);for(var n=H(t),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(t=N(t),P(this[t]))return this[t](e);return this}function B(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function U(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Hr[t]=i),e&&(Hr[e[0]]=function(){return B(i.apply(this,arguments),e[1],e[2])}),n&&(Hr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function X(t){var e,n,r=t.match(Nr);for(e=0,n=r.length;e<n;e++)Hr[r[e]]?r[e]=Hr[r[e]]:r[e]=Z(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=P(r[i])?r[i].call(e,t):r[i];return o}}function Q(t,e){return t.isValid()?(e=K(e,t.localeData()),jr[e]=jr[e]||X(e),jr[e](t)):t.localeData().invalidDate()}function K(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Ir.lastIndex=0;r>=0&&Ir.test(t);)t=t.replace(Ir,n),Ir.lastIndex=0,r-=1;return t}function $(t,e,n){ii[t]=P(e)?e:function(t,r){return t&&n?n:e}}function J(t,e){return c(ii,t)?ii[t](e._strict,e._locale):new RegExp(tt(t))}function tt(t){return et(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),s(e)&&(r=function(t,n){n[e]=S(t)}),n=0;n<t.length;n++)oi[t[n]]=r}function rt(t,e){nt(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function it(t,e,n){null!=e&&c(oi,t)&&oi[t](e,n._a,n,t)}function ot(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function at(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||vi).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone}function st(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[vi.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(i=gi.call(this._shortMonthsParse,a),i!==-1?i:null):(i=gi.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===e?(i=gi.call(this._shortMonthsParse,a),i!==-1?i:(i=gi.call(this._longMonthsParse,a),i!==-1?i:null)):(i=gi.call(this._longMonthsParse,a),i!==-1?i:(i=gi.call(this._shortMonthsParse,a),i!==-1?i:null))}function lt(t,e,n){var r,i,o;if(this._monthsParseExact)return ut.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function ct(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(e=t.localeData().monthsParse(e),!s(e))return t;return n=Math.min(t.date(),ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ht(t){return null!=t?(ct(this,t),e.updateOffset(this,!0),this):F(this,"Month")}function ft(){return ot(this.year(),this.month())}function dt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||gt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=bi),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||gt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=xi),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function gt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=et(r[e]),i[e]=et(i[e]);for(e=0;e<24;e++)o[e]=et(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(t){return yt(t)?366:365}function yt(t){return t%4===0&&t%100!==0||t%400===0}function mt(){return yt(this.year())}function bt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function xt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function St(t,e,n){var r=7+e-n,i=(7+xt(t,0,r).getUTCDay()-e)%7;return-i+r-1}function _t(t,e,n,r,i){var o,a,s=(7+n-r)%7,u=St(t,r,i),l=1+7*(e-1)+s+u;return l<=0?(o=t-1,a=vt(o)+l):l>vt(t)?(o=t+1,a=l-vt(t)):(o=t,a=l),{year:o,dayOfYear:a}}function wt(t,e,n){var r,i,o=St(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(i=t.year()-1,r=a+kt(i,e,n)):a>kt(t.year(),e,n)?(r=a-kt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function kt(t,e,n){var r=St(t,e,n),i=St(t+1,e,n);return(vt(t)-r+i)/7}function Mt(t){return wt(t,this._week.dow,this._week.doy).week}function Pt(){return this._week.dow}function At(){return this._week.doy}function Ct(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ot(t){var e=wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Et(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Tt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Vt(t,e){return t?r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone}function Gt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Lt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Dt(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(i=gi.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===e?(i=gi.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=gi.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===e?(i=gi.call(this._weekdaysParse,a),i!==-1?i:(i=gi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=gi.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===e?(i=gi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=gi.call(this._weekdaysParse,a),i!==-1?i:(i=gi.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=gi.call(this._minWeekdaysParse,a),i!==-1?i:(i=gi.call(this._weekdaysParse,a),i!==-1?i:(i=gi.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Rt(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Dt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Nt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Et(t,this.localeData()),this.add(t-e,"d")):e}function It(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function jt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Tt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ht(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Pi),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function zt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ai),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ft(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ci),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],l=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(t),s.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)s[e]=et(s[e]),u[e]=et(u[e]),l[e]=et(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Wt(){return this.hours()%12||12}function qt(){return this.hours()||24}function Bt(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ut(t,e){return e._meridiemParse}function Zt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,n,r,i,o=0;o<t.length;){for(i=Qt(t[o]).split("-"),e=i.length,n=Qt(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=$t(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&_(i,n,!0)>=e-1)break;e--}o++}return null}function $t(e){var n=null;if(!Gi[e]&&"undefined"!=typeof t&&t&&t.exports)try{n=Oi._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),Jt(n)}catch(t){}return Gi[e]}function Jt(t,e){var n;return t&&(n=a(e)?ne(t):te(t,e),n&&(Oi=n)),Oi._abbr}function te(t,e){if(null!==e){var n=Vi;if(e.abbr=t,null!=Gi[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Gi[t]._config;else if(null!=e.parentLocale){if(null==Gi[e.parentLocale])return Li[e.parentLocale]||(Li[e.parentLocale]=[]),Li[e.parentLocale].push({name:t,config:e}),null;n=Gi[e.parentLocale]._config}return Gi[t]=new O(C(n,e)),Li[t]&&Li[t].forEach(function(t){te(t.name,t.config)}),Jt(t),Gi[t]}return delete Gi[t],null}function ee(t,e){if(null!=e){var n,r=Vi;null!=Gi[t]&&(r=Gi[t]._config),e=C(r,e),n=new O(e),n.parentLocale=Gi[t],Gi[t]=n,Jt(t)}else null!=Gi[t]&&(null!=Gi[t].parentLocale?Gi[t]=Gi[t].parentLocale:null!=Gi[t]&&delete Gi[t]);return Gi[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Oi;if(!r(t)){if(e=$t(t))return e;t=[t]}return Kt(t)}function re(){return Cr(Gi)}function ie(t){var e,n=t._a;return n&&p(t).overflow===-2&&(e=n[si]<0||n[si]>11?si:n[ui]<1||n[ui]>ot(n[ai],n[si])?ui:n[li]<0||n[li]>24||24===n[li]&&(0!==n[ci]||0!==n[hi]||0!==n[fi])?li:n[ci]<0||n[ci]>59?ci:n[hi]<0||n[hi]>59?hi:n[fi]<0||n[fi]>999?fi:-1,p(t)._overflowDayOfYear&&(e<ai||e>ui)&&(e=ui),p(t)._overflowWeeks&&e===-1&&(e=di),p(t)._overflowWeekday&&e===-1&&(e=pi),p(t).overflow=e),t}function oe(t){var e,n,r,i,o,a,s=t._i,u=Di.exec(s)||Ri.exec(s);if(u){for(p(t).iso=!0,e=0,n=Ii.length;e<n;e++)if(Ii[e][1].exec(u[1])){i=Ii[e][0],r=Ii[e][2]!==!1;break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=ji.length;e<n;e++)if(ji[e][1].exec(u[3])){o=(u[2]||" ")+ji[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Ni.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),fe(t)}else t._isValid=!1}function ae(t){var e,n,r,i,o,a,s,u,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=zi.exec(e)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var h=new Date(n[2]),f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][h.getDay()];if(n[1].substr(0,3)!==f)return p(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:0===u?s=" +0000":(u=c.indexOf(n[5][1].toUpperCase())-12,s=(u<0?" -":" +")+(""+u).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=l[n[5]];break;default:s=l[" GMT"]}n[5]=s,t._i=n.splice(1).join(""),a=" ZZ",t._f=r+i+o+a,fe(t),p(t).rfc2822=!0}else t._isValid=!1}function se(t){var n=Hi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(oe(t),void(t._isValid===!1&&(delete t._isValid,ae(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function ue(t,e,n){return null!=t?t:null!=e?e:n}function le(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ce(t){var e,n,r,i,o=[];if(!t._d){for(r=le(t),t._w&&null==t._a[ui]&&null==t._a[si]&&he(t),null!=t._dayOfYear&&(i=ue(t._a[ai],r[ai]),(t._dayOfYear>vt(i)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=xt(i,0,t._dayOfYear),t._a[si]=n.getUTCMonth(),t._a[ui]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[li]&&0===t._a[ci]&&0===t._a[hi]&&0===t._a[fi]&&(t._nextDay=!0,t._a[li]=0),t._d=(t._useUTC?xt:bt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[li]=24)}}function he(t){var e,n,r,i,o,a,s,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=ue(e.GG,t._a[ai],wt(xe(),1,4).year),r=ue(e.W,1),i=ue(e.E,1),(i<1||i>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=wt(xe(),o,a);n=ue(e.gg,t._a[ai],l.year),r=ue(e.w,l.week),null!=e.d?(i=e.d,(i<0||i>6)&&(u=!0)):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o}r<1||r>kt(n,o,a)?p(t)._overflowWeeks=!0:null!=u?p(t)._overflowWeekday=!0:(s=_t(n,r,i,o,a),t._a[ai]=s.year,t._dayOfYear=s.dayOfYear)}function fe(t){if(t._f===e.ISO_8601)return void oe(t);if(t._f===e.RFC_2822)return void ae(t);t._a=[],p(t).empty=!0;var n,r,i,o,a,s=""+t._i,u=s.length,l=0;for(i=K(t._f,t._locale).match(Nr)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(J(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),l+=r.length),Hr[o]?(r?p(t).empty=!1:p(t).unusedTokens.push(o),it(o,r,t)):t._strict&&!r&&p(t).unusedTokens.push(o);p(t).charsLeftOver=u-l,s.length>0&&p(t).unusedInput.push(s),t._a[li]<=12&&p(t).bigHour===!0&&t._a[li]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[li]=de(t._locale,t._a[li],t._meridiem),ce(t),ie(t)}function de(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function pe(t){var e,n,r,i,o;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],fe(e),g(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==r||o<r)&&(r=o,n=e));h(t,n||e)}function ge(t){if(!t._d){var e=I(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ce(t)}}function ve(t){var e=new m(ie(ye(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ye(t){var e=t._i,n=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),b(e)?new m(ie(e)):(u(e)?t._d=e:r(n)?pe(t):n?fe(t):me(t),g(t)||(t._d=null),t))}function me(t){var n=t._i;a(n)?t._d=new Date(e.now()):u(n)?t._d=new Date(n.valueOf()):"string"==typeof n?se(t):r(n)?(t._a=l(n.slice(0),function(t){return parseInt(t,10)}),ce(t)):i(n)?ge(t):s(n)?t._d=new Date(n):e.createFromInputFallback(t)}function be(t,e,n,a,s){var u={};return n!==!0&&n!==!1||(a=n,n=void 0),(i(t)&&o(t)||r(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=t,u._f=e,u._strict=a,ve(u)}function xe(t,e,n,r){return be(t,e,n,r,!1)}function Se(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return xe();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function _e(){var t=[].slice.call(arguments,0);return Se("isBefore",t)}function we(){var t=[].slice.call(arguments,0);return Se("isAfter",t)}function ke(t){for(var e in t)if(qi.indexOf(e)===-1||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<qi.length;++r)if(t[qi[r]]){if(n)return!1;parseFloat(t[qi[r]])!==S(t[qi[r]])&&(n=!0)}return!0}function Me(){return this._isValid}function Pe(){return qe(NaN)}function Ae(t){var e=I(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=ke(e),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ne(),this._bubble()}function Ce(t){return t instanceof Ae}function Oe(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Ee(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+B(~~(t/60),2)+e+B(~~t%60,2)})}function Te(t,e){var n=(e||"").match(t);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Bi)||["-",0,0],o=+(60*i[1])+S(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Ve(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(b(t)||u(t)?t.valueOf():xe(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):xe(t).local()}function Ge(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Le(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Te(ei,t),null===t)return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=Ge(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?Qe(this,qe(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ge(this)}function De(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Re(t){return this.utcOffset(0,t)}function Ne(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ge(this),"m")),this}function Ie(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Te(ti,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function je(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function He(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ze(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),t=ye(t),t._a){var e=t._isUTC?f(t._a):xe(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Fe(){return!!this.isValid()&&!this._isUTC}function Ye(){return!!this.isValid()&&this._isUTC}function We(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function qe(t,e){var n,r,i,o=t,a=null;return Ce(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Ui.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:S(a[ui])*n,h:S(a[li])*n,m:S(a[ci])*n,s:S(a[hi])*n,ms:S(Oe(1e3*a[fi]))*n}):(a=Zi.exec(t))?(n="-"===a[1]?-1:1,o={y:Be(a[2],n),M:Be(a[3],n),w:Be(a[4],n),d:Be(a[5],n),h:Be(a[6],n),m:Be(a[7],n),s:Be(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Ze(xe(o.from),xe(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Ae(o),Ce(t)&&c(t,"_locale")&&(r._locale=t._locale),r}function Be(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ue(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ze(t,e){var n;return t.isValid()&&e.isValid()?(e=Ve(e,t),t.isBefore(e)?n=Ue(t,e):(n=Ue(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Xe(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=qe(n,r),Qe(this,i,t),this}}function Qe(t,n,r,i){var o=n._milliseconds,a=Oe(n._days),s=Oe(n._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&Y(t,"Date",F(t,"Date")+a*r),s&&ct(t,F(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function Ke(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $e(t,n){var r=t||xe(),i=Ve(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(P(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,xe(r)))}function Je(){return new m(this)}function tn(t,e){var n=b(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&(e=N(a(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function en(t,e){var n=b(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&(e=N(a(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function nn(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function rn(t,e){var n,r=b(t)?t:xe(t);return!(!this.isValid()||!r.isValid())&&(e=N(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function on(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function an(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function sn(t,e,n){var r,i,o,a;return this.isValid()?(r=Ve(t,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),e=N(e),"year"===e||"month"===e||"quarter"===e?(a=un(this,r),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-r,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-i)/864e5:"week"===e?(o-i)/6048e5:o),n?a:x(a)):NaN):NaN}function un(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return e-o<0?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)||0}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?Q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(Date.prototype.toISOString)?this.toDate().toISOString():Q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function hn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+r+i+o)}function fn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Q(this,t);return this.localeData().postformat(n)}function dn(t,e){return this.isValid()&&(b(t)&&t.isValid()||xe(t).isValid())?qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pn(t){return this.from(xe(),t)}function gn(t,e){return this.isValid()&&(b(t)&&t.isValid()||xe(t).isValid())?qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function vn(t){return this.to(xe(),t)}function yn(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function mn(){return this._locale}function bn(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function xn(t){return t=N(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Sn(){return this._d.valueOf()-6e4*(this._offset||0)}function _n(){return Math.floor(this.valueOf()/1e3)}function wn(){return new Date(this.valueOf())}function kn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Mn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Pn(){return this.isValid()?this.toISOString():null}function An(){return g(this)}function Cn(){return h({},p(this))}function On(){return p(this).overflow}function En(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Tn(t,e){U(0,[t,t.length],0,e)}function Vn(t){return Rn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gn(t){return Rn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ln(){return kt(this.year(),1,4)}function Dn(){var t=this.localeData()._week;return kt(this.year(),t.dow,t.doy)}function Rn(t,e,n,r,i){var o;return null==t?wt(this,r,i).year:(o=kt(t,r,i),e>o&&(e=o),Nn.call(this,t,e,n,r,i))}function Nn(t,e,n,r,i){var o=_t(t,e,n,r,i),a=xt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function In(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3);
}function jn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Hn(t,e){e[fi]=S(1e3*("0."+t))}function zn(){return this._isUTC?"UTC":""}function Fn(){return this._isUTC?"Coordinated Universal Time":""}function Yn(t){return xe(1e3*t)}function Wn(){return xe.apply(null,arguments).parseZone()}function qn(t){return t}function Bn(t,e,n,r){var i=ne(),o=f().set(r,e);return i[n](o,t)}function Un(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return Bn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Bn(t,r,n,"month");return i}function Zn(t,e,n,r){"boolean"==typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var i=ne(),o=t?i._week.dow:0;if(null!=n)return Bn(e,(n+o)%7,r,"day");var a,u=[];for(a=0;a<7;a++)u[a]=Bn(e,(a+o)%7,r,"day");return u}function Xn(t,e){return Un(t,e,"months")}function Qn(t,e){return Un(t,e,"monthsShort")}function Kn(t,e,n){return Zn(t,e,n,"weekdays")}function $n(t,e,n){return Zn(t,e,n,"weekdaysShort")}function Jn(t,e,n){return Zn(t,e,n,"weekdaysMin")}function tr(){var t=this._data;return this._milliseconds=oo(this._milliseconds),this._days=oo(this._days),this._months=oo(this._months),t.milliseconds=oo(t.milliseconds),t.seconds=oo(t.seconds),t.minutes=oo(t.minutes),t.hours=oo(t.hours),t.months=oo(t.months),t.years=oo(t.years),this}function er(t,e,n,r){var i=qe(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function nr(t,e){return er(this,t,e,1)}function rr(t,e){return er(this,t,e,-1)}function ir(t){return t<0?Math.floor(t):Math.ceil(t)}function or(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ir(sr(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=x(o/1e3),u.seconds=t%60,e=x(t/60),u.minutes=e%60,n=x(e/60),u.hours=n%24,a+=x(n/24),i=x(ar(a)),s+=i,a-=ir(sr(i)),r=x(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function ar(t){return 4800*t/146097}function sr(t){return 146097*t/4800}function ur(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=N(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+ar(e),"month"===t?n:n/12;switch(e=this._days+Math.round(sr(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function lr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN}function cr(t){return function(){return this.as(t)}}function hr(t){return t=N(t),this.isValid()?this[t+"s"]():NaN}function fr(t){return function(){return this.isValid()?this._data[t]:NaN}}function dr(){return x(this.days()/7)}function pr(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function gr(t,e,n){var r=qe(t).abs(),i=_o(r.as("s")),o=_o(r.as("m")),a=_o(r.as("h")),s=_o(r.as("d")),u=_o(r.as("M")),l=_o(r.as("y")),c=i<=wo.ss&&["s",i]||i<wo.s&&["ss",i]||o<=1&&["m"]||o<wo.m&&["mm",o]||a<=1&&["h"]||a<wo.h&&["hh",a]||s<=1&&["d"]||s<wo.d&&["dd",s]||u<=1&&["M"]||u<wo.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,pr.apply(null,c)}function vr(t){return void 0===t?_o:"function"==typeof t&&(_o=t,!0)}function yr(t,e){return void 0!==wo[t]&&(void 0===e?wo[t]:(wo[t]=e,"s"===t&&(wo.ss=e-1),!0))}function mr(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=gr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function br(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r=ko(this._milliseconds)/1e3,i=ko(this._days),o=ko(this._months);t=x(r/60),e=x(t/60),r%=60,t%=60,n=x(o/12),o%=12;var a=n,s=o,u=i,l=e,c=t,h=r,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var xr,Sr;Sr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var _r=Sr,wr=e.momentProperties=[],kr=!1,Mr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Pr;Pr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var Ar,Cr=Pr,Or={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Er={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Tr="Invalid date",Vr="%d",Gr=/\d{1,2}/,Lr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Dr={},Rr={},Nr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ir=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jr={},Hr={},zr=/\d/,Fr=/\d\d/,Yr=/\d{3}/,Wr=/\d{4}/,qr=/[+-]?\d{6}/,Br=/\d\d?/,Ur=/\d\d\d\d?/,Zr=/\d\d\d\d\d\d?/,Xr=/\d{1,3}/,Qr=/\d{1,4}/,Kr=/[+-]?\d{1,6}/,$r=/\d+/,Jr=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ei=/Z|[+-]\d\d(?::?\d\d)?/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ii={},oi={},ai=0,si=1,ui=2,li=3,ci=4,hi=5,fi=6,di=7,pi=8;Ar=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var gi=Ar;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),R("month","M"),j("month",8),$("M",Br),$("MM",Br,Fr),$("MMM",function(t,e){return e.monthsShortRegex(t)}),$("MMMM",function(t,e){return e.monthsRegex(t)}),nt(["M","MM"],function(t,e){e[si]=S(t)-1}),nt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[si]=i:p(n).invalidMonth=t});var vi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),bi=ri,xi=ri;U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),R("year","y"),j("year",1),$("Y",Jr),$("YY",Br,Fr),$("YYYY",Qr,Wr),$("YYYYY",Kr,qr),$("YYYYYY",Kr,qr),nt(["YYYYY","YYYYYY"],ai),nt("YYYY",function(t,n){n[ai]=2===t.length?e.parseTwoDigitYear(t):S(t)}),nt("YY",function(t,n){n[ai]=e.parseTwoDigitYear(t)}),nt("Y",function(t,e){e[ai]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var Si=z("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),j("week",5),j("isoWeek",5),$("w",Br),$("ww",Br,Fr),$("W",Br),$("WW",Br,Fr),rt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=S(t)});var _i={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),$("d",Br),$("e",Br),$("E",Br),$("dd",function(t,e){return e.weekdaysMinRegex(t)}),$("ddd",function(t,e){return e.weekdaysShortRegex(t)}),$("dddd",function(t,e){return e.weekdaysRegex(t)}),rt(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:p(n).invalidWeekday=t}),rt(["d","e","E"],function(t,e,n,r){e[r]=S(t)});var wi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ki="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pi=ri,Ai=ri,Ci=ri;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Wt),U("k",["kk",2],0,qt),U("hmm",0,0,function(){return""+Wt.apply(this)+B(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Wt.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Bt("a",!0),Bt("A",!1),R("hour","h"),j("hour",13),$("a",Ut),$("A",Ut),$("H",Br),$("h",Br),$("k",Br),$("HH",Br,Fr),$("hh",Br,Fr),$("kk",Br,Fr),$("hmm",Ur),$("hmmss",Zr),$("Hmm",Ur),$("Hmmss",Zr),nt(["H","HH"],li),nt(["k","kk"],function(t,e,n){var r=S(t);e[li]=24===r?0:r}),nt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),nt(["h","hh"],function(t,e,n){e[li]=S(t),p(n).bigHour=!0}),nt("hmm",function(t,e,n){var r=t.length-2;e[li]=S(t.substr(0,r)),e[ci]=S(t.substr(r)),p(n).bigHour=!0}),nt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[li]=S(t.substr(0,r)),e[ci]=S(t.substr(r,2)),e[hi]=S(t.substr(i)),p(n).bigHour=!0}),nt("Hmm",function(t,e,n){var r=t.length-2;e[li]=S(t.substr(0,r)),e[ci]=S(t.substr(r))}),nt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[li]=S(t.substr(0,r)),e[ci]=S(t.substr(r,2)),e[hi]=S(t.substr(i))});var Oi,Ei=/[ap]\.?m?\.?/i,Ti=z("Hours",!0),Vi={calendar:Or,longDateFormat:Er,invalidDate:Tr,ordinal:Vr,dayOfMonthOrdinalParse:Gr,relativeTime:Lr,months:yi,monthsShort:mi,week:_i,weekdays:wi,weekdaysMin:Mi,weekdaysShort:ki,meridiemParse:Ei},Gi={},Li={},Di=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ri=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ni=/Z|[+-]\d\d(?::?\d\d)?/,Ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ji=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Hi=/^\/?Date\((\-?\d+)/i,zi=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Fi=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),Yi=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}),Wi=function(){return Date.now?Date.now():+new Date},qi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ee("Z",":"),Ee("ZZ",""),$("Z",ei),$("ZZ",ei),nt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Te(ei,t)});var Bi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ui=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Zi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;qe.fn=Ae.prototype,qe.invalid=Pe;var Xi=Xe(1,"add"),Qi=Xe(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ki=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tn("gggg","weekYear"),Tn("ggggg","weekYear"),Tn("GGGG","isoWeekYear"),Tn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),$("G",Jr),$("g",Jr),$("GG",Br,Fr),$("gg",Br,Fr),$("GGGG",Qr,Wr),$("gggg",Qr,Wr),$("GGGGG",Kr,qr),$("ggggg",Kr,qr),rt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=S(t)}),rt(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),R("quarter","Q"),j("quarter",7),$("Q",zr),nt("Q",function(t,e){e[si]=3*(S(t)-1)}),U("D",["DD",2],"Do","date"),R("date","D"),j("date",9),$("D",Br),$("DD",Br,Fr),$("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),nt(["D","DD"],ui),nt("Do",function(t,e){e[ui]=S(t.match(Br)[0],10)});var $i=z("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),j("dayOfYear",4),$("DDD",Xr),$("DDDD",Yr),nt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=S(t)}),U("m",["mm",2],0,"minute"),R("minute","m"),j("minute",14),$("m",Br),$("mm",Br,Fr),nt(["m","mm"],ci);var Ji=z("Minutes",!1);U("s",["ss",2],0,"second"),R("second","s"),j("second",15),$("s",Br),$("ss",Br,Fr),nt(["s","ss"],hi);var to=z("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),j("millisecond",16),$("S",Xr,zr),$("SS",Xr,Fr),$("SSS",Xr,Yr);var eo;for(eo="SSSS";eo.length<=9;eo+="S")$(eo,$r);for(eo="S";eo.length<=9;eo+="S")nt(eo,Hn);var no=z("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var ro=m.prototype;ro.add=Xi,ro.calendar=$e,ro.clone=Je,ro.diff=sn,ro.endOf=xn,ro.format=fn,ro.from=dn,ro.fromNow=pn,ro.to=gn,ro.toNow=vn,ro.get=W,ro.invalidAt=On,ro.isAfter=tn,ro.isBefore=en,ro.isBetween=nn,ro.isSame=rn,ro.isSameOrAfter=on,ro.isSameOrBefore=an,ro.isValid=An,ro.lang=Ki,ro.locale=yn,ro.localeData=mn,ro.max=Yi,ro.min=Fi,ro.parsingFlags=Cn,ro.set=q,ro.startOf=bn,ro.subtract=Qi,ro.toArray=kn,ro.toObject=Mn,ro.toDate=wn,ro.toISOString=cn,ro.inspect=hn,ro.toJSON=Pn,ro.toString=ln,ro.unix=_n,ro.valueOf=Sn,ro.creationData=En,ro.year=Si,ro.isLeapYear=mt,ro.weekYear=Vn,ro.isoWeekYear=Gn,ro.quarter=ro.quarters=In,ro.month=ht,ro.daysInMonth=ft,ro.week=ro.weeks=Ct,ro.isoWeek=ro.isoWeeks=Ot,ro.weeksInYear=Dn,ro.isoWeeksInYear=Ln,ro.date=$i,ro.day=ro.days=Nt,ro.weekday=It,ro.isoWeekday=jt,ro.dayOfYear=jn,ro.hour=ro.hours=Ti,ro.minute=ro.minutes=Ji,ro.second=ro.seconds=to,ro.millisecond=ro.milliseconds=no,ro.utcOffset=Le,ro.utc=Re,ro.local=Ne,ro.parseZone=Ie,ro.hasAlignedHourOffset=je,ro.isDST=He,ro.isLocal=Fe,ro.isUtcOffset=Ye,ro.isUtc=We,ro.isUTC=We,ro.zoneAbbr=zn,ro.zoneName=Fn,ro.dates=k("dates accessor is deprecated. Use date instead.",$i),ro.months=k("months accessor is deprecated. Use month instead",ht),ro.years=k("years accessor is deprecated. Use year instead",Si),ro.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",De),ro.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ze);var io=O.prototype;io.calendar=E,io.longDateFormat=T,io.invalidDate=V,io.ordinal=G,io.preparse=qn,io.postformat=qn,io.relativeTime=L,io.pastFuture=D,io.set=A,io.months=at,io.monthsShort=st,io.monthsParse=lt,io.monthsRegex=pt,io.monthsShortRegex=dt,io.week=Mt,io.firstDayOfYear=At,io.firstDayOfWeek=Pt,io.weekdays=Vt,io.weekdaysMin=Lt,io.weekdaysShort=Gt,io.weekdaysParse=Rt,io.weekdaysRegex=Ht,io.weekdaysShortRegex=zt,io.weekdaysMinRegex=Ft,io.isPM=Zt,io.meridiem=Xt,Jt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),e.lang=k("moment.lang is deprecated. Use moment.locale instead.",Jt),e.langData=k("moment.langData is deprecated. Use moment.localeData instead.",ne);var oo=Math.abs,ao=cr("ms"),so=cr("s"),uo=cr("m"),lo=cr("h"),co=cr("d"),ho=cr("w"),fo=cr("M"),po=cr("y"),go=fr("milliseconds"),vo=fr("seconds"),yo=fr("minutes"),mo=fr("hours"),bo=fr("days"),xo=fr("months"),So=fr("years"),_o=Math.round,wo={ss:44,s:45,m:45,h:22,d:26,M:11},ko=Math.abs,Mo=Ae.prototype;return Mo.isValid=Me,Mo.abs=tr,Mo.add=nr,Mo.subtract=rr,Mo.as=ur,Mo.asMilliseconds=ao,Mo.asSeconds=so,Mo.asMinutes=uo,Mo.asHours=lo,Mo.asDays=co,Mo.asWeeks=ho,Mo.asMonths=fo,Mo.asYears=po,Mo.valueOf=lr,Mo._bubble=or,Mo.get=hr,Mo.milliseconds=go,Mo.seconds=vo,Mo.minutes=yo,Mo.hours=mo,Mo.days=bo,Mo.weeks=dr,Mo.months=xo,Mo.years=So,Mo.humanize=mr,Mo.toISOString=br,Mo.toString=br,Mo.toJSON=br,Mo.locale=yn,Mo.localeData=mn,Mo.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",br),Mo.lang=Ki,U("X",0,0,"unix"),U("x",0,0,"valueOf"),$("x",Jr),$("X",ni),nt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),nt("x",function(t,e,n){n._d=new Date(S(t))}),e.version="2.18.1",n(xe),e.fn=ro,e.min=_e,e.max=we,e.now=Wi,e.utc=f,e.unix=Yn,e.months=Xn,e.isDate=u,e.locale=Jt,e.invalid=v,e.duration=qe,e.isMoment=b,e.weekdays=Kn,e.parseZone=Wn,e.localeData=ne,e.isDuration=Ce,e.monthsShort=Qn,e.weekdaysMin=Jn,e.defineLocale=te,e.updateLocale=ee,e.locales=re,e.weekdaysShort=$n,e.normalizeUnits=N,e.relativeTimeRounding=vr,e.relativeTimeThreshold=yr,e.calendarFormat=Ke,e.prototype=ro,e})}).call(e,n(26)(t))},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return"date"===t.x_axis_type?new w(t):new _(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}};e.Chart=a;var c=n(6),h=n(2),f=n(19),d=Symbol(),p=n(1),g=n(4),v={daily:[1,"day"],weekly:[1,"week"],monthly:[1,"month"],yearly:[1,"year"],quarterly:[3,"month"]},y=function(t){function e(t){i(this,e),t=t||{key:"[none]"},t.schema=t.schema||f.dataPointSchema,l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),e}(c.Klass);e.DataPoint=y;var m=function(t){function e(t){i(this,e),t=t||{key:new Date},t.schema=t.schema||f.timeDataPointSchema,l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),e}(y);e.TimeDataPoint=m;var b=function(t){function e(t){i(this,e);var n=["color"];t=t||{},t.schema=t.schema||f.dataSeriesSchema,l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),this.data=t.data||[],this._color=t.color||null,this.position=0}return o(e,t),u(e,[{key:"data",get:function(){return this[d]},set:function(t){var e=p.map();t.sort(function(t,e){return t.key>e.key?1:-1}).filter(function(e,n){return 0===n||e.key!=t[n-1].key}).map(function(t){return new y(t)}).forEach(function(t){return e.set(t.key,t)}),this[d]=e}},{key:"color",get:function(){var t=this._color,e=t?null:this.position,n=h.DEFAULT_COLORS[e]||"#999999",r="auto"!==t?t:n;return r},set:function(t){this._color=t}},{key:"range",get:function(){return p.extent(this.data.values(),function(t){return t.value})||[-(1/0),1/0]}}]),e}(c.Klass);e.DataSeries=b;var x=function(t){function e(t,n){i(this,e),t=t||{},t.schema=t.schema||f.timeDataSeriesSchema,l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.data=t.data||[],this.context=n}return o(e,t),u(e,[{key:"rawData",value:function(){return this[d]}},{key:"color",get:function(){var t=this._color,e=t?null:this.position,n=t?t:h.DEFAULT_COLORS[e];return n},set:function(t){this._color=t}},{key:"data",get:function(){var t=this.rawData(),e=s(this.croppedDomain,2),n=e[0],r=e[1],i=t;return this.context.auto_crop&&(i=p.map(),t.values().forEach(function(t){t.key>=n&&t.key<=r&&i.set(t.key.valueOf(),t)})),i},set:function(t){var e=p.map(),n=function(t){return t instanceof Array},r=function(t){return!n(t)&&t instanceof Object&&"function"==typeof t.values},i=function(t){return t.key.valueOf()},o=r(t)?t.values():t;return r(t)?void(this[d]=t):(o.sort(function(t,e){return t.key>e.key?1:-1}).filter(function(t,e){return 0===e||i(t)!=i(o[e-1])}).map(function(t){return new m(t)}).forEach(function(t){return e.set(t.key.valueOf(),t)}),void(this[d]=e))}},{key:"domain",get:function(){var t=g.min.apply(g,r(this.data.values().map(function(t){return(0,h.parseDate)(t.key,!0)}))).toDate(),e=g.max.apply(g,r(this.data.values().map(function(t){return(0,h.parseDate)(t.key,!0)}))).toDate();return[t,e]}},{key:"croppedDomain",get:function(){var t=this.context.auto_crop,e=this.context.start,n=this.context.end,i=this.rawData().values().filter(function(t){return null!=t.value}).filter(function(n){return!t||!e||n.key>=e}).filter(function(e){return!t||!n||e.key<=n}),o=g.min.apply(g,r(i.map(function(t){return(0,h.parseDate)(t.key,!0)}))).toDate(),a=g.max.apply(g,r(i.map(function(t){return(0,h.parseDate)(t.key,!0)}))).toDate();return[o,a]}}]),e}(b);e.TimeDataSeries=x;var S=function(t){function e(t,n){i(this,e);var r=t.rawData(),o=r instanceof Array?r:t.data.values(),a=p.map();o.forEach(function(t){var e=new m(t),r=e.key,i=g.utc(r).startOf("year"),o=function(t){return(0,h.parseDate)(t).toISOString().split("T")[0]},s=n.axisLabel(r);e.key=i,a.set(i.valueOf(),e),s&&s.label&&s.label.length&&(n.labels[o(i)]=s.label)}),t.data=a,l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n)}return o(e,t),e}(x);e.AnnualDataSeries=S;var _=function(t){function e(t){i(this,e),t=t||{},t.schema=t.schema||f.multiSeriesChartSchema,l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.series=t.series||[]}return o(e,t),u(e,[{key:"fittedTrendline",value:function(t){var e=t.data.values(),n=e.filter(function(t){return null!==t.value}).map(function(t){return[t.key.valueOf(),t.value]}),r=this.domain.map(function(t){return t.valueOf()}),i=(0,h.fittedTrendline)(n,r,this.range);return i.trend_width=t.trend_width||2,i.trend_color=t.trend_color||t.color||"#999",i.point_count=t.data.size(),i}},{key:"showLabels",value:function(t){var e="show"===this.point_labels?"show":"omit",n=t.point_labels||"defer",r="defer"===n?e:n;return"show"===r}},{key:"series",get:function(){return this[d]},set:function(t){this[d]=t.map(function(t){return new b(t)})}},{key:"range",get:function(){var t=this.range_min,e=this.range_max,n=function(t){var e=s(t,2),n=e[0];e[1];return n},r=function(t){var e=s(t,2),n=(e[0],e[1]);return n};if(null!=t&&null!=e)return[t,e];var i=this.series.map(function(t){return t.range});return[null!=t?t:p.min(i,n),null!=e?e:p.max(i,r)]}},{key:"keys",get:function(){var t=this.series.map(function(t){return t.data}).map(function(t){return t.values()});return t=p.merge(t),t.map(function(t){return t.key})}}]),e}(c.Klass);e.MultiSeriesChart=_;var w=function(t){function e(t){i(this,e),t=t||{},t.schema=t.schema||f.timeSeriesChartSchema,l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.series=t.series||[],this.forceGenerated=[]}return o(e,t),u(e,[{key:"allDates",value:function(){var t=[],e=[],n=this.series,r=this.auto_crop,i=this.domain,o=i[1].valueOf(),a=function(t,e){return t.toISOString()>e.toISOString()?1:-1};return this._uniqueDates||(n.forEach(function(n){var i=n.data.values();i.map(function(t){return t.key}).forEach(function(n){var i=n.valueOf();isNaN(n)||e.indexOf(i)!==-1||(r&&n.valueOf()<=o||!r)&&(t.push(n),e.push(i))})},this),t.sort(a),this._uniqueDates=t),this._uniqueDates}},{key:"axisLabels",value:function(){var t=this.allDates();return t.map(this.axisLabel,this)}},{key:"dateFormat",value:function(t){var e=this.forceGenerated,n=e?e[1]:v[this.frequency][1],r=function(t){return(0,h.parseDate)(t,!0).format("M/D/YYYY")},i="month"===n?p.time.format.utc("%b %Y"):r;return i((0,h.parseDate)(t))}},{key:"axisLabel",value:function(t){var e=this,n=(0,h.parseDate)(t),r=n.valueOf(),i=function(t){return(0,h.parseDate)(t).toISOString().split("T")[0]},o=function(t){return{key:t,label:e.dateFormat(n)}},a=function(t,n){return{key:t,label:e.labels[n]}},s=i(n),u=this.forceGenerated.length,l=this.allDates().map(function(t){return t.valueOf()});return!u&&this.labels.hasOwnProperty(s)?a(n,s):u&&l.indexOf(r)!==-1?o(n):{key:n,label:""}}},{key:"series",get:function(){return this[d]},set:function(t){this[d]=t.map(function(t){var e=t instanceof x;return e?t:new x(t,this)},this),this[d].map(function(t,e){t.position=e},this)}},{key:"domain",get:function(){function t(){return p.time.day.utc.floor(a||g.min.apply(g,r(n.map(function(t){var e=s(t,2),n=e[0];e[1];return g.utc(n)}))).toDate())}function e(){return y(u?g.utc(u).endOf("day").toDate():g.max.apply(g,r(n.map(function(t){var e=s(t,2),n=(e[0],e[1]);return g.utc(n)}))).toDate())}var n,i=this,o=function(t){return i.auto_crop?t.croppedDomain:t.domain},a=this.start,u=this.end,l=v[this.frequency][0],c=v[this.frequency][1],h="month"===c&&3===l,f="year"===c&&3===l,d=h?"quarter":f?"year":c,y=function(t){return g.utc(t).endOf(d).toDate()};return a&&u?[p.time.day.floor(a),p.time.day.ceil(u)]:(n=this.series.map(o),[t(),e()])}}]),e}(_);e.TimeSeriesChart=w},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=[];return Object.getOwnPropertyNames(t).forEach(function(t){n.push(new l(t,this[t]))},t),n.forEach(function(t){Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,value:t})}),e}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.schematize=o;var u=(n(4),function t(){i(this,t)});e.Schema=u;var l=function(){function t(e,n){if(i(this,t),null==e)throw new Error("Field must be named");n=n||{},this.name=e,this.title=n.title,this.description=n.description,this.type=n.type,this.vocabulary=n.vocabulary,this.constraint=n.constraint,this.required=n.required||!1,this.defaultValue=n.defaultValue}return s(t,[{key:"validate",value:function(t,e){var n=t,r=this.constraint;if(e=e||{},null!=t&&(n=t,r&&(n=r.call(this,t,e)||t)),this.type&&null!=n)if("string"==typeof this.type){if(typeof n!==this.type)throw new h(this,typeof n,"Expected type: ["+this.type+"]")}else if("function"==typeof this.type&&!(n instanceof this.type))throw new h(this,typeof n,"Expected type: ["+this.type+"]");if(null==n&&null!=this.defaultValue&&(n=this.defaultValue),this.required&&null==n)throw new c(this,n,"Required fields cannot be null");if(this.vocabulary&&this.vocabulary.indexOf(n)===-1&&(this.required||null!==n))throw new c(this,n,"Allowed values: "+this.vocabulary);return n}}]),t}();e.Field=l;var c=function(t){function e(t,n,r){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.message="Invalid value: "+n+" on field: "+t.name+(r?"! ("+r+")":"!"),this.name="ValidationError"}return r(e,t),e}(Error);e.ValidationError=c;var h=function(t){function e(t,n,r){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.message="Invalid type: ["+n+"] on field: "+t.name+(r?"! ("+r+")":"!"),this.name="ValidationTypeError"}return r(e,t),e}(TypeError);e.ValidationTypeError=h;var f=function t(e,n){function r(t,e){var n;return{enumerable:!0,configurable:!0,get:function(){return t.required&&null==n?t.defaultValue:n},set:function(r){n=t.validate(r,e)}}}i(this,t),e=e||{};var a=e.schema||o(e,{});this.schema=a,Object.keys(a).forEach(function(t){var e=a[t].name;(n||[]).indexOf(e)===-1&&Object.defineProperty(this,e,r(a[t],this))},this),Object.keys(a).forEach(function(t){this[t]=e[t]},this)};e.Klass=f},function(t,e){t.exports=function(){var t=window.nv||{};return window.nv=t,t.dev=!1,t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.graphs=[],t.logs={},t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),t.dev&&(t.dispatch.on("render_start",function(e){t.logs.startTime=+new Date}),t.dispatch.on("render_end",function(e){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)})),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(e){t.dev&&console&&console.warn&&console.warn("`"+e+"` has been deprecated.")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start(),setTimeout(function(){
for(var n,r,i=0;i<e&&(r=t.render.queue[i]);i++)n=r.generate(),typeof r.callback==typeof Function&&r.callback(n),t.graphs.push(n);t.render.queue.splice(0,i),t.render.queue.length?setTimeout(arguments.callee,0):(t.dispatch.render_end(),t.render.active=!1)},0)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},t.interactiveGuideline=function(){"use strict";function e(h){h.each(function(h){function f(){var t=d3.mouse(this),r=t[0],i=t[1],u=!0,l=!1;if(c&&(r=d3.event.offsetX,i=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(u=!1),d3.event.target.className.baseVal.match("nv-legend")&&(l=!0)),u&&(r-=o.left,i-=o.top),r<0||i<0||r>p||i>g||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||l){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(n.nvPointerEventsClass))return;return s.elementMouseout({mouseX:r,mouseY:i}),void e.renderGuideLine(null)}var h=a.invert(r);s.elementMousemove({mouseX:r,mouseY:i,pointXValue:h}),"dblclick"===d3.event.type&&s.elementDblclick({mouseX:r,mouseY:i,pointXValue:h}),"click"===d3.event.type&&s.elementClick({mouseX:r,mouseY:i,pointXValue:h})}var d=d3.select(this),p=r||960,g=i||400,v=d.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([h]),y=v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");y.append("g").attr("class","nv-interactiveGuideLine"),l&&(l.on("mousemove",f,!0).on("mouseout",f,!0).on("dblclick",f).on("click",f),e.renderGuideLine=function(e){if(u){var n=v.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[t.utils.NaNtoZero(e)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",g).attr("y2",0),n.exit().remove()}})})}var n=t.models.tooltip(),r=null,i=null,o={left:0,top:0},a=d3.scale.linear(),s=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick")),u=!0,l=null,c="ActiveXObject"in window;return e.dispatch=s,e.tooltip=n,e.margin=function(t){return arguments.length?(o.top="undefined"!=typeof t.top?t.top:o.top,o.left="undefined"!=typeof t.left?t.left:o.left,e):o},e.width=function(t){return arguments.length?(r=t,e):r},e.height=function(t){return arguments.length?(i=t,e):i},e.xScale=function(t){return arguments.length?(a=t,e):a},e.showGuideLine=function(t){return arguments.length?(u=t,e):u},e.svgContainer=function(t){return arguments.length?(l=t,e):l},e},t.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;"function"!=typeof n&&(n=function(t,e){return t.x});var r=d3.bisector(n).left,i=d3.max([0,r(t,e)-1]),o=n(t[i],i);if("undefined"==typeof o&&(o=i),o===e)return i;var a=d3.min([i+1,t.length-1]),s=n(t[a],a);return"undefined"==typeof s&&(s=a),Math.abs(s-e)>=Math.abs(o-e)?i:a},t.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach(function(t,o){var a=Math.abs(e-t);a<=r&&a<n&&(r=a,i=o)}),i},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function e(){if(h){var t=d3.select(h);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];d.left=d.left*n,d.top=d.top*n}}}function n(t){var e;e=h?d3.select(h):d3.select("body");var n=e.select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(c?c:"xy-tooltip")).attr("id",g)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(v,!0),n.classed(v,!0),n.node()}function r(){if(p&&x(o)){e();var i=d.left,c=null!=l?l:d.top,g=n(b(o));if(f=g,h){var v=h.getElementsByTagName("svg")[0],y=(v?v.getBoundingClientRect():h.getBoundingClientRect(),{left:0,top:0});if(v){var m=v.getBoundingClientRect(),S=h.getBoundingClientRect(),_=m.top;if(_<0){var w=h.getBoundingClientRect();_=Math.abs(_)>w.height?0:_}y.top=Math.abs(_-S.top),y.left=Math.abs(m.left-S.left)}i+=h.offsetLeft+y.left-2*h.scrollLeft,c+=h.offsetTop+y.top-2*h.scrollTop}return u&&u>0&&(c=Math.floor(c/u)*u),t.tooltip.calcTooltipPosition([i,c],a,s,g),r}}var i=null,o=null,a="w",s=50,u=25,l=null,c=null,h=null,f=null,d={left:null,top:null},p=!0,g="nvtooltip-"+Math.floor(1e5*Math.random()),v="nv-pointer-events-none",y=function(t,e){return t},m=function(t){return t},b=function(t){if(null!=i)return i;if(null==t)return"";var e=d3.select(document.createElement("table")),n=e.selectAll("thead").data([t]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(m(t.value));var r=e.selectAll("tbody").data([t]).enter().append("tbody"),o=r.selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});o.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),o.append("td").classed("key",!0).html(function(t){return t.key}),o.append("td").classed("value",!0).html(function(t,e){return y(t.value,e)}),o.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var a=e.node().outerHTML;return void 0!==t.footer&&(a+="<div class='footer'>"+t.footer+"</div>"),a},x=function(t){return!!(t&&t.series&&t.series.length>0)};return r.nvPointerEventsClass=v,r.content=function(t){return arguments.length?(i=t,r):i},r.tooltipElem=function(){return f},r.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(b=t),r):b},r.data=function(t){return arguments.length?(o=t,r):o},r.gravity=function(t){return arguments.length?(a=t,r):a},r.distance=function(t){return arguments.length?(s=t,r):s},r.snapDistance=function(t){return arguments.length?(u=t,r):u},r.classes=function(t){return arguments.length?(c=t,r):c},r.chartContainer=function(t){return arguments.length?(h=t,r):h},r.position=function(t){return arguments.length?(d.left="undefined"!=typeof t.left?t.left:d.left,d.top="undefined"!=typeof t.top?t.top:d.top,r):d},r.fixedTop=function(t){return arguments.length?(l=t,r):l},r.enabled=function(t){return arguments.length?(p=t,r):p},r.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(y=t),r):y},r.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(m=t),r):m},r.id=function(){return g},r},t.tooltip.show=function(e,n,r,i,o,a){var s=document.createElement("div");s.className="nvtooltip "+(a?a:"xy-tooltip");var u=o;o&&!o.tagName.match(/g|svg/i)||(u=document.getElementsByTagName("body")[0]),s.style.left=0,s.style.top=0,s.style.opacity=0,"string"!=typeof n?s.appendChild(n):s.innerHTML=n,u.appendChild(s),o&&(e[0]=e[0]-o.scrollLeft,e[1]=e[1]-o.scrollTop),t.tooltip.calcTooltipPosition(e,r,i,s)},t.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},t.tooltip.findTotalOffsetTop=function(t,e){var n=e;do isNaN(t.offsetTop)||(n+=t.offsetTop);while(t=t.offsetParent);return n},t.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do isNaN(t.offsetLeft)||(n+=t.offsetLeft);while(t=t.offsetParent);return n},t.tooltip.calcTooltipPosition=function(e,n,r,i){var o,a,s=parseInt(i.offsetHeight),u=parseInt(i.offsetWidth),l=t.utils.windowSize().width,c=t.utils.windowSize().height,h=window.pageYOffset,f=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,l=window.innerHeight>=document.body.scrollHeight?l:l-16,n=n||"s",r=r||20;var d=function(e){return t.tooltip.findTotalOffsetTop(e,a)},p=function(e){return t.tooltip.findTotalOffsetLeft(e,o)};switch(n){case"e":o=e[0]-u-r,a=e[1]-s/2;var g=p(i),v=d(i);g<f&&(o=e[0]+r>f?e[0]+r:f-g+o),v<h&&(a=h-v+a),v+s>h+c&&(a=h+c-v+a-s);break;case"w":o=e[0]+r,a=e[1]-s/2;var g=p(i),v=d(i);g+u>l&&(o=e[0]-u-r),v<h&&(a=h+5),v+s>h+c&&(a=h+c-v+a-s);break;case"n":o=e[0]-u/2-5,a=e[1]+r;var g=p(i),v=d(i);g<f&&(o=f+5),g+u>l&&(o=o-u/2+5),v+s>h+c&&(a=h+c-v+a-s);break;case"s":o=e[0]-u/2,a=e[1]-s-r;var g=p(i),v=d(i);g<f&&(o=f+5),g+u>l&&(o=o-u/2+5),h>v&&(a=h);break;case"none":o=e[0],a=e[1]-r;var g=p(i),v=d(i)}return i.style.left=o+"px",i.style.top=a+"px",i.style.opacity=1,i.style.position="absolute",i},t.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),t.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){return arguments.length?e instanceof Array?function(t,n){return t.color||e[n%e.length]}:e:t.utils.defaultColor()},t.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},t.utils.customTheme=function(t,e,n){e=e||function(t){return t.key},n=n||d3.scale.category20().range();var r=n.length;return function(i,o){var a=e(i);return"function"==typeof t[a]?t[a]():void 0!==t[a]?t[a]:(r||(r=n.length),r-=1,n[r])}},t.utils.pjax=function(e,n){var r=function(r){d3.html(r,function(r){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(r).select(n).node(),i),t.utils.pjax(e,n)})};d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},t.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px","")),n=t.text().length;return n*e*.5}return 0},t.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0||t===-(1/0)?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var r=void 0!==n?n:250,i=[],o=this;this.models=function(t){return t=[].slice.call(arguments,0),t.forEach(function(t){t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(e){t.__rendered=!0,o.renderEnd("model")})}(t),i.indexOf(t)<0&&i.push(t)}),this},this.reset=function(t){void 0!==t&&(r=t),i=[]},this.transition=function(t,e,n){if(e=arguments.length>1?[].slice.call(arguments,1):[],n=e.length>1?e.pop():void 0!==r?r:250,t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var a=0;return t.transition().duration(n).each(function(){++a}).each("end",function(n,r){0===--a&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){i.every(function(t){return t.__rendered})&&(i.forEach(function(t){t.__rendered=!1}),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach(function(n){for(key in n){var r=e[key]instanceof Array,i="object"==typeof e[key],o="object"==typeof n[key];i&&!r&&o?t.utils.deepExtend(e[key],n[key]):e[key]=n[key]}})},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},r=function(){return{}},i=null,o=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){n(t,!0)}),this.getter=function(t){return r=t,this},this.setter=function(t,e){return e||(e=function(){}),n=function(n,r){t(n),r&&e()},this},this.init=function(e){i=i||{},t.utils.deepExtend(i,e)};var a=function(){var t=r();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n],o=!0;return!0};this.update=function(){i&&(n(i,!1),i=null),a.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return t.deprecated("nv.utils.optionsFunc"),e&&d3.map(e).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},t.utils.calcTicksX=function(e,n){var r=1,i=0;for(i;i<n.length;i+=1){var o=n[i]&&n[i].values?n[i].values.length:0;r=o>r?o:r}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",r),e=e>r?e=r-1:e,e=e<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:t[e]=function(n){return arguments.length?(t._options[e]=n,t):t._options[e]}},t.utils.initOptions=function(e){var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{});n=n.concat(r);for(var i in n)t.utils.initOption(e,n[i])},t.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){function e(e,i){var o=n.call(this,e,i),a=r.call(this,e,i);return d3.svg.symbolTypes.indexOf(o)!==-1?d3.svg.symbol().type(o).size(a)():t.utils.symbolMap.get(o)(a)}var n,r=64;return e.type=function(t){return arguments.length?(n=d3.functor(t),e):n},e.size=function(t){return arguments.length?(r=d3.functor(t),e):r},e},t.utils.inheritOptions=function(e,n){var r=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),o=n._inherited||[],a=n._d3options||[],s=r.concat(i).concat(o).concat(a);s.unshift(n),s.unshift(e),d3.rebind.apply(this,s),e._inherited=t.utils.arrayUnique(r.concat(i).concat(o).concat(r).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(a.concat(e._d3options||[]))},t.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},t.models.axis=function(){"use strict";function e(a){return b.reset(),a.each(function(e){var a=d3.select(this);t.utils.initSVG(a);var v=a.selectAll("g.nv-wrap.nv-axis").data([e]),y=v.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),x=(y.append("g"),v.select("g"));null!==p?n.ticks(p):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(r.range()[1]-r.range()[0])/100),x.watchTransition(b,"axis").call(n),m=m||n.scale();var S=n.tickFormat();null==S&&(S=m.tickFormat());var _=x.selectAll("text.nv-axislabel").data([s||null]);switch(_.exit().remove(),n.orient()){case"top":_.enter().append("text").attr("class","nv-axislabel");var w;if(w=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),_.attr("text-anchor","middle").attr("y",0).attr("x",w/2),u){var k=v.selectAll("g.nv-axisMaxMin").data(r.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=S(t);return(""+n).match("NaN")?"":n}),k.watchTransition(b,"min-max top").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r.range()[n])+",0)"})}break;case"bottom":var M=g+36,P=30,A=x.selectAll("g").select("text");if(c%360){A.each(function(t,e){var n=this.getBoundingClientRect().width;n>P&&(P=n)});var C=Math.abs(Math.sin(c*Math.PI/180)),M=(C?C*P:P)+30;A.attr("transform",function(t,e,n){return"rotate("+c+" 0,0)"}).style("text-anchor",c%360>0?"start":"end")}_.enter().append("text").attr("class","nv-axislabel");var w;if(w=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),_.attr("text-anchor","middle").attr("y",M).attr("x",w/2),u){var k=v.selectAll("g.nv-axisMaxMin").data([r.domain()[0],r.domain()[r.domain().length-1]]);k.enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(d?r.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",function(t,e,n){return"rotate("+c+" 0,0)"}).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t,e){var n=S(t);return(""+n).match("NaN")?"":n}),k.watchTransition(b,"min-max bottom").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(d?r.rangeBand()/2:0))+",0)"})}f&&A.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":if(_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",h?"middle":"begin").attr("transform",h?"rotate(90)":"").attr("y",h?-Math.max(i.right,o)+12:-10).attr("x",h?r.range()[0]/2:n.tickPadding()),u){var k=v.selectAll("g.nv-axisMaxMin").data(r.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(t,e){var n=S(t);return(""+n).match("NaN")?"":n}),k.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1)}break;case"left":if(_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",h?"middle":"end").attr("transform",h?"rotate(-90)":"").attr("y",h?-Math.max(i.left,o)+25-(g||0):-10).attr("x",h?-r.range()[0]/2:-n.tickPadding()),u){var k=v.selectAll("g.nv-axisMaxMin").data(r.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(m(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=S(t);return(""+n).match("NaN")?"":n}),k.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1)}}if(_.text(function(t){return t}),!u||"left"!==n.orient()&&"right"!==n.orient()||(x.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(r(t)<r.range()[1]+10||r(t)>r.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),r.domain()[0]==r.domain()[1]&&0==r.domain()[0]&&v.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),u&&("top"===n.orient()||"bottom"===n.orient())){var O=[];v.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?O.push(r(t)-this.getBoundingClientRect().width-4):O.push(r(t)+this.getBoundingClientRect().width+4)}catch(n){e?O.push(r(t)-4):O.push(r(t)+4)}}),x.selectAll("g").each(function(t,e){(r(t)<O[0]||r(t)>O[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}l&&x.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*this.__data__)/1e6)&&void 0!==this.__data__}).classed("zero",!0),m=r.copy()}),b.renderEnd("axis immediate"),e}var n=d3.svg.axis(),r=d3.scale.linear(),i={top:0,right:0,bottom:0,left:0},o=75,a=60,s=null,u=!0,l=!0,c=0,h=!0,f=!1,d=!1,p=null,g=0,v=250,y=d3.dispatch("renderEnd");n.scale(r).orient("bottom").tickFormat(function(t){return t});var m,b=t.utils.renderWatch(y,v);return e.axis=n,e.dispatch=y,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return f},set:function(t){f=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return h},set:function(t){h=t}},highlightZero:{get:function(){return l},set:function(t){l=t}},showMaxMin:{get:function(){return u},set:function(t){u=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},ticks:{get:function(){return p},set:function(t){p=t}},width:{get:function(){return o},set:function(t){o=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return v},set:function(t){v=t,b.reset(v)}},scale:{get:function(){return r},set:function(i){r=i,n.scale(r),d="function"==typeof r.rangeBands,t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(e),t.utils.inheritOptionsD3(e,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"]),e},t.models.bullet=function(){"use strict";function e(r){return r.each(function(e,r){var p=f-n.left-n.right,y=d-n.top-n.bottom,m=d3.select(this);t.utils.initSVG(m);var b=o.call(this,e,r).slice().sort(d3.descending),x=a.call(this,e,r).slice().sort(d3.descending),S=s.call(this,e,r).slice().sort(d3.descending),_=u.call(this,e,r).slice(),w=l.call(this,e,r).slice(),k=c.call(this,e,r).slice(),M=d3.scale.linear().domain(d3.extent(d3.merge([h,b]))).range(i?[p,0]:[0,p]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(M.range());this.__chart__=M;var P=d3.min(b),A=d3.max(b),C=b[1],O=m.selectAll("g.nv-wrap.nv-bullet").data([e]),E=O.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),T=E.append("g"),V=O.select("g");T.append("rect").attr("class","nv-range nv-rangeMax"),T.append("rect").attr("class","nv-range nv-rangeAvg"),T.append("rect").attr("class","nv-range nv-rangeMin"),T.append("rect").attr("class","nv-measure"),T.append("path").attr("class","nv-markerTriangle"),O.attr("transform","translate("+n.left+","+n.top+")");var G=function(t){return Math.abs(M(t)-M(0))},L=function(t){return M(t<0?t:0)};V.select("rect.nv-rangeMax").attr("height",y).attr("width",G(A>0?A:P)).attr("x",L(A>0?A:P)).datum(A>0?A:P),V.select("rect.nv-rangeAvg").attr("height",y).attr("width",G(C)).attr("x",L(C)).datum(C),V.select("rect.nv-rangeMin").attr("height",y).attr("width",G(A)).attr("x",L(A)).attr("width",G(A>0?P:A)).attr("x",L(A>0?P:A)).datum(A>0?P:A),V.select("rect.nv-measure").style("fill",g).attr("height",y/3).attr("y",y/3).attr("width",S<0?M(0)-M(S[0]):M(S[0])-M(0)).attr("x",L(S)).on("mouseover",function(){v.elementMouseover({value:S[0],label:k[0]||"Current",pos:[M(S[0]),y/2]})}).on("mouseout",function(){v.elementMouseout({value:S[0],label:k[0]||"Current"})});var D=y/6;x[0]?V.selectAll("path.nv-markerTriangle").attr("transform",function(t){return"translate("+M(x[0])+","+y/2+")"}).attr("d","M0,"+D+"L"+D+","+-D+" "+-D+","+-D+"Z").on("mouseover",function(){v.elementMouseover({value:x[0],label:w[0]||"Previous",pos:[M(x[0]),y/2]})}).on("mouseout",function(){v.elementMouseout({value:x[0],label:w[0]||"Previous"})}):V.selectAll("path.nv-markerTriangle").remove(),O.selectAll(".nv-range").on("mouseover",function(t,e){var n=_[e]||(e?1==e?"Mean":"Minimum":"Maximum");v.elementMouseover({value:t,label:n,pos:[M(t),y/2]})}).on("mouseout",function(t,e){var n=_[e]||(e?1==e?"Mean":"Minimum":"Maximum");v.elementMouseout({value:t,label:n})})}),e}var n={top:0,right:0,bottom:0,left:0},r="left",i=!1,o=function(t){return t.ranges},a=function(t){return t.markers?t.markers:[0]},s=function(t){return t.measures},u=function(t){return t.rangeLabels?t.rangeLabels:[]},l=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.measureLabels?t.measureLabels:[]},h=[0],f=380,d=30,p=null,g=t.utils.getColor(["#1f77b4"]),v=d3.dispatch("elementMouseover","elementMouseout");return e.dispatch=v,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return o},set:function(t){o=t}},markers:{get:function(){return a},set:function(t){a=t}},measures:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return h},set:function(t){h=t}},width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return d},set:function(t){d=t}},tickFormat:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},orient:{get:function(){return r},set:function(t){r=t,i="right"==r||"bottom"==r}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.bulletChart=function(){"use strict";function e(r){return r.each(function(d,y){var m=d3.select(this);t.utils.initSVG(m);var b=(l||parseInt(m.style("width"))||960)-o.left-o.right,x=c-o.top-o.bottom,S=this;if(e.update=function(){e(r)},e.container=this,!d||!a.call(this,d,y)){var _=m.selectAll(".nv-noData").data([p]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",o.left+b/2).attr("y",18+o.top+x/2).text(function(t){return t}),e}m.selectAll(".nv-noData").remove();var w=a.call(this,d,y).slice().sort(d3.descending),k=s.call(this,d,y).slice().sort(d3.descending),M=u.call(this,d,y).slice().sort(d3.descending),P=m.selectAll("g.nv-wrap.nv-bulletChart").data([d]),A=P.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),C=A.append("g"),O=P.select("g");C.append("g").attr("class","nv-bulletWrap"),C.append("g").attr("class","nv-titles"),P.attr("transform","translate("+o.left+","+o.top+")");var E=d3.scale.linear().domain([0,Math.max(w[0],k[0],M[0])]).range(i?[b,0]:[0,b]),T=this.__chart__||d3.scale.linear().domain([0,1/0]).range(E.range());this.__chart__=E;var V=C.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");V.append("text").attr("class","nv-title").text(function(t){return t.title}),V.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),n.width(b).height(x);var G=O.select(".nv-bulletWrap");d3.transition(G).call(n);var L=h||E.tickFormat(b/100),D=O.selectAll("g.nv-tick").data(E.ticks(b/50),function(t){return this.textContent||L(t)}),R=D.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+T(t)+",0)"}).style("opacity",1e-6);R.append("line").attr("y1",x).attr("y2",7*x/6),R.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*x/6).text(L);var N=d3.transition(D).attr("transform",function(t){return"translate("+E(t)+",0)"}).style("opacity",1);N.select("line").attr("y1",x).attr("y2",7*x/6),N.select("text").attr("y",7*x/6),d3.transition(D.exit()).attr("transform",function(t){return"translate("+E(t)+",0)"}).style("opacity",1e-6).remove(),g.on("tooltipShow",function(t){t.key=d.title,f&&v(t,S.parentNode)})}),d3.timer.flush(),e}var n=t.models.bullet(),r="left",i=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[0]},u=function(t){return t.measures},l=null,c=55,h=null,f=!0,d=function(t,e,n,r,i){return"<h3>"+e+"</h3><p>"+n+"</p>"},p="No Data Available.",g=d3.dispatch("tooltipShow","tooltipHide"),v=function(n,r){var i=n.pos[0]+(r.offsetLeft||0)+o.left,a=n.pos[1]+(r.offsetTop||0)+o.top,s=d(n.key,n.label,n.value,n,e);t.tooltip.show([i,a],s,n.value<0?"e":"w",null,r)};return n.dispatch.on("elementMouseover.tooltip",function(t){g.tooltipShow(t)}),n.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("tooltipHide",function(){f&&t.tooltip.cleanup()}),e.bullet=n,e.dispatch=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return u},set:function(t){u=t}},width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return h},set:function(t){h=t}},tooltips:{get:function(){return f},set:function(t){f=t}},tooltipContent:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return r},set:function(t){r=t,i="right"==r||"bottom"==r}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.cumulativeLineChart=function(){"use strict";function e(w){return L.reset(),L.models(o),v&&L.models(a),y&&L.models(s),w.each(function(w){function T(t,n){d3.select(e.container).style("cursor","ew-resize")}function L(t,e){G.x=d3.event.x,G.i=Math.round(V.invert(G.x)),j()}function I(t,n){d3.select(e.container).style("cursor","auto"),M.index=G.i,O.stateChange(M)}function j(){ot.data([G]);var t=e.duration();e.duration(0),e.update(),e.duration(t)}var H=d3.select(this);t.utils.initSVG(H),H.classed("nv-chart-"+k,!0);var z=this,F=(d||parseInt(H.style("width"))||960)-h.left-h.right,Y=(p||parseInt(H.style("height"))||400)-h.top-h.bottom;if(e.update=function(){0===E?H.call(e):H.transition().duration(E).call(e)},e.container=this,M.setter(N(w),e.update).getter(R(w)).update(),M.disabled=w.map(function(t){return!!t.disabled}),!P){var W;P={};for(W in M)M[W]instanceof Array?P[W]=M[W].slice(0):P[W]=M[W]}var q=d3.behavior.drag().on("dragstart",T).on("drag",L).on("dragend",I);if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var B=H.selectAll(".nv-noData").data([A]);return B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),B.attr("x",h.left+F/2).attr("y",h.top+Y/2).text(function(t){return t}),e}if(H.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale(),_)o.yDomain(null);else{var U=w.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,o.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),Z=[d3.min(U,function(t){return t[0]}),d3.max(U,function(t){return t[1]})];o.yDomain(Z)}V.domain([0,w[0].values.length-1]).range([0,F]).clamp(!0);var w=n(G.i,w),X=S?"none":"all",Q=H.selectAll("g.nv-wrap.nv-cumulativeLine").data([w]),K=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),$=Q.select("g");if(K.append("g").attr("class","nv-interactive"),K.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-background"),K.append("g").attr("class","nv-linesWrap").style("pointer-events",X),K.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),K.append("g").attr("class","nv-legendWrap"),K.append("g").attr("class","nv-controlsWrap"),g&&(u.width(F),$.select(".nv-legendWrap").datum(w).call(u),h.top!=u.height()&&(h.top=u.height(),Y=(p||parseInt(H.style("height"))||400)-h.top-h.bottom),$.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")),x){var J=[{key:"Re-scale y-axis",disabled:!_}];l.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),$.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-h.top+")").call(l)}Q.attr("transform","translate("+h.left+","+h.top+")"),
m&&$.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)");var tt=w.filter(function(t){return t.tempDisabled});Q.select(".tempDisabled").remove(),tt.length&&Q.append("text").attr("class","tempDisabled").attr("x",F/2).attr("y","-.71em").style("text-anchor","end").text(tt.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),S&&(c.width(F).height(Y).margin({left:h.left,top:h.top}).svgContainer(H).xScale(r),Q.select(".nv-interactive").call(c)),K.select(".nv-background").append("rect"),$.select(".nv-background rect").attr("width",F).attr("height",Y),o.y(function(t){return t.display.y}).width(F).height(Y).color(w.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!w[e].disabled&&!w[e].tempDisabled}));var et=$.select(".nv-linesWrap").datum(w.filter(function(t){return!t.disabled&&!t.tempDisabled}));et.call(o),w.forEach(function(t,e){t.seriesIndex=e});var nt=w.filter(function(t){return!t.disabled&&!!C(t)}),rt=$.select(".nv-avgLinesWrap").selectAll("line").data(nt,function(t){return t.key}),it=function(t){var e=i(C(t));return e<0?0:e>Y?Y:e};rt.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return o.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",F).attr("y1",it).attr("y2",it),rt.style("stroke-opacity",function(t){var e=i(C(t));return e<0||e>Y?0:1}).attr("x1",0).attr("x2",F).attr("y1",it).attr("y2",it),rt.exit().remove();var ot=et.selectAll(".nv-indexLine").data([G]);ot.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(q),ot.attr("transform",function(t){return"translate("+V(t.i)+",0)"}).attr("height",Y),v&&(a.scale(r).ticks(t.utils.calcTicksX(F/70,w)).tickSize(-Y,0),$.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),$.select(".nv-x.nv-axis").call(a)),y&&(s.scale(i).ticks(t.utils.calcTicksY(Y/36,w)).tickSize(-F,0),$.select(".nv-y.nv-axis").call(s)),$.select(".nv-background rect").on("click",function(){G.x=d3.mouse(this)[0],G.i=Math.round(V.invert(G.x)),M.index=G.i,O.stateChange(M),j()}),o.dispatch.on("elementClick",function(t){G.i=t.pointIndex,G.x=V(G.i),M.index=G.i,O.stateChange(M),j()}),l.dispatch.on("legendClick",function(t,n){t.disabled=!t.disabled,_=!t.disabled,M.rescaleY=_,O.stateChange(M),e.update()}),u.dispatch.on("stateChange",function(t){for(var n in t)M[n]=t[n];O.stateChange(M),e.update()}),c.dispatch.on("elementMousemove",function(n){o.clearHighlights();var r,i,u,l=[];if(w.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,s){i=t.interactiveBisect(a.values,n.pointXValue,e.x()),o.highlightPoint(s,i,!0);var c=a.values[i];"undefined"!=typeof c&&("undefined"==typeof r&&(r=c),"undefined"==typeof u&&(u=e.xScale()(e.x()(c,i))),l.push({key:a.key,value:e.y()(c,i),color:f(a,a.seriesIndex)}))}),l.length>2){var d=e.yScale().invert(n.mouseY),p=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),g=.03*p,v=t.nearestValueIndex(l.map(function(t){return t.value}),d,g);null!==v&&(l[v].highlight=!0)}var y=a.tickFormat()(e.x()(r,i),i);c.tooltip.position({left:u+h.left,top:n.mouseY+h.top}).chartContainer(z.parentNode).enabled(b).valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:y,series:l})(),c.renderGuideLine(u)}),c.dispatch.on("elementMouseout",function(t){O.tooltipHide(),o.clearHighlights()}),O.on("tooltipShow",function(t){b&&D(t,z.parentNode)}),O.on("changeState",function(t){"undefined"!=typeof t.disabled&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),M.disabled=t.disabled),"undefined"!=typeof t.index&&(G.i=t.index,G.x=V(G.i),M.index=t.index,ot.data([G])),"undefined"!=typeof t.rescaleY&&(_=t.rescaleY),e.update()})}),L.renderEnd("cumulativeLineChart immediate"),e}function n(t,e){return I||(I=o.y()),e.map(function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=I(r,t);return i<-.95&&!T?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(I(t,e)-i)/(1+i)},t}),e)})}var r,i,o=t.models.line(),a=t.models.axis(),s=t.models.axis(),u=t.models.legend(),l=t.models.legend(),c=t.interactiveGuideline(),h={top:30,right:30,bottom:50,left:60},f=t.utils.defaultColor(),d=null,p=null,g=!0,v=!0,y=!0,m=!1,b=!0,x=!0,S=!1,_=!0,w=function(t,e,n,r,i){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k=o.id(),M=t.utils.state(),P=null,A="No Data Available.",C=function(t){return t.average},O=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),E=250,T=!1;M.index=0,M.rescaleY=_,a.orient("bottom").tickPadding(7),s.orient(m?"right":"left"),l.updateState(!1);var V=d3.scale.linear(),G={i:0,x:0},L=t.utils.renderWatch(O,E),D=function(n,r){var i=n.pos[0]+(r.offsetLeft||0),u=n.pos[1]+(r.offsetTop||0),l=a.tickFormat()(o.x()(n.point,n.pointIndex)),c=s.tickFormat()(o.y()(n.point,n.pointIndex)),h=w(n.series.key,l,c,n,e);t.tooltip.show([i,u],h,null,null,r)},R=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:G.i,rescaleY:_}}},N=function(t){return function(e){void 0!==e.index&&(G.i=e.index),void 0!==e.rescaleY&&(_=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],O.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){O.tooltipHide(t)}),O.on("tooltipHide",function(){b&&t.tooltip.cleanup()});var I=null;return e.dispatch=O,e.lines=o,e.legend=u,e.xAxis=a,e.yAxis=s,e.interactiveLayer=c,e.state=M,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return p},set:function(t){p=t}},rescaleY:{get:function(){return _},set:function(t){_=t}},showControls:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return C},set:function(t){C=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},defaultState:{get:function(){return P},set:function(t){P=t}},noData:{get:function(){return A},set:function(t){A=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},noErrorCheck:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),u.color(f)}},useInteractiveGuideline:{get:function(){return S},set:function(t){S=t,t===!0&&(e.interactive(!1),e.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,s.orient(t?"right":"left")}},duration:{get:function(){return E},set:function(t){E=t,o.duration(E),a.duration(E),s.duration(E),L.reset(E)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.discreteBar=function(){"use strict";function e(h){return w.reset(),h.each(function(e){var h=l-u.left-u.right,_=c-u.top-u.bottom,k=d3.select(this);t.utils.initSVG(k),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var M=n&&r?[]:e.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}})});f.domain(n||d3.merge(M).map(function(t){return t.x})).rangeBands(i||[0,h],.1),d.domain(r||d3.extent(d3.merge(M).map(function(t){return t.y}).concat(v))),m?d.range(o||[_-(d.domain()[0]<0?12:0),d.domain()[1]>0?12:0]):d.range(o||[_,0]),a=a||f,s=s||d.copy().range([d(0),d(0)]);var P=k.selectAll("g.nv-wrap.nv-discretebar").data([e]),A=P.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),C=A.append("g");P.select("g");C.append("g").attr("class","nv-groups"),P.attr("transform","translate("+u.left+","+u.top+")");var O=P.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),O.exit().watchTransition(w,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),O.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),O.watchTransition(w,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var E=O.selectAll("g.nv-bar").data(function(t){return t.values});E.exit().remove();var T=E.enter().append("g").attr("transform",function(t,e,n){return"translate("+(f(p(t,e))+.05*f.rangeBand())+", "+d(0)+")"}).on("mouseover",function(t,n){d3.select(this).classed("hover",!0),x.elementMouseover({value:g(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(t.series+.5)/e.length,d(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),x.elementMouseout({value:g(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){x.elementClick({value:g(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(t.series+.5)/e.length,d(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){x.elementDblClick({value:g(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(t.series+.5)/e.length,d(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()});T.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/e.length),m?(T.append("text").attr("text-anchor","middle"),E.select("text").text(function(t,e){return b(g(t,e))}).watchTransition(w,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?d(g(t,e))-d(0)+12:-4})):E.selectAll("text").remove(),E.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||y(t,e)}).style("stroke",function(t,e){return t.color||y(t,e)}).select("rect").attr("class",S).watchTransition(w,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/e.length),E.watchTransition(w,"discreteBar: bars").attr("transform",function(t,e){var n=f(p(t,e))+.05*f.rangeBand(),r=g(t,e)<0?d(0):d(0)-d(g(t,e))<1?d(0)-1:d(g(t,e));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(d(g(t,e))-d(r&&r[0]||0))||1)}),a=f.copy(),s=d.copy()}),w.renderEnd("discreteBar immediate"),e}var n,r,i,o,a,s,u={top:0,right:0,bottom:0,left:0},l=960,c=500,h=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),d=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=[0],y=t.utils.defaultColor(),m=!1,b=d3.format(",.2f"),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),S="discreteBar",_=250,w=t.utils.renderWatch(x,_);return e.dispatch=x,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return v},set:function(t){v=t}},showValues:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return b},set:function(t){b=t}},id:{get:function(){return h},set:function(t){h=t}},rectClass:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}},duration:{get:function(){return _},set:function(t){_=t,w.reset(_)}}}),t.utils.initOptions(e),e},t.models.discreteBarChart=function(){"use strict";function e(c){return S.reset(),S.models(i),h&&S.models(o),f&&S.models(a),c.each(function(c){var v=d3.select(this),S=this;t.utils.initSVG(v);var _=(u||parseInt(v.style("width"))||960)-s.left-s.right,w=(l||parseInt(v.style("height"))||400)-s.top-s.bottom;if(e.update=function(){m.beforeUpdate(),v.transition().duration(b).call(e)},e.container=this,!(c&&c.length&&c.filter(function(t){return t.values.length}).length)){var k=v.selectAll(".nv-noData").data([y]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",s.left+_/2).attr("y",s.top+w/2).text(function(t){return t}),e}v.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale().clamp(!0);var M=v.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([c]),P=M.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),A=P.append("defs"),C=M.select("g");P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),P.append("g").attr("class","nv-barsWrap"),C.attr("transform","translate("+s.left+","+s.top+")"),d&&C.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)"),i.width(_).height(w);var O=C.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled}));if(O.transition().call(i),A.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),C.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",n.rangeBand()*(p?2:1)).attr("height",16).attr("x",-n.rangeBand()/(p?1:2)),h){o.scale(n).ticks(t.utils.calcTicksX(_/100,c)).tickSize(-w,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+(r.range()[0]+(i.showValues()&&r.domain()[0]<0?16:0))+")"),C.select(".nv-x.nv-axis").call(o);var E=C.select(".nv-x.nv-axis").selectAll("g");p&&E.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}f&&(a.scale(r).ticks(t.utils.calcTicksY(w/36,c)).tickSize(-_,0),C.select(".nv-y.nv-axis").call(a)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",_).attr("y1",r(0)).attr("y2",r(0)),m.on("tooltipShow",function(t){g&&x(t,S.parentNode)})}),S.renderEnd("discreteBar chart immediate"),e}var n,r,i=t.models.discreteBar(),o=t.models.axis(),a=t.models.axis(),s={top:15,right:10,bottom:50,left:60},u=null,l=null,c=t.utils.getColor(),h=!0,f=!0,d=!1,p=!1,g=!0,v=function(t,e,n,r,i){return"<h3>"+e+"</h3><p>"+n+"</p>"},y="No Data Available.",m=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),b=250;o.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),a.orient(d?"right":"left").tickFormat(d3.format(",.1f"));var x=function(n,r){var s=n.pos[0]+(r.offsetLeft||0),u=n.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(n.point,n.pointIndex)),c=a.tickFormat()(i.y()(n.point,n.pointIndex)),h=v(n.series.key,l,c,n,e);t.tooltip.show([s,u],h,n.value<0?"n":"s",null,r)},S=t.utils.renderWatch(m,b);return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],m.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){m.tooltipHide(t)}),m.on("tooltipHide",function(){g&&t.tooltip.cleanup()}),e.dispatch=m,e.discretebar=i,e.xAxis=o,e.yAxis=a,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return h},set:function(t){h=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},tooltips:{get:function(){return g},set:function(t){g=t}},tooltipContent:{get:function(){return v},set:function(t){v=t}},noData:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return b},set:function(t){b=t,S.reset(b),i.duration(b),o.duration(b),a.duration(b)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),i.color(c)}},rightAlignYAxis:{get:function(){return d},set:function(t){d=t,a.orient(t?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.distribution=function(){"use strict";function e(c){return f.reset(),c.each(function(e){var c=(i-("x"===a?r.left+r.right:r.top+r.bottom),"x"==a?"y":"x"),h=d3.select(this);t.utils.initSVG(h),n=n||l;var d=h.selectAll("g.nv-distribution").data([e]),p=d.enter().append("g").attr("class","nvd3 nv-distribution"),g=(p.append("g"),d.select("g"));d.attr("transform","translate("+r.left+","+r.top+")");var v=g.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});v.enter().append("g"),v.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return u(t,e)});var y=v.selectAll("line.nv-dist"+a).data(function(t){return t.values});y.enter().append("line").attr(a+"1",function(t,e){return n(s(t,e))}).attr(a+"2",function(t,e){return n(s(t,e))}),f.transition(v.exit().selectAll("line.nv-dist"+a),"dist exit").attr(a+"1",function(t,e){return l(s(t,e))}).attr(a+"2",function(t,e){return l(s(t,e))}).style("stroke-opacity",0).remove(),y.attr("class",function(t,e){return"nv-dist"+a+" nv-dist"+a+"-"+e}).attr(c+"1",0).attr(c+"2",o),f.transition(y,"dist").attr(a+"1",function(t,e){return l(s(t,e))}).attr(a+"2",function(t,e){return l(s(t,e))}),n=l.copy()}),f.renderEnd("distribution immediate"),e}var n,r={top:0,right:0,bottom:0,left:0},i=400,o=8,a="x",s=function(t){return t[a]},u=t.utils.defaultColor(),l=d3.scale.linear(),c=250,h=d3.dispatch("renderEnd"),f=t.utils.renderWatch(h,c);return e.options=t.utils.optionsFunc.bind(e),e.dispatch=h,e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.right="undefined"!=typeof t.right?t.right:r.right,r.bottom="undefined"!=typeof t.bottom?t.bottom:r.bottom,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(i=t,e):i},e.axis=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(o=t,e):o},e.getData=function(t){return arguments.length?(s=d3.functor(t),e):s},e.scale=function(t){return arguments.length?(l=t,e):l},e.color=function(n){return arguments.length?(u=t.utils.getColor(n),e):u},e.duration=function(t){return arguments.length?(c=t,f.reset(c),e):c},e},t.models.historicalBar=function(){"use strict";function e(_){return _.each(function(e){S.reset();var _=d3.select(this),w=(s||parseInt(_.style("width"))||960)-a.left-a.right,k=(u||parseInt(_.style("height"))||400)-a.top-a.bottom;t.utils.initSVG(_),c.domain(n||d3.extent(e[0].values.map(f).concat(p))),v?c.range(i||[.5*w/e[0].values.length,w*(e[0].values.length-.5)/e[0].values.length]):c.range(i||[0,w]),h.domain(r||d3.extent(e[0].values.map(d).concat(g))).range(o||[k,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var M=_.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([e[0].values]),P=M.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),A=P.append("defs"),C=P.append("g"),O=M.select("g");C.append("g").attr("class","nv-bars"),M.attr("transform","translate("+a.left+","+a.top+")"),_.on("click",function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:l})}),A.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),M.select("#nv-chart-clip-path-"+l+" rect").attr("width",w).attr("height",k),O.attr("clip-path",y?"url(#nv-chart-clip-path-"+l+")":"");var E=M.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});E.exit().remove();E.enter().append("rect").attr("x",0).attr("y",function(e,n){return t.utils.NaNtoZero(h(Math.max(0,d(e,n))))}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.abs(h(d(e,n))-h(0)))}).attr("transform",function(t,n){return"translate("+(c(f(t,n))-w/e[0].values.length*.45)+",0)"}).on("mouseover",function(t,n){x&&(d3.select(this).classed("hover",!0),b.elementMouseover({point:t,series:e[0],pos:[c(f(t,n)),h(d(t,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",function(t,n){x&&(d3.select(this).classed("hover",!1),b.elementMouseout({point:t,series:e[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){x&&(b.elementClick({value:d(t,e),data:t,index:e,pos:[c(f(t,e)),h(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation())}).on("dblclick",function(t,e){x&&(b.elementDblClick({value:d(t,e),data:t,index:e,pos:[c(f(t,e)),h(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation())});E.attr("fill",function(t,e){return m(t,e)}).attr("class",function(t,e,n){return(d(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(S,"bars").attr("transform",function(t,n){return"translate("+(c(f(t,n))-w/e[0].values.length*.45)+",0)"}).attr("width",w/e[0].values.length*.9),E.watchTransition(S,"bars").attr("y",function(e,n){var r=d(e,n)<0?h(0):h(0)-h(d(e,n))<1?h(0)-1:h(d(e,n));return t.utils.NaNtoZero(r)}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(h(d(e,n))-h(0)),1))})}),S.renderEnd("historicalBar immediate"),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},s=null,u=null,l=Math.floor(1e4*Math.random()),c=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},d=function(t){return t.y},p=[],g=[0],v=!1,y=!0,m=t.utils.defaultColor(),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),x=!0,S=t.utils.renderWatch(b,0);return e.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return u},set:function(t){u=t}},forceX:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return g},set:function(t){g=t}},padData:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return d},set:function(t){d=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBarChart=function(e){"use strict";function n(e){return e.each(function(x){A.reset(),A.models(o),g&&A.models(a),v&&A.models(s);var C=d3.select(this),O=this;t.utils.initSVG(C);var E=(f||parseInt(C.style("width"))||960)-c.left-c.right,T=(d||parseInt(C.style("height"))||400)-c.top-c.bottom;if(n.update=function(){C.transition().duration(M).call(n)},n.container=this,S.disabled=x.map(function(t){return!!t.disabled}),!_){var V;_={};for(V in S)S[V]instanceof Array?_[V]=S[V].slice(0):_[V]=S[V]}if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var G=C.selectAll(".nv-noData").data([w]);return G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),G.attr("x",c.left+E/2).attr("y",c.top+T/2).text(function(t){return t}),n}C.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale();var L=C.selectAll("g.nv-wrap.nv-historicalBarChart").data([x]),D=L.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),R=L.select("g");D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-interactive"),p&&(u.width(E),R.select(".nv-legendWrap").datum(x).call(u),c.top!=u.height()&&(c.top=u.height(),T=(d||parseInt(C.style("height"))||400)-c.top-c.bottom),L.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),L.attr("transform","translate("+c.left+","+c.top+")"),y&&R.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),m&&(l.width(E).height(T).margin({left:c.left,top:c.top}).svgContainer(C).xScale(r),L.select(".nv-interactive").call(l)),o.width(E).height(T).color(x.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!x[e].disabled}));var N=R.select(".nv-barsWrap").datum(x.filter(function(t){return!t.disabled}));N.transition().call(o),g&&(a.scale(r).tickSize(-T,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),R.select(".nv-x.nv-axis").transition().call(a)),v&&(s.scale(i).ticks(t.utils.calcTicksY(T/36,x)).tickSize(-E,0),R.select(".nv-y.nv-axis").transition().call(s)),l.dispatch.on("elementMousemove",function(e){o.clearHighlights();var r,i,u,f=[];x.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,s){i=t.interactiveBisect(a.values,e.pointXValue,n.x()),o.highlightPoint(i,!0);var l=a.values[i];"undefined"!=typeof l&&("undefined"==typeof r&&(r=l),"undefined"==typeof u&&(u=n.xScale()(n.x()(l,i))),f.push({key:a.key,value:n.y()(l,i),color:h(a,a.seriesIndex),data:a.values[i]}))});var d=a.tickFormat()(n.x()(r,i));l.tooltip.position({left:u+c.left,top:e.mouseY+c.top}).chartContainer(O.parentNode).enabled(b).valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:d,series:f})(),l.renderGuideLine(u)}),l.dispatch.on("elementMouseout",function(t){k.tooltipHide(),o.clearHighlights()}),u.dispatch.on("legendClick",function(t,r){t.disabled=!t.disabled,x.filter(function(t){return!t.disabled}).length||x.map(function(t){return t.disabled=!1,L.selectAll(".nv-series").classed("disabled",!1),t}),S.disabled=x.map(function(t){return!!t.disabled}),k.stateChange(S),e.transition().call(n)}),u.dispatch.on("legendDblclick",function(t){x.forEach(function(t){t.disabled=!0}),t.disabled=!1,S.disabled=x.map(function(t){return!!t.disabled}),k.stateChange(S),n.update()}),k.on("tooltipShow",function(t){b&&P(t,O.parentNode)}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),n.update()})}),A.renderEnd("historicalBarChart immediate"),n}var r,i,o=e||t.models.historicalBar(),a=t.models.axis(),s=t.models.axis(),u=t.models.legend(),l=t.interactiveGuideline(),c={top:30,right:90,bottom:50,left:90},h=t.utils.defaultColor(),f=null,d=null,p=!1,g=!0,v=!0,y=!1,m=!1,b=!0,x=function(t,e,n,r,i){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},S={},_=null,w="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),M=250;a.orient("bottom").tickPadding(7),s.orient(y?"right":"left");var P=function(e,r){if(r){var i=d3.select(r).select("svg"),u=i.node()?i.attr("viewBox"):null;if(u){u=u.split(" ");var l=parseInt(i.style("width"))/u[2];e.pos[0]=e.pos[0]*l,e.pos[1]=e.pos[1]*l}}var c=e.pos[0]+(r.offsetLeft||0),h=e.pos[1]+(r.offsetTop||0),f=a.tickFormat()(o.x()(e.point,e.pointIndex)),d=s.tickFormat()(o.y()(e.point,e.pointIndex)),p=x(e.series.key,f,d,e,n);t.tooltip.show([c,h],p,null,null,r)},A=t.utils.renderWatch(k,0);return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],k.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){b&&t.tooltip.cleanup()}),n.dispatch=k,n.bars=o,n.legend=u,n.xAxis=a,n.yAxis=s,n.interactiveLayer=l,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),u.color(h),o.color(h)}},duration:{get:function(){return M},set:function(t){M=t,A.reset(M),s.duration(M),a.duration(M)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,s.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return m},set:function(t){m=t,t===!0&&n.interactive(!1)}}}),t.utils.inheritOptions(n,o),t.utils.initOptions(n),n},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.legend=function(){"use strict";function e(f){return f.each(function(e){var f=r-n.left-n.right,d=d3.select(this);t.utils.initSVG(d);var p=d.selectAll("g.nv-legend").data([e]),g=(p.enter().append("g").attr("class","nvd3 nv-legend").append("g"),p.select("g"));p.attr("transform","translate("+n.left+","+n.top+")");var v=g.selectAll(".nv-series").data(function(t){return t}),y=v.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){h.legendMouseover(t,e)}).on("mouseout",function(t,e){h.legendMouseout(t,e)}).on("click",function(t,n){h.legendClick(t,n),l&&(c?(e.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,e.every(function(t){return t.disabled})&&e.forEach(function(t){t.disabled=!1})),h.stateChange({disabled:e.map(function(t){return!!t.disabled})}))}).on("dblclick",function(t,n){h.legendDblclick(t,n),l&&(e.forEach(function(t){t.disabled=!0}),t.disabled=!1,h.stateChange({disabled:e.map(function(t){return!!t.disabled})}))});if(y.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),y.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),v.classed("nv-disabled",function(t){return t.disabled}),v.exit().remove(),v.select("circle").style("fill",function(t,e){return t.color||a(t,e)}).style("stroke",function(t,e){return t.color||a(t,e)}),v.select("text").text(o),s){var m=[];v.each(function(e,n){var r,i=d3.select(this).select("text");try{if(r=i.node().getComputedTextLength(),r<=0)throw Error()}catch(e){r=t.utils.calcApproxTextWidth(i)}m.push(r+28)});for(var b=0,x=0,S=[];x<f&&b<m.length;)S[b]=m[b],x+=m[b++];for(0===b&&(b=1);x>f&&b>1;){S=[],b--;for(var _=0;_<m.length;_++)m[_]>(S[_%b]||0)&&(S[_%b]=m[_]);
x=S.reduce(function(t,e,n,r){return t+e})}for(var w=[],k=0,M=0;k<b;k++)w[k]=M,M+=S[k];v.attr("transform",function(t,e){return"translate("+w[e%b]+","+(5+20*Math.floor(e/b))+")"}),u?g.attr("transform","translate("+(r-n.right-x)+","+n.top+")"):g.attr("transform","translate(0,"+n.top+")"),i=n.top+n.bottom+20*Math.ceil(m.length/b)}else{var P,A=5,C=5,O=0;v.attr("transform",function(t,e){var i=d3.select(this).select("text").node().getComputedTextLength()+28;return P=C,r<n.left+n.right+P+i&&(C=P=5,A+=20),C+=i,C>O&&(O=C),"translate("+P+","+A+")"}),g.attr("transform","translate("+(r-n.right-O)+","+n.top+")"),i=n.top+n.bottom+A+15}}),e}var n={top:5,right:0,bottom:5,left:0},r=400,i=20,o=function(t){return t.key},a=t.utils.defaultColor(),s=!0,u=!0,l=!0,c=!1,h=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return e.dispatch=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},key:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return l},set:function(t){l=t}},radioButtonMode:{get:function(){return c},set:function(t){c=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.line=function(){"use strict";function e(g){return b.reset(),b.models(i),g.each(function(e){var g=a-o.left-o.right,v=s-o.top-o.bottom,x=d3.select(this);t.utils.initSVG(x),n=i.xScale(),r=i.yScale(),y=y||n,m=m||r;var S=x.selectAll("g.nv-wrap.nv-line").data([e]),_=S.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),w=_.append("defs"),k=_.append("g"),M=S.select("g");k.append("g").attr("class","nv-groups"),k.append("g").attr("class","nv-scatterWrap"),S.attr("transform","translate("+o.left+","+o.top+")"),i.width(g).height(v);var P=S.select(".nv-scatterWrap");P.call(i),w.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),S.select("#nv-edge-clip-"+i.id()+" rect").attr("width",g).attr("height",v>0?v:0),M.attr("clip-path",d?"url(#nv-edge-clip-"+i.id()+")":""),P.attr("clip-path",d?"url(#nv-edge-clip-"+i.id()+")":"");var A=S.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});A.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),A.exit().remove(),A.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),A.watchTransition(b,"line: groups").style("stroke-opacity",1).style("fill-opacity",.5);var C=A.selectAll("path.nv-area").data(function(t){return f(t)?[t]:[]});C.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(p).defined(h).x(function(e,n){return t.utils.NaNtoZero(y(l(e,n)))}).y0(function(e,n){return t.utils.NaNtoZero(m(c(e,n)))}).y1(function(t,e){return m(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[e.values])}),A.exit().selectAll("path.nv-area").remove(),C.watchTransition(b,"line: areaPaths").attr("d",function(e){return d3.svg.area().interpolate(p).defined(h).x(function(e,r){return t.utils.NaNtoZero(n(l(e,r)))}).y0(function(e,n){return t.utils.NaNtoZero(r(c(e,n)))}).y1(function(t,e){return r(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[e.values])});var O=A.selectAll("path.nv-line").data(function(t){return[t.values]});O.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(h).x(function(e,n){return t.utils.NaNtoZero(y(l(e,n)))}).y(function(e,n){return t.utils.NaNtoZero(m(c(e,n)))})),O.watchTransition(b,"line: linePaths").attr("d",d3.svg.line().interpolate(p).defined(h).x(function(e,r){return t.utils.NaNtoZero(n(l(e,r)))}).y(function(e,n){return t.utils.NaNtoZero(r(c(e,n)))})),y=n.copy(),m=r.copy()}),b.renderEnd("line immediate"),e}var n,r,i=t.models.scatter(),o={top:0,right:0,bottom:0,left:0},a=960,s=500,u=t.utils.defaultColor(),l=function(t){return t.x},c=function(t){return t.y},h=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},f=function(t){return t.area},d=!1,p="linear",g=250,v=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");i.pointSize(16).pointDomain([16,256]);var y,m,b=t.utils.renderWatch(v,g);return e.dispatch=v,e.scatter=i,i.dispatch.on("elementClick",function(){v.elementClick.apply(this,arguments)}),i.dispatch.on("elementMouseover",function(){v.elementMouseover.apply(this,arguments)}),i.dispatch.on("elementMouseout",function(){v.elementMouseout.apply(this,arguments)}),e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return h},set:function(t){h=t}},interpolate:{get:function(){return p},set:function(t){p=t}},clipEdge:{get:function(){return d},set:function(t){d=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return g},set:function(t){g=t,b.reset(g),i.duration(g)}},isArea:{get:function(){return f},set:function(t){f=d3.functor(t)}},x:{get:function(){return l},set:function(t){l=t,i.x(t)}},y:{get:function(){return c},set:function(t){c=t,i.y(t)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),i.color(u)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.lineChart=function(){"use strict";function e(b){return P.reset(),P.models(i),p&&P.models(o),g&&P.models(a),b.each(function(b){var P=d3.select(this),O=this;t.utils.initSVG(P);var E=(h||parseInt(P.style("width"))||960)-l.left-l.right,T=(f||parseInt(P.style("height"))||400)-l.top-l.bottom;if(e.update=function(){0===k?P.call(e):P.transition().duration(k).call(e)},e.container=this,x.setter(C(b),e.update).getter(A(b)).update(),x.disabled=b.map(function(t){return!!t.disabled}),!S){var V;S={};for(V in x)x[V]instanceof Array?S[V]=x[V].slice(0):S[V]=x[V]}if(!(b&&b.length&&b.filter(function(t){return t.values.length}).length)){var G=P.selectAll(".nv-noData").data([_]);return G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),G.attr("x",l.left+E/2).attr("y",l.top+T/2).text(function(t){return t}),e}P.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var L=P.selectAll("g.nv-wrap.nv-lineChart").data([b]),D=L.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),R=L.select("g");D.append("rect").style("opacity",0),D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-linesWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-interactive"),R.select("rect").attr("width",E).attr("height",T>0?T:0),d&&(s.width(E),R.select(".nv-legendWrap").datum(b).call(s),l.top!=s.height()&&(l.top=s.height(),T=(f||parseInt(P.style("height"))||400)-l.top-l.bottom),L.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),L.attr("transform","translate("+l.left+","+l.top+")"),v&&R.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),y&&(u.width(E).height(T).margin({left:l.left,top:l.top}).svgContainer(P).xScale(n),L.select(".nv-interactive").call(u)),i.width(E).height(T).color(b.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!b[e].disabled}));var N=R.select(".nv-linesWrap").datum(b.filter(function(t){return!t.disabled}));N.call(i),p&&(o.scale(n).ticks(t.utils.calcTicksX(E/100,b)).tickSize(-T,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),R.select(".nv-x.nv-axis").call(o)),g&&(a.scale(r).ticks(t.utils.calcTicksY(T/36,b)).tickSize(-E,0),R.select(".nv-y.nv-axis").call(a)),s.dispatch.on("stateChange",function(t){for(var n in t)x[n]=t[n];w.stateChange(x),e.update()}),u.dispatch.on("elementMousemove",function(n){i.clearHighlights();var r,s,h,f=[];if(b.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){s=t.interactiveBisect(o.values,n.pointXValue,e.x()),i.highlightPoint(a,s,!0);var u=o.values[s];"undefined"!=typeof u&&("undefined"==typeof r&&(r=u),"undefined"==typeof h&&(h=e.xScale()(e.x()(u,s))),f.push({key:o.key,value:e.y()(u,s),color:c(o,o.seriesIndex)}))}),f.length>2){var d=e.yScale().invert(n.mouseY),p=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),g=.03*p,v=t.nearestValueIndex(f.map(function(t){return t.value}),d,g);null!==v&&(f[v].highlight=!0)}var y=o.tickFormat()(e.x()(r,s));u.tooltip.position({left:h+l.left,top:n.mouseY+l.top}).chartContainer(O.parentNode).enabled(m).valueFormatter(function(t,e){return a.tickFormat()(t)}).data({value:y,series:f})(),u.renderGuideLine(h)}),u.dispatch.on("elementClick",function(n){var r,o=[];b.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(i){var a=t.interactiveBisect(i.values,n.pointXValue,e.x()),s=i.values[a];if("undefined"!=typeof s){"undefined"==typeof r&&(r=e.xScale()(e.x()(s,a)));var u=e.yScale()(e.y()(s,a));o.push({point:s,pointIndex:a,pos:[r,u],seriesIndex:i.seriesIndex,series:i})}}),i.dispatch.elementClick(o)}),u.dispatch.on("elementMouseout",function(t){w.tooltipHide(),i.clearHighlights()}),w.on("tooltipShow",function(t){m&&M(t,O.parentNode)}),w.on("changeState",function(t){"undefined"!=typeof t.disabled&&b.length===t.disabled.length&&(b.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),e.update()})}),P.renderEnd("lineChart immediate"),e}var n,r,i=t.models.line(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),u=t.interactiveGuideline(),l={top:30,right:20,bottom:50,left:60},c=t.utils.defaultColor(),h=null,f=null,d=!0,p=!0,g=!0,v=!1,y=!1,m=!0,b=function(t,e,n,r,i){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},x=t.utils.state(),S=null,_="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),k=250;o.orient("bottom").tickPadding(7),a.orient(v?"right":"left");var M=function(n,r){var s=n.pos[0]+(r.offsetLeft||0),u=n.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(n.point,n.pointIndex)),c=a.tickFormat()(i.y()(n.point,n.pointIndex)),h=b(n.series.key,l,c,n,e);t.tooltip.show([s,u],h,null,null,r)},P=t.utils.renderWatch(w,k),A=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},C=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],w.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),w.on("tooltipHide",function(){m&&t.tooltip.cleanup()}),e.dispatch=w,e.lines=i,e.legend=s,e.xAxis=o,e.yAxis=a,e.interactiveLayer=u,e.dispatch=w,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return d},set:function(t){d=t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},tooltips:{get:function(){return m},set:function(t){m=t}},tooltipContent:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return k},set:function(t){k=t,P.reset(k),i.duration(k),o.duration(k),a.duration(k)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),s.color(c),i.color(c)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,a.orient(v?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(t){y=t,y&&(i.interactive(!1),i.useVoronoi(!1))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.linePlusBarChart=function(){"use strict";function e(D){return D.each(function(D){function B(t){var e=+("e"==t),n=e?1:-1,r=J/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function U(){x.empty()||x.extent(G),dt.data([x.empty()?i.domain():G]).each(function(t,e){var n=i(t[0])-i.range()[0],r=i.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",r<0?0:r)})}function Z(){G=x.empty()?null:x.extent(),n=x.empty()?i.domain():x.extent(),N.brush({extent:n,brush:x}),U(),h.width(K).height($).color(D.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!D[e].disabled&&D[e].bar})),l.width(K).height($).color(D.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!D[e].disabled&&!D[e].bar}));var e=ut.select(".nv-focus .nv-barsWrap").datum(nt.length?nt.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return h.x()(t,e)>=n[0]&&h.x()(t,e)<=n[1]})}}):[{values:[]}]),s=ut.select(".nv-focus .nv-linesWrap").datum(rt[0].disabled?[{values:[]}]:rt.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return l.x()(t,e)>=n[0]&&l.x()(t,e)<=n[1]})}}));r=nt.length?h.xScale():l.xScale(),d.scale(r).ticks(t.utils.calcTicksX(K/100,D)).tickSize(-$,0),d.domain([Math.ceil(n[0]),Math.floor(n[1])]),ut.select(".nv-x.nv-axis").transition().duration(I).call(d),e.transition().duration(I).call(h),s.transition().duration(I).call(l),ut.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),g.scale(o).ticks(t.utils.calcTicksY($/36,D)).tickSize(-K,0),v.scale(a).ticks(t.utils.calcTicksY($/36,D)).tickSize(nt.length?0:-K,0),ut.select(".nv-focus .nv-y1.nv-axis").style("opacity",nt.length?1:0),ut.select(".nv-focus .nv-y2.nv-axis").style("opacity",rt.length&&!rt[0].disabled?1:0).attr("transform","translate("+r.range()[1]+",0)"),ut.select(".nv-focus .nv-y1.nv-axis").transition().duration(I).call(g),ut.select(".nv-focus .nv-y2.nv-axis").transition().duration(I).call(v)}var X=d3.select(this),Q=this;t.utils.initSVG(X);var K=(w||parseInt(X.style("width"))||960)-S.left-S.right,$=(k||parseInt(X.style("height"))||400)-S.top-S.bottom-(O?V:0),J=V-_.top-_.bottom;if(e.update=function(){X.transition().duration(I).call(e)},e.container=this,j.setter(q(D),e.update).getter(W(D)).update(),j.disabled=D.map(function(t){return!!t.disabled}),!H){var tt;H={};for(tt in j)j[tt]instanceof Array?H[tt]=j[tt].slice(0):H[tt]=j[tt]}if(!(D&&D.length&&D.filter(function(t){return t.values.length}).length)){var et=X.selectAll(".nv-noData").data([R]);return et.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),et.attr("x",S.left+K/2).attr("y",S.top+$/2).text(function(t){return t}),e}X.selectAll(".nv-noData").remove();var nt=D.filter(function(t){return!t.disabled&&t.bar}),rt=D.filter(function(t){return!t.bar});r=h.xScale(),i=p.scale(),o=h.yScale(),a=l.yScale(),s=f.yScale(),u=c.yScale();var it=D.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:M(t,e),y:P(t,e)}})}),ot=D.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:M(t,e),y:P(t,e)}})});r.range([0,K]),i.domain(d3.extent(d3.merge(it.concat(ot)),function(t){return t.x})).range([0,K]);var at=X.selectAll("g.nv-wrap.nv-linePlusBar").data([D]),st=at.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ut=at.select("g");st.append("g").attr("class","nv-legendWrap");var lt=st.append("g").attr("class","nv-focus");lt.append("g").attr("class","nv-x nv-axis"),lt.append("g").attr("class","nv-y1 nv-axis"),lt.append("g").attr("class","nv-y2 nv-axis"),lt.append("g").attr("class","nv-barsWrap"),lt.append("g").attr("class","nv-linesWrap");var ct=st.append("g").attr("class","nv-context");ct.append("g").attr("class","nv-x nv-axis"),ct.append("g").attr("class","nv-y1 nv-axis"),ct.append("g").attr("class","nv-y2 nv-axis"),ct.append("g").attr("class","nv-barsWrap"),ct.append("g").attr("class","nv-linesWrap"),ct.append("g").attr("class","nv-brushBackground"),ct.append("g").attr("class","nv-x nv-brush"),C&&(b.width(K/2),ut.select(".nv-legendWrap").datum(D.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?z:F),t})).call(b),S.top!=b.height()&&(S.top=b.height(),$=(k||parseInt(X.style("height"))||400)-S.top-S.bottom-V),ut.select(".nv-legendWrap").attr("transform","translate("+K/2+","+-S.top+")")),at.attr("transform","translate("+S.left+","+S.top+")"),ut.select(".nv-context").style("display",O?"initial":"none"),f.width(K).height(J).color(D.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!D[e].disabled&&D[e].bar})),c.width(K).height(J).color(D.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!D[e].disabled&&!D[e].bar}));var ht=ut.select(".nv-context .nv-barsWrap").datum(nt.length?nt:[{values:[]}]),ft=ut.select(".nv-context .nv-linesWrap").datum(rt[0].disabled?[{values:[]}]:rt);ut.select(".nv-context").attr("transform","translate(0,"+($+S.bottom+_.top)+")"),ht.transition().call(f),ft.transition().call(c),T&&(p.ticks(t.utils.calcTicksX(K/100,D)).tickSize(-J,0),ut.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),ut.select(".nv-context .nv-x.nv-axis").transition().call(p)),E&&(y.scale(s).ticks(J/36).tickSize(-K,0),m.scale(u).ticks(J/36).tickSize(nt.length?0:-K,0),ut.select(".nv-context .nv-y3.nv-axis").style("opacity",nt.length?1:0).attr("transform","translate(0,"+i.range()[0]+")"),ut.select(".nv-context .nv-y2.nv-axis").style("opacity",rt.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),ut.select(".nv-context .nv-y1.nv-axis").transition().call(y),ut.select(".nv-context .nv-y2.nv-axis").transition().call(m)),x.x(i).on("brush",Z),G&&x.extent(G);var dt=ut.select(".nv-brushBackground").selectAll("g").data([G||x.extent()]),pt=dt.enter().append("g");pt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",J),pt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",J);var gt=ut.select(".nv-x.nv-brush").call(x);gt.selectAll("rect").attr("height",J),gt.selectAll(".resize").append("path").attr("d",B),b.dispatch.on("stateChange",function(t){for(var n in t)j[n]=t[n];N.stateChange(j),e.update()}),N.on("tooltipShow",function(t){L&&Y(t,Q.parentNode)}),N.on("changeState",function(t){"undefined"!=typeof t.disabled&&(D.forEach(function(e,n){e.disabled=t.disabled[n]}),j.disabled=t.disabled),e.update()}),Z()}),e}var n,r,i,o,a,s,u,l=t.models.line(),c=t.models.line(),h=t.models.historicalBar(),f=t.models.historicalBar(),d=t.models.axis(),p=t.models.axis(),g=t.models.axis(),v=t.models.axis(),y=t.models.axis(),m=t.models.axis(),b=t.models.legend(),x=d3.svg.brush(),S={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},w=null,k=null,M=function(t){return t.x},P=function(t){return t.y},A=t.utils.defaultColor(),C=!0,O=!0,E=!1,T=!0,V=50,G=null,L=!0,D=function(t,e,n,r,i){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},R="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),I=0,j=t.utils.state(),H=null,z=" (left axis)",F=" (right axis)";l.clipEdge(!0),c.interactive(!1),d.orient("bottom").tickPadding(5),g.orient("left"),v.orient("right"),p.orient("bottom").tickPadding(5),y.orient("left"),m.orient("right");var Y=function(r,i){n&&(r.pointIndex+=Math.ceil(n[0]));var o=r.pos[0]+(i.offsetLeft||0),a=r.pos[1]+(i.offsetTop||0),s=d.tickFormat()(l.x()(r.point,r.pointIndex)),u=(r.series.bar?g:v).tickFormat()(l.y()(r.point,r.pointIndex)),c=D(r.series.key,s,u,r,e);t.tooltip.show([o,a],c,r.value<0?"n":"s",null,i)},W=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},q=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return l.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+S.left,t.pos[1]+S.top],N.tooltipShow(t)}),l.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t)}),h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+S.left,t.pos[1]+S.top],N.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t)}),N.on("tooltipHide",function(){L&&t.tooltip.cleanup()}),e.dispatch=N,e.legend=b,e.lines=l,e.lines2=c,e.bars=h,e.bars2=f,e.xAxis=d,e.x2Axis=p,e.y1Axis=g,e.y2Axis=v,e.y3Axis=y,e.y4Axis=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return w},set:function(t){w=t}},height:{get:function(){return k},set:function(t){k=t}},showLegend:{get:function(){return C},set:function(t){C=t}},tooltips:{get:function(){return L},set:function(t){L=t}},tooltipContent:{get:function(){return D},set:function(t){D=t}},brushExtent:{get:function(){return G},set:function(t){G=t}},noData:{get:function(){return R},set:function(t){R=t}},focusEnable:{get:function(){return O},set:function(t){O=t}},focusHeight:{get:function(){return V},set:function(t){V=t}},focusShowAxisX:{get:function(){return T},set:function(t){T=t}},focusShowAxisY:{get:function(){return E},set:function(t){E=t}},legendLeftAxisHint:{get:function(){return z},set:function(t){z=t}},legendRightAxisHint:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return S},set:function(t){S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},duration:{get:function(){return I},set:function(t){I=t}},color:{get:function(){return A},set:function(e){A=t.utils.getColor(e),b.color(A)}},x:{get:function(){return M},set:function(t){M=t,l.x(t),c.x(t),h.x(t),f.x(t)}},y:{get:function(){return P},set:function(t){P=t,l.y(t),c.y(t),h.y(t),f.y(t)}}}),t.utils.inheritOptions(e,l),t.utils.initOptions(e),e},t.models.lineWithFocusChart=function(){"use strict";function e(w){return w.each(function(w){function V(t){var e=+("e"==t),n=e?1:-1,r=j/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function G(){d.empty()||d.extent(S),Z.data([d.empty()?i.domain():S]).each(function(t,e){var r=i(t[0])-n.range()[0],o=n.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",o<0?0:o)})}function L(){S=d.empty()?null:d.extent();var t=d.empty()?i.domain():d.extent();if(!(Math.abs(t[0]-t[1])<=1)){M.brush({extent:t,brush:d}),G();var e=W.select(".nv-focus .nv-linesWrap").datum(w.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,values:e.values.filter(function(e,n){return a.x()(e,n)>=t[0]&&a.x()(e,n)<=t[1]})}}));e.transition().duration(P).call(a),W.select(".nv-focus .nv-x.nv-axis").transition().duration(P).call(u),W.select(".nv-focus .nv-y.nv-axis").transition().duration(P).call(l)}}var D=d3.select(this),R=this;t.utils.initSVG(D);var N=(y||parseInt(D.style("width"))||960)-p.left-p.right,I=(m||parseInt(D.style("height"))||400)-p.top-p.bottom-b,j=b-g.top-g.bottom;if(e.update=function(){D.transition().duration(P).call(e)},e.container=this,A.setter(T(w),e.update).getter(E(w)).update(),A.disabled=w.map(function(t){return!!t.disabled}),!C){var H;C={};for(H in A)A[H]instanceof Array?C[H]=A[H].slice(0):C[H]=A[H]}if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var z=D.selectAll(".nv-noData").data([k]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",p.left+N/2).attr("y",p.top+I/2).text(function(t){return t}),e}D.selectAll(".nv-noData").remove(),n=a.xScale(),r=a.yScale(),i=s.xScale(),o=s.yScale();var F=D.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([w]),Y=F.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),W=F.select("g");Y.append("g").attr("class","nv-legendWrap");var q=Y.append("g").attr("class","nv-focus");q.append("g").attr("class","nv-x nv-axis"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-linesWrap");var B=Y.append("g").attr("class","nv-context");B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-linesWrap"),B.append("g").attr("class","nv-brushBackground"),B.append("g").attr("class","nv-x nv-brush"),x&&(f.width(N),W.select(".nv-legendWrap").datum(w).call(f),p.top!=f.height()&&(p.top=f.height(),I=(m||parseInt(D.style("height"))||400)-p.top-p.bottom-b),W.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),F.attr("transform","translate("+p.left+","+p.top+")"),a.width(N).height(I).color(w.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!w[e].disabled})),s.defined(a.defined()).width(N).height(j).color(w.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!w[e].disabled})),W.select(".nv-context").attr("transform","translate(0,"+(I+p.bottom+g.top)+")");var U=W.select(".nv-context .nv-linesWrap").datum(w.filter(function(t){return!t.disabled}));d3.transition(U).call(s),u.scale(n).ticks(t.utils.calcTicksX(N/100,w)).tickSize(-I,0),l.scale(r).ticks(t.utils.calcTicksY(I/36,w)).tickSize(-N,0),W.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")"),d.x(i).on("brush",function(){var t=e.duration();e.duration(0),L(),e.duration(t)}),S&&d.extent(S);var Z=W.select(".nv-brushBackground").selectAll("g").data([S||d.extent()]),X=Z.enter().append("g");X.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",j),X.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",j);var Q=W.select(".nv-x.nv-brush").call(d);Q.selectAll("rect").attr("height",j),Q.selectAll(".resize").append("path").attr("d",V),L(),c.scale(i).ticks(t.utils.calcTicksX(N/100,w)).tickSize(-j,0),W.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(W.select(".nv-context .nv-x.nv-axis")).call(c),h.scale(o).ticks(t.utils.calcTicksY(j/36,w)).tickSize(-N,0),d3.transition(W.select(".nv-context .nv-y.nv-axis")).call(h),W.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),f.dispatch.on("stateChange",function(t){for(var n in t)A[n]=t[n];M.stateChange(A),e.update()}),M.on("tooltipShow",function(t){_&&O(t,R.parentNode)}),M.on("changeState",function(t){"undefined"!=typeof t.disabled&&w.forEach(function(e,n){e.disabled=t.disabled[n]}),e.update()})}),e}var n,r,i,o,a=t.models.line(),s=t.models.line(),u=t.models.axis(),l=t.models.axis(),c=t.models.axis(),h=t.models.axis(),f=t.models.legend(),d=d3.svg.brush(),p={top:30,right:30,bottom:30,left:60},g={top:0,right:30,bottom:20,left:60},v=t.utils.defaultColor(),y=null,m=null,b=100,x=!0,S=null,_=!0,w=function(t,e,n,r,i){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),P=250,A=t.utils.state(),C=null;a.clipEdge(!0),s.interactive(!1),u.orient("bottom").tickPadding(5),l.orient("left"),c.orient("bottom").tickPadding(5),h.orient("left");var O=function(n,r){var i=n.pos[0]+(r.offsetLeft||0),o=n.pos[1]+(r.offsetTop||0),s=u.tickFormat()(a.x()(n.point,n.pointIndex)),c=l.tickFormat()(a.y()(n.point,n.pointIndex)),h=w(n.series.key,s,c,n,e);t.tooltip.show([i,o],h,null,null,r)},E=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},T=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],M.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){_&&t.tooltip.cleanup()}),e.dispatch=M,e.legend=f,e.lines=a,e.lines2=s,e.xAxis=u,e.yAxis=l,e.x2Axis=c,e.y2Axis=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return m},set:function(t){m=t}},focusHeight:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return x},set:function(t){x=t}},brushExtent:{get:function(){return S},set:function(t){S=t}},tooltips:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return p},set:function(t){p.top=void 0!==t.top?t.top:p.top,p.right=void 0!==t.right?t.right:p.right,p.bottom=void 0!==t.bottom?t.bottom:p.bottom,p.left=void 0!==t.left?t.left:p.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e),f.color(v)}},interpolate:{get:function(){return a.interpolate()},set:function(t){a.interpolate(t),s.interpolate(t)}},xTickFormat:{get:function(){return u.xTickFormat()},set:function(t){u.xTickFormat(t),c.xTickFormat(t)}},yTickFormat:{get:function(){return l.yTickFormat()},set:function(t){l.yTickFormat(t),h.yTickFormat(t)}},duration:{get:function(){return P},set:function(t){P=t,l.duration(P),u.duration(P)}},x:{get:function(){return a.x()},set:function(t){a.x(t),s.x(t)}},y:{get:function(){return a.y()},set:function(t){a.y(t),s.y(t)}}}),t.utils.inheritOptions(e,a),t.utils.initOptions(e),e},t.models.multiBar=function(){"use strict";function e(O){return A.reset(),O.each(function(e){var O=c-l.left-l.right,E=h-l.top-l.bottom,T=d3.select(this);t.utils.initSVG(T);_&&e.length&&(_=[{values:e[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),b&&(e=d3.layout.stack().offset(x).values(function(t){return t.values}).y(v)(!e.length&&_?_:e)),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),b&&e[0].values.map(function(t,n){var r=0,i=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i,i-=e.size):(e.y1=e.size+r,r+=e.size)})});var V=r&&i?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0,y1:t.y1}})});f.domain(r||d3.merge(V).map(function(t){return t.x})).rangeBands(o||[0,O],M),d.domain(i||d3.extent(d3.merge(V).map(function(t){return b?t.y>0?t.y1:t.y1+t.y:t.y}).concat(y))).range(a||[E,0]),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1])),s=s||f,u=u||d;var G=T.selectAll("g.nv-wrap.nv-multibar").data([e]),L=G.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),D=L.append("defs"),R=L.append("g"),N=G.select("g");R.append("g").attr("class","nv-groups"),G.attr("transform","translate("+l.left+","+l.top+")"),D.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),G.select("#nv-edge-clip-"+p+" rect").attr("width",O).attr("height",E),N.attr("clip-path",m?"url(#nv-edge-clip-"+p+")":"");var I=G.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var j=A.transition(I.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,k)).attr("y",function(t){
return u(b?t.y0:0)||0}).attr("height",0).remove();j.delay&&j.delay(function(t,e){var n=e*(k/(C+1))-e;return n}),I.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return S(t,e)}).style("stroke",function(t,e){return S(t,e)}),I.style("stroke-opacity",1).style("fill-opacity",.75);var H=I.selectAll("rect.nv-bar").data(function(t){return _&&!e.length?_.values:t.values});H.exit().remove();H.enter().append("rect").attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,r){return b?0:r*f.rangeBand()/e.length}).attr("y",function(t){return u(b?t.y0:0)||0}).attr("height",0).attr("width",f.rangeBand()/(b?1:e.length)).attr("transform",function(t,e){return"translate("+f(g(t,e))+",0)"});H.style("fill",function(t,e,n){return S(t,n,e)}).style("stroke",function(t,e,n){return S(t,n,e)}).on("mouseover",function(t,n){d3.select(this).classed("hover",!0),P.elementMouseover({value:v(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(b?e.length/2:t.series+.5)/e.length,d(v(t,n)+(b?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),P.elementMouseout({value:v(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){P.elementClick({value:v(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(b?e.length/2:t.series+.5)/e.length,d(v(t,n)+(b?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){P.elementDblClick({value:v(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(b?e.length/2:t.series+.5)/e.length,d(v(t,n)+(b?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),H.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+f(g(t,e))+",0)"}),w&&(n||(n=e.map(function(){return!0})),H.style("fill",function(t,e,r){return d3.rgb(w(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[r]).toString()}).style("stroke",function(t,e,r){return d3.rgb(w(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[r]).toString()}));var z=H.watchTransition(A,"multibar",Math.min(250,k)).delay(function(t,n){return n*k/e[0].values.length});b?z.attr("y",function(t,e){return d(b?t.y1:0)}).attr("height",function(t,e){return Math.max(Math.abs(d(t.y+(b?t.y0:0))-d(b?t.y0:0)),1)}).attr("x",function(t,n){return b?0:t.series*f.rangeBand()/e.length}).attr("width",f.rangeBand()/(b?1:e.length)):z.attr("x",function(t,n){return t.series*f.rangeBand()/e.length}).attr("width",f.rangeBand()/e.length).attr("y",function(t,e){return v(t,e)<0?d(0):d(0)-d(v(t,e))<1?d(0)-1:d(v(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(d(v(t,e))-d(0)),1)||0}),s=f.copy(),u=d.copy(),e[0]&&e[0].values&&(C=e[0].values.length)}),A.renderEnd("multibar immediate"),e}var n,r,i,o,a,s,u,l={top:0,right:0,bottom:0,left:0},c=960,h=500,f=d3.scale.ordinal(),d=d3.scale.linear(),p=Math.floor(1e4*Math.random()),g=function(t){return t.x},v=function(t){return t.y},y=[0],m=!0,b=!1,x="zero",S=t.utils.defaultColor(),_=!1,w=null,k=500,M=.1,P=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),A=t.utils.renderWatch(P,k),C=0;return e.dispatch=P,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return h},set:function(t){h=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return r},set:function(t){r=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return b},set:function(t){b=t}},stackOffset:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return p},set:function(t){p=t}},hideable:{get:function(){return _},set:function(t){_=t}},groupSpacing:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return k},set:function(t){k=t,A.reset(k)}},color:{get:function(){return S},set:function(e){S=t.utils.getColor(e)}},barColor:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.multiBarChart=function(){"use strict";function e(w){return E.reset(),E.models(i),v&&E.models(o),y&&E.models(a),w.each(function(w){var E=d3.select(this),D=this;t.utils.initSVG(E);var R=(c||parseInt(E.style("width"))||960)-l.left-l.right,N=(h||parseInt(E.style("height"))||400)-l.top-l.bottom;if(e.update=function(){0===O?E.call(e):E.transition().duration(O).call(e)},e.container=this,k.setter(L(w),e.update).getter(G(w)).update(),k.disabled=w.map(function(t){return!!t.disabled}),!M){var I;M={};for(I in k)k[I]instanceof Array?M[I]=k[I].slice(0):M[I]=k[I]}if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var j=E.selectAll(".nv-noData").data([P]);return j.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),j.attr("x",l.left+R/2).attr("y",l.top+N/2).text(function(t){return t}),e}E.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var H=E.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([w]),z=H.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),F=H.select("g");if(z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-barsWrap"),z.append("g").attr("class","nv-legendWrap"),z.append("g").attr("class","nv-controlsWrap"),g&&(s.width(R-C()),i.barColor()&&w.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),F.select(".nv-legendWrap").datum(w).call(s),l.top!=s.height()&&(l.top=s.height(),N=(h||parseInt(E.style("height"))||400)-l.top-l.bottom),F.select(".nv-legendWrap").attr("transform","translate("+C()+","+-l.top+")")),d){var Y=[{key:p.grouped||"Grouped",disabled:i.stacked()},{key:p.stacked||"Stacked",disabled:!i.stacked()}];u.width(C()).color(["#444","#444","#444"]),F.select(".nv-controlsWrap").datum(Y).attr("transform","translate(0,"+-l.top+")").call(u)}H.attr("transform","translate("+l.left+","+l.top+")"),m&&F.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),i.disabled(w.map(function(t){return t.disabled})).width(R).height(N).color(w.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!w[e].disabled}));var W=F.select(".nv-barsWrap").datum(w.filter(function(t){return!t.disabled}));if(W.call(i),v){o.scale(n).ticks(t.utils.calcTicksX(R/100,w)).tickSize(-N,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),F.select(".nv-x.nv-axis").call(o);var q=F.select(".nv-x.nv-axis > g").selectAll("g");if(q.selectAll("line, text").style("opacity",1),x){var B=function(t,e){return"translate("+t+","+e+")"},U=5,Z=17;q.selectAll("text").attr("transform",function(t,e,n){return B(0,n%2==0?U:Z)});var X=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;F.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return B(0,0===e||X%2!==0?Z:U)})}b&&q.filter(function(t,e){return e%Math.ceil(w[0].values.length/(R/100))!==0}).selectAll("text, line").style("opacity",0),S&&q.selectAll(".tick text").attr("transform","rotate("+S+" 0,0)").style("text-anchor",S>0?"start":"end"),F.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}y&&(a.scale(r).ticks(t.utils.calcTicksY(N/36,w)).tickSize(-R,0),F.select(".nv-y.nv-axis").call(a)),s.dispatch.on("stateChange",function(t){for(var n in t)k[n]=t[n];A.stateChange(k),e.update()}),u.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(Y=Y.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}k.stacked=i.stacked(),A.stateChange(k),e.update()}}),A.on("tooltipShow",function(t){_&&V(t,D.parentNode)}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),"undefined"!=typeof t.stacked&&(i.stacked(t.stacked),k.stacked=t.stacked,T=t.stacked),e.update()})}),E.renderEnd("multibarchart immediate"),e}var n,r,i=t.models.multiBar(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),u=t.models.legend(),l={top:30,right:20,bottom:50,left:60},c=null,h=null,f=t.utils.defaultColor(),d=!0,p={},g=!0,v=!0,y=!0,m=!1,b=!0,x=!1,S=0,_=!0,w=function(t,e,n,r,i){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},k=t.utils.state(),M=null,P="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),C=function(){return d?180:0},O=250;k.stacked=!1,i.stacked(!1),o.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),a.orient(m?"right":"left").tickFormat(d3.format(",.1f")),u.updateState(!1);var E=t.utils.renderWatch(A),T=!1,V=function(n,r){var s=n.pos[0]+(r.offsetLeft||0),u=n.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(n.point,n.pointIndex)),c=a.tickFormat()(i.y()(n.point,n.pointIndex)),h=w(n.series.key,l,c,n,e);t.tooltip.show([s,u],h,n.value<0?"n":"s",null,r)},G=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:T}}},L=function(t){return function(e){void 0!==e.stacked&&(T=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],A.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),A.on("tooltipHide",function(){_&&t.tooltip.cleanup()}),e.dispatch=A,e.multibar=i,e.legend=s,e.xAxis=o,e.yAxis=a,e.state=k,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return d},set:function(t){d=t}},controlLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},tooltips:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return P},set:function(t){P=t}},reduceXTicks:{get:function(){return b},set:function(t){b=t}},rotateLabels:{get:function(){return S},set:function(t){S=t}},staggerLabels:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return O},set:function(t){O=t,i.duration(O),o.duration(O),a.duration(O),E.reset(O)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,a.orient(m?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiBarHorizontal=function(){"use strict";function e(f){return C.reset(),f.each(function(e){var f=c-l.left-l.right,P=h-l.top-l.bottom,O=d3.select(this);t.utils.initSVG(O),S&&(e=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(v)(e)),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),S&&e[0].values.map(function(t,n){var r=0,i=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i-e.size,i-=e.size):(e.y1=r,r+=e.size)})});var E=r&&i?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0,y1:t.y1}})});d.domain(r||d3.merge(E).map(function(t){return t.x})).rangeBands(o||[0,P],.1),p.domain(i||d3.extent(d3.merge(E).map(function(t){return S?t.y>0?t.y1+t.y:t.y1:t.y}).concat(m))),_&&!S?p.range(a||[p.domain()[0]<0?k:0,f-(p.domain()[1]>0?k:0)]):p.range(a||[0,f]),s=s||d,u=u||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var T=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),V=T.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),G=(V.append("defs"),V.append("g"));T.select("g");G.append("g").attr("class","nv-groups"),T.attr("transform","translate("+l.left+","+l.top+")");var L=T.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),L.exit().watchTransition(C,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),L.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return b(t,e)}).style("stroke",function(t,e){return b(t,e)}),L.watchTransition(C,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var D=L.selectAll("g.nv-bar").data(function(t){return t.values});D.exit().remove();var R=D.enter().append("g").attr("transform",function(t,n,r){return"translate("+u(S?t.y0:0)+","+(S?0:r*d.rangeBand()/e.length+d(g(t,n)))+")"});R.append("rect").attr("width",0).attr("height",d.rangeBand()/(S?1:e.length)),D.on("mouseover",function(t,n){d3.select(this).classed("hover",!0),A.elementMouseover({value:v(t,n),point:t,series:e[t.series],pos:[p(v(t,n)+(S?t.y0:0)),d(g(t,n))+d.rangeBand()*(S?e.length/2:t.series+.5)/e.length],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),A.elementMouseout({value:v(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){A.elementClick({value:v(t,n),point:t,series:e[t.series],pos:[d(g(t,n))+d.rangeBand()*(S?e.length/2:t.series+.5)/e.length,p(v(t,n)+(S?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){A.elementDblClick({value:v(t,n),point:t,series:e[t.series],pos:[d(g(t,n))+d.rangeBand()*(S?e.length/2:t.series+.5)/e.length,p(v(t,n)+(S?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),y(e[0],0)&&(R.append("polyline"),D.select("polyline").attr("fill","none").attr("points",function(t,n){var r=y(t,n),i=.8*d.rangeBand()/(2*(S?1:e.length));r=r.length?r:[-Math.abs(r),Math.abs(r)],r=r.map(function(t){return p(t)-p(0)});var o=[[r[0],-i],[r[0],i],[r[0],0],[r[1],0],[r[1],-i],[r[1],i]];return o.map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,n){var r=d.rangeBand()/(2*(S?1:e.length));return"translate("+(v(t,n)<0?0:p(v(t,n))-p(0))+", "+r+")"})),R.append("text"),_&&!S?(D.select("text").attr("text-anchor",function(t,e){return v(t,e)<0?"end":"start"}).attr("y",d.rangeBand()/(2*e.length)).attr("dy",".32em").html(function(t,e){var n=M(v(t,e)),r=y(t,e);return void 0===r?n:r.length?n+"+"+M(Math.abs(r[1]))+"-"+M(Math.abs(r[0])):n+"&plusmn;"+M(Math.abs(r))}),D.watchTransition(C,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return v(t,e)<0?-4:p(v(t,e))-p(0)+4})):D.selectAll("text").text(""),w&&!S?(R.append("text").classed("nv-bar-label",!0),D.select("text.nv-bar-label").attr("text-anchor",function(t,e){return v(t,e)<0?"start":"end"}).attr("y",d.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),D.watchTransition(C,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return v(t,e)<0?p(0)-p(v(t,e))+4:-4})):D.selectAll("text.nv-bar-label").text(""),D.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}),x&&(n||(n=e.map(function(){return!0})),D.style("fill",function(t,e,r){return d3.rgb(x(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[r]).toString()}).style("stroke",function(t,e,r){return d3.rgb(x(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[r]).toString()})),S?D.watchTransition(C,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+p(t.y1)+","+d(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(v(t,e)+t.y0)-p(t.y0))}).attr("height",d.rangeBand()):D.watchTransition(C,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+p(v(t,n)<0?v(t,n):0)+","+(t.series*d.rangeBand()/e.length+d(g(t,n)))+")"}).select("rect").attr("height",d.rangeBand()/e.length).attr("width",function(t,e){return Math.max(Math.abs(p(v(t,e))-p(0)),1)}),s=d.copy(),u=p.copy()}),C.renderEnd("multibarHorizontal immediate"),e}var n,r,i,o,a,s,u,l={top:0,right:0,bottom:0,left:0},c=960,h=500,f=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},v=function(t){return t.y},y=function(t){return t.yErr},m=[0],b=t.utils.defaultColor(),x=null,S=!1,_=!1,w=!1,k=60,M=d3.format(",.2f"),P=250,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),C=t.utils.renderWatch(A,P);return e.dispatch=A,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return h},set:function(t){h=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},yErr:{get:function(){return y},set:function(t){y=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return r},set:function(t){r=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceY:{get:function(){return m},set:function(t){m=t}},stacked:{get:function(){return S},set:function(t){S=t}},showValues:{get:function(){return _},set:function(t){_=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return f},set:function(t){f=t}},valueFormat:{get:function(){return M},set:function(t){M=t}},valuePadding:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return P},set:function(t){P=t,C.reset(P)}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}},barColor:{get:function(){return b},set:function(e){x=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.multiBarHorizontalChart=function(){"use strict";function e(x){return E.reset(),E.models(i),v&&E.models(o),y&&E.models(a),x.each(function(x){var E=d3.select(this),T=this;t.utils.initSVG(E);var V=(c||parseInt(E.style("width"))||960)-l.left-l.right,G=(h||parseInt(E.style("height"))||400)-l.top-l.bottom;if(e.update=function(){E.transition().duration(P).call(e)},e.container=this,m=i.stacked(),S.setter(O(x),e.update).getter(C(x)).update(),S.disabled=x.map(function(t){return!!t.disabled}),!_){var L;_={};for(L in S)S[L]instanceof Array?_[L]=S[L].slice(0):_[L]=S[L]}if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var D=E.selectAll(".nv-noData").data([w]);return D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),D.attr("x",l.left+V/2).attr("y",l.top+G/2).text(function(t){return t}),e}E.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var R=E.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([x]),N=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),I=R.select("g");if(N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),N.append("g").attr("class","nv-barsWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-controlsWrap"),g&&(s.width(V-M()),i.barColor()&&x.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),I.select(".nv-legendWrap").datum(x).call(s),l.top!=s.height()&&(l.top=s.height(),G=(h||parseInt(E.style("height"))||400)-l.top-l.bottom),I.select(".nv-legendWrap").attr("transform","translate("+M()+","+-l.top+")")),d){var j=[{key:p.grouped||"Grouped",disabled:i.stacked()},{key:p.stacked||"Stacked",disabled:!i.stacked()}];u.width(M()).color(["#444","#444","#444"]),I.select(".nv-controlsWrap").datum(j).attr("transform","translate(0,"+-l.top+")").call(u)}R.attr("transform","translate("+l.left+","+l.top+")"),i.disabled(x.map(function(t){return t.disabled})).width(V).height(G).color(x.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!x[e].disabled}));var H=I.select(".nv-barsWrap").datum(x.filter(function(t){return!t.disabled}));if(H.transition().call(i),v){o.scale(n).ticks(t.utils.calcTicksY(G/24,x)).tickSize(-V,0),I.select(".nv-x.nv-axis").call(o);var z=I.select(".nv-x.nv-axis").selectAll("g");z.selectAll("line, text")}y&&(a.scale(r).ticks(t.utils.calcTicksX(V/100,x)).tickSize(-G,0),I.select(".nv-y.nv-axis").attr("transform","translate(0,"+G+")"),I.select(".nv-y.nv-axis").call(a)),I.select(".nv-zeroLine line").attr("x1",r(0)).attr("x2",r(0)).attr("y1",0).attr("y2",-G),s.dispatch.on("stateChange",function(t){for(var n in t)S[n]=t[n];k.stateChange(S),e.update()}),u.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(j=j.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}S.stacked=i.stacked(),k.stateChange(S),m=i.stacked(),e.update()}}),k.on("tooltipShow",function(t){b&&A(t,T.parentNode)}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),"undefined"!=typeof t.stacked&&(i.stacked(t.stacked),S.stacked=t.stacked,m=t.stacked),e.update()})}),E.renderEnd("multibar horizontal chart immediate"),e}var n,r,i=t.models.multiBarHorizontal(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend().height(30),u=t.models.legend().height(30),l={top:30,right:20,bottom:50,left:60},c=null,h=null,f=t.utils.defaultColor(),d=!0,p={},g=!0,v=!0,y=!0,m=!1,b=!0,x=function(t,e,n,r,i){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},S=t.utils.state(),_=null,w="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),M=function(){return d?180:0},P=250;S.stacked=!1,i.stacked(m),o.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),a.orient("bottom").tickFormat(d3.format(",.1f")),u.updateState(!1);var A=function(n,r){var s=n.pos[0]+(r.offsetLeft||0),u=n.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(n.point,n.pointIndex)),c=a.tickFormat()(i.y()(n.point,n.pointIndex)),h=x(n.series.key,l,c,n,e);t.tooltip.show([s,u],h,n.value<0?"e":"w",null,r)},C=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:m}}},O=function(t){return function(e){void 0!==e.stacked&&(m=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},E=t.utils.renderWatch(k,P);return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],k.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){b&&t.tooltip.cleanup()}),e.dispatch=k,e.multibar=i,e.legend=s,e.xAxis=o,e.yAxis=a,e.state=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return d},set:function(t){d=t}},controlLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return P},set:function(t){P=t,E.reset(P),i.duration(P),o.duration(P),a.duration(P)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiChart=function(){"use strict";function e(h){return h.each(function(h){var d=d3.select(this),p=this;t.utils.initSVG(d),e.update=function(){d.transition().call(e)},e.container=this;var E=(s||parseInt(d.style("width"))||960)-o.left-o.right,T=(u||parseInt(d.style("height"))||400)-o.top-o.bottom,V=h.filter(function(t){return"line"==t.type&&1==t.yAxis}),G=h.filter(function(t){return"line"==t.type&&2==t.yAxis}),L=h.filter(function(t){return"bar"==t.type&&1==t.yAxis}),D=h.filter(function(t){return"bar"==t.type&&2==t.yAxis}),R=h.filter(function(t){return"area"==t.type&&1==t.yAxis}),N=h.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(h&&h.length&&h.filter(function(t){return t.values.length}).length)){var I=d.selectAll(".nv-noData").data([f]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",o.left+E/2).attr("y",o.top+T/2).text(function(t){return t}),e}d.selectAll(".nv-noData").remove();var j=h.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})}),H=h.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})});n.domain(d3.extent(d3.merge(j.concat(H)),function(t){return t.x})).range([0,E]);var z=d.selectAll("g.wrap.multiChart").data([h]),F=z.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");F.append("g").attr("class","x axis"),F.append("g").attr("class","y1 axis"),F.append("g").attr("class","y2 axis"),F.append("g").attr("class","lines1Wrap"),F.append("g").attr("class","lines2Wrap"),F.append("g").attr("class","bars1Wrap"),F.append("g").attr("class","bars2Wrap"),F.append("g").attr("class","stack1Wrap"),F.append("g").attr("class","stack2Wrap"),F.append("g").attr("class","legendWrap");var Y=z.select("g"),W=h.map(function(t,e){return h[e].color||a(t,e)});l&&(A.color(W),A.width(E/2),Y.select(".legendWrap").datum(h.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(A),o.top!=A.height()&&(o.top=A.height(),T=(u||parseInt(d.style("height"))||400)-o.top-o.bottom),Y.select(".legendWrap").attr("transform","translate("+E/2+","+-o.top+")")),m.width(E).height(T).interpolate(g).color(W.filter(function(t,e){return!h[e].disabled&&1==h[e].yAxis&&"line"==h[e].type})),b.width(E).height(T).interpolate(g).color(W.filter(function(t,e){return!h[e].disabled&&2==h[e].yAxis&&"line"==h[e].type})),x.width(E).height(T).color(W.filter(function(t,e){return!h[e].disabled&&1==h[e].yAxis&&"bar"==h[e].type})),S.width(E).height(T).color(W.filter(function(t,e){return!h[e].disabled&&2==h[e].yAxis&&"bar"==h[e].type})),_.width(E).height(T).color(W.filter(function(t,e){return!h[e].disabled&&1==h[e].yAxis&&"area"==h[e].type})),w.width(E).height(T).color(W.filter(function(t,e){return!h[e].disabled&&2==h[e].yAxis&&"area"==h[e].type})),Y.attr("transform","translate("+o.left+","+o.top+")");var q=Y.select(".lines1Wrap").datum(V.filter(function(t){return!t.disabled})),B=Y.select(".bars1Wrap").datum(L.filter(function(t){return!t.disabled})),U=Y.select(".stack1Wrap").datum(R.filter(function(t){return!t.disabled})),Z=Y.select(".lines2Wrap").datum(G.filter(function(t){return!t.disabled})),X=Y.select(".bars2Wrap").datum(D.filter(function(t){return!t.disabled})),Q=Y.select(".stack2Wrap").datum(N.filter(function(t){return!t.disabled})),K=R.length?R.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],$=N.length?N.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];v.domain(r||d3.extent(d3.merge(j).concat(K),function(t){return t.y})).range([0,T]),y.domain(i||d3.extent(d3.merge(H).concat($),function(t){return t.y})).range([0,T]),m.yDomain(v.domain()),x.yDomain(v.domain()),_.yDomain(v.domain()),b.yDomain(y.domain()),S.yDomain(y.domain()),w.yDomain(y.domain()),R.length&&d3.transition(U).call(_),N.length&&d3.transition(Q).call(w),L.length&&d3.transition(B).call(x),D.length&&d3.transition(X).call(S),V.length&&d3.transition(q).call(m),G.length&&d3.transition(Z).call(b),k.ticks(t.utils.calcTicksX(E/100,h)).tickSize(-T,0),Y.select(".x.axis").attr("transform","translate(0,"+T+")"),d3.transition(Y.select(".x.axis")).call(k),M.ticks(t.utils.calcTicksY(T/36,h)).tickSize(-E,0),d3.transition(Y.select(".y1.axis")).call(M),P.ticks(t.utils.calcTicksY(T/36,h)).tickSize(-E,0),d3.transition(Y.select(".y2.axis")).call(P),Y.select(".y1.axis").classed("nv-disabled",!j.length).attr("transform","translate("+n.range()[0]+",0)"),Y.select(".y2.axis").classed("nv-disabled",!H.length).attr("transform","translate("+n.range()[1]+",0)"),A.dispatch.on("stateChange",function(t){e.update()}),C.on("tooltipShow",function(t){c&&O(t,p.parentNode)})}),e}var n,r,i,o={top:30,right:20,bottom:50,left:60},a=t.utils.defaultColor(),s=null,u=null,l=!0,c=!0,h=function(t,e,n,r,i){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},f="No Data Available.",d=function(t){return t.x},p=function(t){return t.y},g="monotone",n=d3.scale.linear(),v=d3.scale.linear(),y=d3.scale.linear(),m=t.models.line().yScale(v),b=t.models.line().yScale(y),x=t.models.multiBar().stacked(!1).yScale(v),S=t.models.multiBar().stacked(!1).yScale(y),_=t.models.stackedArea().yScale(v),w=t.models.stackedArea().yScale(y),k=t.models.axis().scale(n).orient("bottom").tickPadding(5),M=t.models.axis().scale(v).orient("left"),P=t.models.axis().scale(y).orient("right"),A=t.models.legend().height(30),C=d3.dispatch("tooltipShow","tooltipHide"),O=function(n,r){var i=n.pos[0]+(r.offsetLeft||0),o=n.pos[1]+(r.offsetTop||0),a=k.tickFormat()(m.x()(n.point,n.pointIndex)),s=(2==n.series.yAxis?P:M).tickFormat()(m.y()(n.point,n.pointIndex)),u=h(n.series.key,a,s,n,e);t.tooltip.show([i,o],u,void 0,void 0,r.offsetParent)};return m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),b.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),b.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),x.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),x.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),S.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),S.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),_.dispatch.on("tooltipShow",function(t){
return Math.round(100*_.y()(t.point))?(t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],void C.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),_.dispatch.on("tooltipHide",function(t){C.tooltipHide(t)}),w.dispatch.on("tooltipShow",function(t){return Math.round(100*w.y()(t.point))?(t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],void C.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),w.dispatch.on("tooltipHide",function(t){C.tooltipHide(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),b.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),b.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){c&&t.tooltip.cleanup()}),e.dispatch=C,e.lines1=m,e.lines2=b,e.bars1=x,e.bars2=S,e.stack1=_,e.stack2=w,e.xAxis=k,e.yAxis1=M,e.yAxis2=P,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return r},set:function(t){r=t}},yDomain2:{get:function(){return i},set:function(t){i=t}},tooltips:{get:function(){return c},set:function(t){c=t}},tooltipContent:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}},x:{get:function(){return d},set:function(t){d=t,m.x(t),x.x(t)}},y:{get:function(){return p},set:function(t){p=t,m.y(t),x.y(t)}}}),t.utils.initOptions(e),e},t.models.ohlcBar=function(){"use strict";function e(w){return w.each(function(e){var w=d3.select(this),M=(s||parseInt(w.style("width"))||960)-a.left-a.right,P=(u||parseInt(w.style("height"))||400)-a.top-a.bottom;t.utils.initSVG(w),c.domain(n||d3.extent(e[0].values.map(f).concat(m))),x?c.range(i||[.5*M/e[0].values.length,M*(e[0].values.length-.5)/e[0].values.length]):c.range(i||[0,M]),h.domain(r||[d3.min(e[0].values.map(y).concat(b)),d3.max(e[0].values.map(v).concat(b))]).range(o||[P,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var A=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),C=A.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),O=C.append("defs"),E=C.append("g"),T=A.select("g");E.append("g").attr("class","nv-ticks"),A.attr("transform","translate("+a.left+","+a.top+")"),w.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:l})}),O.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),A.select("#nv-chart-clip-path-"+l+" rect").attr("width",M).attr("height",P),T.attr("clip-path",S?"url(#nv-chart-clip-path-"+l+")":"");var V=A.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});V.exit().remove();V.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,n){var r=M/e[0].values.length*.9;return"m0,0l0,"+(h(p(t,n))-h(v(t,n)))+"l"+-r/2+",0l"+r/2+",0l0,"+(h(y(t,n))-h(p(t,n)))+"l0,"+(h(g(t,n))-h(y(t,n)))+"l"+r/2+",0l"+-r/2+",0z"}).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+h(v(t,e))+")"}).attr("fill",function(t,e){return _[0]}).attr("stroke",function(t,e){return _[0]}).attr("x",0).attr("y",function(t,e){return h(Math.max(0,d(t,e)))}).attr("height",function(t,e){return Math.abs(h(d(t,e))-h(0))});V.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(V).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+h(v(t,e))+")"}).attr("d",function(t,n){var r=M/e[0].values.length*.9;return"m0,0l0,"+(h(p(t,n))-h(v(t,n)))+"l"+-r/2+",0l"+r/2+",0l0,"+(h(y(t,n))-h(p(t,n)))+"l0,"+(h(g(t,n))-h(y(t,n)))+"l"+r/2+",0l"+-r/2+",0z"})}),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},s=null,u=null,l=Math.floor(1e4*Math.random()),c=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},d=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},y=function(t){return t.low},m=[],b=[],x=!1,S=!0,_=t.utils.defaultColor(),w=!1,k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.highlightPoint=function(t,n){e.clearHighlights(),d3.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){d3.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=k,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return m},set:function(t){m=t}},forceY:{get:function(){return b},set:function(t){b=t}},padData:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return S},set:function(t){S=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return d},set:function(t){d=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!=t.top?t.top:a.top,a.right=void 0!=t.right?t.right:a.right,a.bottom=void 0!=t.bottom?t.bottom:a.bottom,a.left=void 0!=t.left?t.left:a.left}},color:{get:function(){return _},set:function(e){_=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinates=function(){"use strict";function e(f){return f.each(function(f){function d(t){return k(s.map(function(e){return[o(e),a[e](t[e])]}))}function p(){var t=s.filter(function(t){return!a[t].brush.empty()}),e=t.map(function(t){return a[t].brush.extent()});l=[],t.forEach(function(t,n){l[n]={dimension:t,extent:e[n]}}),c=[],w.style("display",function(n){var r=t.every(function(t,r){return e[r][0]<=n[t]&&n[t]<=e[r][1]});return r&&c.push(n),r?null:"none"}),h.brush({filters:l,active:c})}var g=d3.select(this),v=(r||parseInt(g.style("width"))||960)-n.left-n.right,y=(i||parseInt(g.style("height"))||400)-n.top-n.bottom;t.utils.initSVG(g),c=f,e.update=function(){},o.rangePoints([0,v],1).domain(s),s.forEach(function(t){return a[t]=d3.scale.linear().domain(d3.extent(f,function(e){return+e[t]})).range([y,0]),a[t].brush=d3.svg.brush().y(a[t]).on("brush",p),"name"!=t});var m=g.selectAll("g.nv-wrap.nv-parallelCoordinates").data([f]),b=m.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),x=b.append("g"),S=m.select("g");x.append("g").attr("class","nv-parallelCoordinatesWrap"),m.attr("transform","translate("+n.left+","+n.top+")");var _,w,k=d3.svg.line(),M=d3.svg.axis().orient("left");_=x.append("g").attr("class","background").selectAll("path").data(f).enter().append("path").attr("d",d),w=x.append("g").attr("class","foreground").selectAll("path").data(f).enter().append("path").attr("d",d).attr("stroke",u);var P=S.selectAll(".dimension").data(s).enter().append("g").attr("class","dimension").attr("transform",function(t){return"translate("+o(t)+",0)"});P.append("g").attr("class","axis").each(function(t){d3.select(this).call(M.scale(a[t]))}).append("text").attr("text-anchor","middle").attr("y",-9).text(String),P.append("g").attr("class","brush").each(function(t){d3.select(this).call(a[t].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),e}var n={top:30,right:10,bottom:10,left:10},r=null,i=null,o=d3.scale.ordinal(),a={},s=[],u=t.utils.defaultColor(),l=[],c=[],h=d3.dispatch("brush");return e.dispatch=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},dimensions:{get:function(){return s},set:function(t){s=t}},margin:{get:function(){return n},set:function(t){n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.pie=function(){"use strict";function e(l){return C.reset(),l.each(function(e){function l(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,y||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return j(e(t))}}var O=r-n.left-n.right,E=i-n.top-n.bottom,T=Math.min(O,E)/2,V=T-T/5,G=d3.select(this);t.utils.initSVG(G);var L=G.selectAll(".nv-wrap.nv-pie").data(e),D=L.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s),R=D.append("g"),N=L.select("g"),I=R.append("g").attr("class","nv-pie");R.append("g").attr("class","nv-pieLabels"),L.attr("transform","translate("+n.left+","+n.top+")"),N.select(".nv-pie").attr("transform","translate("+O/2+","+E/2+")"),N.select(".nv-pieLabels").attr("transform","translate("+O/2+","+E/2+")"),G.on("click",function(t,e){A.chartClick({data:t,index:e,pos:d3.event,id:s})});var j=d3.svg.arc().outerRadius(V),H=d3.svg.arc().outerRadius(V+5);_&&(j.startAngle(_),H.startAngle(_)),k&&(j.endAngle(k),H.endAngle(k)),y&&(j.innerRadius(T*P),H.innerRadius(T*P));var z=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:a(t)});if(z.padAngle&&w&&z.padAngle(w),j.cornerRadius&&M&&(j.cornerRadius(M),H.cornerRadius(M)),y&&m){var F=I.append("g").attr("class","nv-pie");F.append("text").style("text-anchor","middle").attr("class","nv-pie-title").text(function(t){return m}).attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+x+")"})}var Y=L.select(".nv-pie").selectAll(".nv-slice").data(z),W=L.select(".nv-pieLabels").selectAll(".nv-label").data(z);Y.exit().remove(),W.exit().remove();var q=Y.enter().append("g");q.attr("class","nv-slice"),q.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),b&&d3.select(this).select("path").transition().duration(70).attr("d",H),A.elementMouseover({label:o(t.data),value:a(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:s,color:d3.select(this).style("fill")})}),q.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),b&&d3.select(this).select("path").transition().duration(50).attr("d",j),A.elementMouseout({label:o(t.data),value:a(t.data),point:t.data,index:e,id:s})}),Y.attr("fill",function(t,e){return u(t,e)}),Y.attr("stroke",function(t,e){return u(t,e)});var B=q.append("path").each(function(t){this._current=t});if(B.on("click",function(t,e){A.elementClick({label:o(t.data),value:a(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}),B.on("dblclick",function(t,e){A.elementDblClick({label:o(t.data),value:a(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}),Y.select("path").transition().attr("d",j).attrTween("d",l),h){var U=d3.svg.arc().innerRadius(0);if(f)var U=j;p&&(U=d3.svg.arc().outerRadius(j.outerRadius())),W.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t){if(S){t.outerRadius=V+10,t.innerRadius=V+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+U.centroid(t)+") rotate("+e+")"}return t.outerRadius=T+10,t.innerRadius=T+15,"translate("+U.centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",S?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var Z={},X=14,Q=140,K=function(t){return Math.floor(t[0]/Q)*Q+","+Math.floor(t[1]/X)*X};W.watchTransition(C,"pie labels").attr("transform",function(t){if(S){t.outerRadius=V+10,t.innerRadius=V+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+U.centroid(t)+") rotate("+e+")"}t.outerRadius=T+10,t.innerRadius=T+15;var n=U.centroid(t);if(t.value){var r=K(n);Z[r]&&(n[1]-=X),Z[K(n)]=!0}return"translate("+n+")"}),W.select(".nv-label text").style("text-anchor",S?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t,e){var n=(t.endAngle-t.startAngle)/(2*Math.PI),r={key:o(t.data),value:a(t.data),percent:c(n)};return t.value&&n>v?r[g]:""})}}),C.renderEnd("pie immediate"),e}var n={top:0,right:0,bottom:0,left:0},r=500,i=500,o=function(t){return t.x},a=function(t){return t.y},s=Math.floor(1e4*Math.random()),u=t.utils.defaultColor(),l=d3.format(",.2f"),c=d3.format("%"),h=!0,f=!0,p=!1,g="key",v=.02,y=!1,m=!1,b=!0,x=0,S=!1,_=!1,w=!1,k=!1,M=0,P=.5,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),C=t.utils.renderWatch(A);return e.dispatch=A,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},showLabels:{get:function(){return h},set:function(t){h=t}},title:{get:function(){return m},set:function(t){m=t}},titleOffset:{get:function(){return x},set:function(t){x=t}},labelThreshold:{get:function(){return v},set:function(t){v=t}},labelFormat:{get:function(){return c},set:function(t){c=t}},valueFormat:{get:function(){return l},set:function(t){l=t}},x:{get:function(){return o},set:function(t){o=t}},id:{get:function(){return s},set:function(t){s=t}},endAngle:{get:function(){return k},set:function(t){k=t}},startAngle:{get:function(){return _},set:function(t){_=t}},padAngle:{get:function(){return w},set:function(t){w=t}},cornerRadius:{get:function(){return M},set:function(t){M=t}},donutRatio:{get:function(){return P},set:function(t){P=t}},pieLabelsOutside:{get:function(){return f},set:function(t){f=t}},donutLabelsOutside:{get:function(){return p},set:function(t){p=t}},labelSunbeamLayout:{get:function(){return S},set:function(t){S=t}},donut:{get:function(){return y},set:function(t){y=t}},growOnHover:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return n},set:function(t){n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left}},y:{get:function(){return a},set:function(t){a=d3.functor(t)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e)}},labelType:{get:function(){return g},set:function(t){g=t||"key"}}}),t.utils.initOptions(e),e},t.models.pieChart=function(){"use strict";function e(u){return y.reset(),y.models(n),u.each(function(u){var l=d3.select(this);t.utils.initSVG(l);var c=(o||parseInt(l.style("width"),10)||960)-i.left-i.right,p=(a||parseInt(l.style("height"),10)||400)-i.top-i.bottom;if(e.update=function(){l.transition().call(e)},e.container=this,h.setter(b(u),e.update).getter(m(u)).update(),h.disabled=u.map(function(t){return!!t.disabled}),!f){var v;f={};for(v in h)h[v]instanceof Array?f[v]=h[v].slice(0):f[v]=h[v]}if(!u||!u.length){var y=l.selectAll(".nv-noData").data([d]);return y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),y.attr("x",i.left+c/2).attr("y",i.top+p/2).text(function(t){return t}),e}l.selectAll(".nv-noData").remove();var x=l.selectAll("g.nv-wrap.nv-pieChart").data([u]),S=x.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),_=x.select("g");S.append("g").attr("class","nv-pieWrap"),S.append("g").attr("class","nv-legendWrap"),s&&(r.width(c).key(n.x()),x.select(".nv-legendWrap").datum(u).call(r),i.top!=r.height()&&(i.top=r.height(),p=(a||parseInt(l.style("height"))||400)-i.top-i.bottom),x.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")),x.attr("transform","translate("+i.left+","+i.top+")"),n.width(c).height(p);var w=_.select(".nv-pieWrap").datum([u]);d3.transition(w).call(n),r.dispatch.on("stateChange",function(t){for(var n in t)h[n]=t[n];g.stateChange(h),e.update()}),n.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("changeState",function(t){"undefined"!=typeof t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),h.disabled=t.disabled),e.update()})}),y.renderEnd("pieChart immediate"),e}var n=t.models.pie(),r=t.models.legend(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,s=!0,u=t.utils.defaultColor(),l=!0,c=function(t,e,n,r){return'<h3 style="background-color: '+n.color+'">'+t+"</h3><p>"+e+"</p>"},h=t.utils.state(),f=null,d="No Data Available.",p=250,g=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),v=function(r,i){var o=n.x()(r.point),a=r.pos[0]+(i&&i.offsetLeft||0),s=r.pos[1]+(i&&i.offsetTop||0),u=n.valueFormat()(n.y()(r.point)),l=c(o,u,r,e);t.tooltip.show([a,s],l,r.value<0?"n":"s",null,i)},y=t.utils.renderWatch(g),m=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},b=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],g.tooltipShow(t)}),g.on("tooltipShow",function(t){l&&v(t)}),g.on("tooltipHide",function(){l&&t.tooltip.cleanup()}),e.legend=r,e.dispatch=g,e.pie=n,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return d},set:function(t){d=t}},tooltipContent:{get:function(){return c},set:function(t){c=t}},tooltips:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return s},set:function(t){s=t}},defaultState:{get:function(){return f},set:function(t){f=t}},color:{get:function(){return u},set:function(t){u=t,r.color(u),n.color(u)}},duration:{get:function(){return p},set:function(t){p=t,y.reset(p)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.scatter=function(){"use strict";function e(N){return j.reset(),N.each(function(e){function N(){if(!S)return!1;var t=d3.merge(e.map(function(t,e){return t.values.map(function(t,n){var r=p(t,n),i=g(t,n);return[h(r)+1e-7*Math.random(),f(i)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return _(t[4],e)})}));if(R===!0){t.length<3&&(t.push([h.range()[0]-20,f.range()[0]-20,null,null]),t.push([h.range()[1]+20,f.range()[1]+20,null,null]),t.push([h.range()[0]-20,f.range()[0]+20,null,null]),t.push([h.range()[1]+20,f.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,u+10],[s+10,u+10],[s+10,-10]]),r=d3.geom.voronoi(t).map(function(e,r){return{data:n.clip(e),series:t[r][2],point:t[r][3]}});W.select(".nv-point-paths").selectAll("path").remove();var i=W.select(".nv-point-paths").selectAll("path").data(r);if(i.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+e+")"}),P){var o=W.append("svg:g").attr("id","nv-point-clips");o.selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",A)}var l=function(t,n){if(I)return 0;var r=e[t.series];if("undefined"!=typeof r){var i=r.values[t.point];n({point:i,series:r,pos:[h(p(i,t.point))+a.left,f(g(i,t.point))+a.top],seriesIndex:t.series,pointIndex:t.point})}};i.on("click",function(t){l(t,D.elementClick)}).on("dblclick",function(t){l(t,D.elementDblClick)}).on("mouseover",function(t){l(t,D.elementMouseover)}).on("mouseout",function(t,e){l(t,D.elementMouseout)})}else W.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,n){if(I||!e[t.series])return 0;var r=e[t.series],i=r.values[n];D.elementClick({point:i,series:r,pos:[h(p(i,n))+a.left,f(g(i,n))+a.top],seriesIndex:t.series,pointIndex:n})}).on("mouseover",function(t,n){if(I||!e[t.series])return 0;var r=e[t.series],i=r.values[n];D.elementMouseover({point:i,series:r,pos:[h(p(i,n))+a.left,f(g(i,n))+a.top],seriesIndex:t.series,pointIndex:n})}).on("mouseout",function(t,n){if(I||!e[t.series])return 0;var r=e[t.series],i=r.values[n];D.elementMouseout({point:i,series:r,seriesIndex:t.series,pointIndex:n})});I=!1}var H=d3.select(this),z=(s||parseInt(H.style("width"))||960)-a.left-a.right,F=(u||parseInt(H.style("height"))||400)-a.top-a.bottom;t.utils.initSVG(H),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var Y=C&&O&&V?[]:d3.merge(e.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),size:v(t,e)}})}));h.domain(C||d3.extent(Y.map(function(t){return t.x}).concat(m))),w&&e[0]?h.range(E||[(z*k+z)/(2*e[0].values.length),z-z*(1+k)/(2*e[0].values.length)]):h.range(E||[0,z]),f.domain(O||d3.extent(Y.map(function(t){return t.y}).concat(b))).range(T||[F,0]),d.domain(V||d3.extent(Y.map(function(t){return t.size}).concat(x))).range(G||[16,256]),h.domain()[0]!==h.domain()[1]&&f.domain()[0]!==f.domain()[1]||(L=!0),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),isNaN(h.domain()[0])&&h.domain([-1,1]),isNaN(f.domain()[0])&&f.domain([-1,1]),n=n||h,r=r||f,i=i||d;var W=H.selectAll("g.nv-wrap.nv-scatter").data([e]),q=W.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+c+(L?" nv-single-point":"")),B=q.append("defs"),U=q.append("g"),Z=W.select("g");U.append("g").attr("class","nv-groups"),U.append("g").attr("class","nv-point-paths"),W.attr("transform","translate("+a.left+","+a.top+")"),B.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),W.select("#nv-edge-clip-"+c+" rect").attr("width",z).attr("height",F>0?F:0),Z.attr("clip-path",M?"url(#nv-edge-clip-"+c+")":""),I=!0;var X=W.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});X.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),X.exit().remove(),X.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),X.watchTransition(j,"scatter: groups").style("fill",function(t,e){return l(t,e)}).style("stroke",function(t,e){return l(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var Q=X.selectAll("path.nv-point").data(function(t){return t.values.filter(function(t){return!isNaN(t.y)})});Q.enter().append("path").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("transform",function(t,e){return"translate("+n(p(t,e))+","+r(g(t,e))+")"}).attr("d",t.utils.symbol().type(y).size(function(t,e){return d(v(t,e))})),Q.exit().remove(),X.exit().selectAll("path.nv-point").watchTransition(j,"scatter exit").attr("transform",function(t,e){return"translate("+h(p(t,e))+","+f(g(t,e))+")"}).remove(),Q.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),Q.watchTransition(j,"scatter points").attr("transform",function(t,e){return"translate("+h(p(t,e))+","+f(g(t,e))+")"}).attr("d",t.utils.symbol().type(y).size(function(t,e){return d(v(t,e))})),clearTimeout(o),o=setTimeout(N,300),n=h.copy(),r=f.copy(),i=d.copy()}),j.renderEnd("scatter immediate"),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},s=null,u=null,l=t.utils.defaultColor(),c=Math.floor(1e5*Math.random()),h=d3.scale.linear(),f=d3.scale.linear(),d=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=function(t){return t.size||1},y=function(t){return t.shape||"circle"},m=[],b=[],x=[],S=!0,_=function(t){return!t.notActive},w=!1,k=.1,M=!1,P=!0,A=function(){return 25},C=null,O=null,E=null,T=null,V=null,G=null,L=!1,D=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),R=!0,N=250,I=!1,j=t.utils.renderWatch(D,N);return e.dispatch=D,e.options=t.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return d3.selectAll(".nv-chart-"+c+" .nv-point.hover").classed("hover",!1),null},this.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+c+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)}},D.on("elementMouseover.point",function(t){S&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),D.on("elementMouseout.point",function(t){S&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},pointScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return C},set:function(t){C=t}},yDomain:{get:function(){return O},set:function(t){O=t}},pointDomain:{get:function(){return V},set:function(t){V=t}},xRange:{get:function(){return E},set:function(t){E=t}},yRange:{get:function(){return T},set:function(t){T=t}},pointRange:{get:function(){return G},set:function(t){G=t}},forceX:{get:function(){return m},set:function(t){m=t}},forceY:{get:function(){return b},set:function(t){b=t}},forcePoint:{get:function(){return x},set:function(t){x=t}},interactive:{get:function(){return S},set:function(t){S=t}},pointActive:{get:function(){return _},set:function(t){_=t}},padDataOuter:{get:function(){return k},set:function(t){k=t}},padData:{get:function(){return w},set:function(t){w=t}},clipEdge:{get:function(){return M},set:function(t){M=t}},clipVoronoi:{get:function(){return P},set:function(t){P=t}},clipRadius:{get:function(){return A},set:function(t){A=t}},id:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return p},set:function(t){p=d3.functor(t)}},y:{get:function(){return g},set:function(t){g=d3.functor(t)}},pointSize:{get:function(){return v},set:function(t){v=d3.functor(t)}},pointShape:{get:function(){return y},set:function(t){y=d3.functor(t)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return N},set:function(t){N=t,j.reset(N)}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}},useVoronoi:{get:function(){return R},set:function(t){R=t,R===!1&&(P=!1)}}}),t.utils.initOptions(e),e},t.models.scatterChart=function(){"use strict";function e(S){return T.reset(),T.models(n),y&&T.models(r),m&&T.models(i),p&&T.models(a),g&&T.models(s),S.each(function(S){var _=d3.select(this),w=this;t.utils.initSVG(_);var D=(l||parseInt(_.style("width"))||960)-u.left-u.right,R=(c||parseInt(_.style("height"))||400)-u.top-u.bottom;if(e.update=function(){0===C?_.call(e):_.transition().duration(C).call(e)},e.container=this,k.setter(L(S),e.update).getter(G(S)).update(),k.disabled=S.map(function(t){return!!t.disabled}),!M){var N;M={};for(N in k)k[N]instanceof Array?M[N]=k[N].slice(0):M[N]=k[N]}if(!(S&&S.length&&S.filter(function(t){return t.values.length}).length)){var I=_.selectAll(".nv-noData").data([A]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",u.left+D/2).attr("y",u.top+R/2).text(function(t){return t}),T.renderEnd("scatter immediate"),e}_.selectAll(".nv-noData").remove(),f=n.xScale(),d=n.yScale();var j=_.selectAll("g.nv-wrap.nv-scatterChart").data([S]),H=j.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()),z=H.append("g"),F=j.select("g");z.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-scatterWrap"),z.append("g").attr("class","nv-regressionLinesWrap"),z.append("g").attr("class","nv-distWrap"),z.append("g").attr("class","nv-legendWrap"),j.attr("transform","translate("+u.left+","+u.top+")"),b&&F.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),v&&(o.width(D/2),j.select(".nv-legendWrap").datum(S).call(o),u.top!=o.height()&&(u.top=o.height(),R=(c||parseInt(_.style("height"))||400)-u.top-u.bottom),j.select(".nv-legendWrap").attr("transform","translate("+D/2+","+-u.top+")")),n.width(D).height(R).color(S.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!S[e].disabled})),j.select(".nv-scatterWrap").datum(S.filter(function(t){return!t.disabled})).call(n),j.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var Y=j.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});Y.enter().append("g").attr("class","nv-regLines");var W=Y.selectAll(".nv-regLine").data(function(t){return[t]});W.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),W.filter(function(t){return t.intercept&&t.slope}).watchTransition(T,"scatterPlusLineChart: regline").attr("x1",f.range()[0]).attr("x2",f.range()[1]).attr("y1",function(t,e){return d(f.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return d(f.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return h(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),y&&(r.scale(f).ticks(r.ticks()?r.ticks():t.utils.calcTicksX(D/100,S)).tickSize(-R,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")").call(r)),m&&(i.scale(d).ticks(i.ticks()?i.ticks():t.utils.calcTicksY(R/36,S)).tickSize(-D,0),F.select(".nv-y.nv-axis").call(i)),p&&(a.getData(n.x()).scale(f).width(D).color(S.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!S[e].disabled})),z.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),F.select(".nv-distributionX").attr("transform","translate(0,"+d.range()[0]+")").datum(S.filter(function(t){return!t.disabled})).call(a)),g&&(s.getData(n.y()).scale(d).width(R).color(S.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!S[e].disabled})),z.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),F.select(".nv-distributionY").attr("transform","translate("+(b?D:-s.size())+",0)").datum(S.filter(function(t){return!t.disabled})).call(s)),o.dispatch.on("stateChange",function(t){for(var n in t)k[n]=t[n];P.stateChange(k),e.update()}),n.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-R),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+a.size()),t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],P.tooltipShow(t)}),P.on("tooltipShow",function(t){x&&V(t,w.parentNode)}),P.on("changeState",function(t){
"undefined"!=typeof t.disabled&&(S.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),e.update()}),O=f.copy(),E=d.copy()}),T.renderEnd("scatter with line immediate"),e}var n=t.models.scatter(),r=t.models.axis(),i=t.models.axis(),o=t.models.legend(),a=t.models.distribution(),s=t.models.distribution(),u={top:30,right:20,bottom:50,left:75},l=null,c=null,h=t.utils.defaultColor(),f=n.xScale(),d=n.yScale(),p=!1,g=!1,v=!0,y=!0,m=!0,b=!1,x=!0,S=function(t,e,n){return"<strong>"+e+"</strong>"},_=function(t,e,n){return"<strong>"+n+"</strong>"},w=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+r+"</p>"},k=t.utils.state(),M=null,P=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A="No Data Available.",C=250;n.xScale(f).yScale(d),r.orient("bottom").tickPadding(10),i.orient(b?"right":"left").tickPadding(10),a.axis("x"),s.axis("y");var O,E,T=t.utils.renderWatch(P,C),V=function(o,a){var s=o.pos[0]+(a.offsetLeft||0),l=o.pos[1]+(a.offsetTop||0),c=o.pos[0]+(a.offsetLeft||0),h=d.range()[0]+u.top+(a.offsetTop||0),p=f.range()[0]+u.left+(a.offsetLeft||0),g=o.pos[1]+(a.offsetTop||0),v=r.tickFormat()(n.x()(o.point,o.pointIndex)),y=i.tickFormat()(n.y()(o.point,o.pointIndex));null!=S&&t.tooltip.show([c,h],S(o.series.key,v,y,o,e),"n",1,a,"x-nvtooltip"),null!=_&&t.tooltip.show([p,g],_(o.series.key,v,y,o,e),"e",1,a,"y-nvtooltip"),null!=w&&t.tooltip.show([s,l],w(o.series.key,v,y,o.point.tooltip,o,e),o.value<0?"n":"s",null,a)},G=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},L=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseout.tooltip",function(t){P.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),P.on("tooltipHide",function(){x&&t.tooltip.cleanup()}),e.dispatch=P,e.scatter=n,e.legend=o,e.xAxis=r,e.yAxis=i,e.distX=a,e.distY=s,e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},showDistX:{get:function(){return p},set:function(t){p=t}},showDistY:{get:function(){return g},set:function(t){g=t}},showLegend:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},tooltips:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},tooltipXContent:{get:function(){return S},set:function(t){S=t}},tooltipYContent:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return A},set:function(t){A=t}},duration:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,i.orient(t?"right":"left")}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),o.color(h),a.color(h),s.color(h)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.sparkline=function(){"use strict";function e(l){return l.each(function(e){var l=s-a.left-a.right,g=u-a.top-a.bottom,v=d3.select(this);t.utils.initSVG(v),c.domain(n||d3.extent(e,f)).range(i||[0,l]),h.domain(r||d3.extent(e,d)).range(o||[g,0]);var y=v.selectAll("g.nv-wrap.nv-sparkline").data([e]),m=y.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");m.append("g"),y.select("g");y.attr("transform","translate("+a.left+","+a.top+")");var b=y.selectAll("path").data(function(t){return[t]});b.enter().append("path"),b.exit().remove(),b.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return c(f(t,e))}).y(function(t,e){return h(d(t,e))}));var x=y.selectAll("circle.nv-point").data(function(t){function e(e){if(e!=-1){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return d(t,e)}),r=e(n.lastIndexOf(h.domain()[1])),i=e(n.indexOf(h.domain()[0])),o=e(n.length-1);return[i,r,o].filter(function(t){return null!=t})});x.enter().append("circle"),x.exit().remove(),x.attr("cx",function(t,e){return c(f(t,t.pointIndex))}).attr("cy",function(t,e){return h(d(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return f(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":d(t,t.pointIndex)==h.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var n,r,i,o,a={top:2,right:0,bottom:2,left:0},s=400,u=32,l=!0,c=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},d=function(t){return t.y},p=t.utils.getColor(["#000"]);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return u},set:function(t){u=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return h},set:function(t){h=t}},animate:{get:function(){return l},set:function(t){l=t}},x:{get:function(){return f},set:function(t){f=d3.functor(t)}},y:{get:function(){return d},set:function(t){d=d3.functor(t)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sparklinePlus=function(){"use strict";function e(f){return f.each(function(v){function y(){if(!l){var t=A.selectAll(".nv-hoverValue").data(u),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+n(i.x()(v[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),u.length&&(e.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",S),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),A.select(".nv-hoverValue .nv-xValue").text(c(i.x()(v[u[0]],u[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),A.select(".nv-hoverValue .nv-yValue").text(h(i.y()(v[u[0]],u[0]))))}}function m(){function t(t,e){for(var n=Math.abs(i.x()(t[0],0)-e),r=0,o=0;o<t.length;o++)Math.abs(i.x()(t[o],o)-e)<n&&(n=Math.abs(i.x()(t[o],o)-e),r=o);return r}if(!l){var e=d3.mouse(this)[0]-o.left;u=[t(v,Math.round(n.invert(e)))],y()}}var b=d3.select(this);t.utils.initSVG(b);var x=(a||parseInt(b.style("width"))||960)-o.left-o.right,S=(s||parseInt(b.style("height"))||400)-o.top-o.bottom;if(e.update=function(){e(f)},e.container=this,!v||!v.length){var _=b.selectAll(".nv-noData").data([g]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",o.left+x/2).attr("y",o.top+S/2).text(function(t){return t}),e}b.selectAll(".nv-noData").remove();var w=i.y()(v[v.length-1],v.length-1);n=i.xScale(),r=i.yScale();var k=b.selectAll("g.nv-wrap.nv-sparklineplus").data([v]),M=k.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),P=M.append("g"),A=k.select("g");P.append("g").attr("class","nv-sparklineWrap"),P.append("g").attr("class","nv-valueWrap"),P.append("g").attr("class","nv-hoverArea"),k.attr("transform","translate("+o.left+","+o.top+")");var C=A.select(".nv-sparklineWrap");i.width(x).height(S),C.call(i);var O=A.select(".nv-valueWrap"),E=O.selectAll(".nv-currentValue").data([w]);E.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),E.attr("x",x+(p?o.right:0)).attr("y",d?function(t){return r(t)}:0).style("fill",i.color()(v[v.length-1],v.length-1)).text(h(w)),P.select(".nv-hoverArea").append("rect").on("mousemove",m).on("click",function(){l=!l}).on("mouseout",function(){u=[],y()}),A.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-o.left+","+-o.top+")"}).attr("width",x+o.left+o.right).attr("height",S+o.top)}),e}var n,r,i=t.models.sparkline(),o={top:15,right:100,bottom:10,left:50},a=null,s=null,u=[],l=!1,c=d3.format(",r"),h=d3.format(",.2f"),f=!0,d=!0,p=!1,g="No Data Available.";return e.sparkline=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xTickFormat:{get:function(){return c},set:function(t){c=t}},yTickFormat:{get:function(){return h},set:function(t){h=t}},showValue:{get:function(){return f},set:function(t){f=t}},alignValue:{get:function(){return d},set:function(t){d=t}},rightAlignValue:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.stackedArea=function(){"use strict";function e(h){return b.reset(),b.models(v),h.each(function(h){var y=o-i.left-i.right,x=a-i.top-i.bottom,S=d3.select(this);t.utils.initSVG(S),n=v.xScale(),r=v.yScale();var _=h;h.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var w=h.filter(function(t){return!t.disabled});h=d3.layout.stack().order(d).offset(f).values(function(t){return t.values}).x(l).y(c).out(function(t,e,n){var r=0===c(t)?0:n;t.display={y:r,y0:e}})(w);var k=S.selectAll("g.nv-wrap.nv-stackedarea").data([h]),M=k.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),P=M.append("defs"),A=M.append("g"),C=k.select("g");A.append("g").attr("class","nv-areaWrap"),A.append("g").attr("class","nv-scatterWrap"),k.attr("transform","translate("+i.left+","+i.top+")"),v.width(y).height(x).x(l).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(h.map(function(t,e){return t.color||s(t,t.seriesIndex)}));var O=C.select(".nv-scatterWrap").datum(h);O.call(v),P.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),k.select("#nv-edge-clip-"+u+" rect").attr("width",y).attr("height",x),C.attr("clip-path",g?"url(#nv-edge-clip-"+u+")":"");var E=d3.svg.area().x(function(t,e){return n(l(t,e))}).y0(function(t){return r(t.display.y0)}).y1(function(t){return r(t.display.y+t.display.y0)}).interpolate(p),T=d3.svg.area().x(function(t,e){return n(l(t,e))}).y0(function(t){return r(t.display.y0)}).y1(function(t){return r(t.display.y0)}),V=C.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});V.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return T(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),m.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),m.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),m.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),V.exit().remove(),V.style("fill",function(t,e){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||s(t,t.seriesIndex)}),V.watchTransition(b,"stackedArea path").attr("d",function(t,e){return E(t.values,e)}),v.dispatch.on("elementMouseover.area",function(t){C.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),v.dispatch.on("elementMouseout.area",function(t){C.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),e.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<_.length;e++)r+=c(_[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s}}),b.renderEnd("stackedArea immediate"),e}var n,r,i={top:0,right:0,bottom:0,left:0},o=960,a=500,s=t.utils.defaultColor(),u=Math.floor(1e5*Math.random()),l=function(t){return t.x},c=function(t){return t.y},h="stack",f="zero",d="default",p="linear",g=!1,v=t.models.scatter(),y=250,m=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout","renderEnd");v.interactive(!1),v.pointSize(2.2).pointDomain([2.2,2.2]);var b=t.utils.renderWatch(m,y);return v.dispatch.on("elementClick.area",function(t){m.areaClick(t)}),v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],m.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){m.tooltipHide(t)}),e.dispatch=m,e.scatter=v,e.interpolate=function(t){return arguments.length?(p=t,e):p},e.duration=function(t){return arguments.length?(y=t,b.reset(y),v.duration(y),e):y},e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},clipEdge:{get:function(){return g},set:function(t){g=t}},offset:{get:function(){return f},set:function(t){f=t}},order:{get:function(){return d},set:function(t){d=t}},interpolate:{get:function(){return p},set:function(t){p=t}},x:{get:function(){return l},set:function(t){l=d3.functor(t)}},y:{get:function(){return c},set:function(t){c=d3.functor(t)}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return s},set:function(e){s=t.utils.getColor(e)}},style:{get:function(){return h},set:function(t){switch(h=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}}},duration:{get:function(){return y},set:function(t){y=t,b.reset(y),v.duration(y)}}}),t.utils.inheritOptions(e,v),t.utils.initOptions(e),e},t.models.stackedAreaChart=function(){"use strict";function e(S){return T.reset(),T.models(i),v&&T.models(o),y&&T.models(a),S.each(function(S){var T=d3.select(this),R=this;t.utils.initSVG(T);var N=(h||parseInt(T.style("width"))||960)-c.left-c.right,I=(f||parseInt(T.style("height"))||400)-c.top-c.bottom;if(e.update=function(){T.transition().duration(E).call(e)},e.container=this,w.setter(D(S),e.update).getter(L(S)).update(),w.disabled=S.map(function(t){return!!t.disabled}),!k){var j;k={};for(j in w)w[j]instanceof Array?k[j]=w[j].slice(0):k[j]=w[j]}if(!(S&&S.length&&S.filter(function(t){return t.values.length}).length)){var H=T.selectAll(".nv-noData").data([M]);return H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),H.attr("x",c.left+N/2).attr("y",c.top+I/2).text(function(t){return t}),e}T.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var z=T.selectAll("g.nv-wrap.nv-stackedAreaChart").data([S]),F=z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Y=z.select("g");if(F.append("rect").style("opacity",0),F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-stackedWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-controlsWrap"),F.append("g").attr("class","nv-interactive"),Y.select("rect").attr("width",N).attr("height",I),g){var W=p?N-A:N;s.width(W),Y.select(".nv-legendWrap").datum(S).call(s),c.top!=s.height()&&(c.top=s.height(),I=(f||parseInt(T.style("height"))||400)-c.top-c.bottom),Y.select(".nv-legendWrap").attr("transform","translate("+(N-W)+","+-c.top+")")}if(p){var q=[{key:O.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=i.style(),style:"stack"},{key:O.stream||"Stream",metaKey:"Stream",disabled:"stream"!=i.style(),style:"stream"},{key:O.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=i.style(),style:"expand"},{key:O.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=i.style(),style:"stack_percent"}];A=C.length/3*260,q=q.filter(function(t){return C.indexOf(t.metaKey)!==-1}),u.width(A).color(["#444","#444","#444"]),Y.select(".nv-controlsWrap").datum(q).call(u),c.top!=Math.max(u.height(),s.height())&&(c.top=Math.max(u.height(),s.height()),I=(f||parseInt(T.style("height"))||400)-c.top-c.bottom),Y.select(".nv-controlsWrap").attr("transform","translate(0,"+-c.top+")")}z.attr("transform","translate("+c.left+","+c.top+")"),m&&Y.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),b&&(l.width(N).height(I).margin({left:c.left,top:c.top}).svgContainer(T).xScale(n),z.select(".nv-interactive").call(l)),i.width(N).height(I);var B=Y.select(".nv-stackedWrap").datum(S);B.transition().call(i),v&&(o.scale(n).ticks(t.utils.calcTicksX(N/100,S)).tickSize(-I,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+I+")"),Y.select(".nv-x.nv-axis").transition().duration(0).call(o)),y&&(a.scale(r).ticks("wiggle"==i.offset()?0:t.utils.calcTicksY(I/36,S)).tickSize(-N,0).setTickFormat("expand"==i.style()||"stack_percent"==i.style()?d3.format("%"):_),Y.select(".nv-y.nv-axis").transition().duration(0).call(a)),i.dispatch.on("areaClick.toggle",function(t){1===S.filter(function(t){return!t.disabled}).length?S.forEach(function(t){t.disabled=!1}):S.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),w.disabled=S.map(function(t){return!!t.disabled}),P.stateChange(w),e.update()}),s.dispatch.on("stateChange",function(t){for(var n in t)w[n]=t[n];P.stateChange(w),e.update()}),u.dispatch.on("legendClick",function(t,n){t.disabled&&(q=q.map(function(t){return t.disabled=!0,t}),t.disabled=!1,i.style(t.style),w.style=i.style(),P.stateChange(w),e.update())}),l.dispatch.on("elementMousemove",function(n){i.clearHighlights();var r,s,u,h=[];if(S.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){s=t.interactiveBisect(o.values,n.pointXValue,e.x()),i.highlightPoint(a,s,!0);var l=o.values[s];if("undefined"!=typeof l){"undefined"==typeof r&&(r=l),"undefined"==typeof u&&(u=e.xScale()(e.x()(l,s)));var c="expand"==i.style()?l.display.y:e.y()(l,s);h.push({key:o.key,value:c,color:d(o,o.seriesIndex),stackedValue:l.display})}}),h.reverse(),h.length>2){var f=e.yScale().invert(n.mouseY),p=null;h.forEach(function(t,e){f=Math.abs(f);var n=Math.abs(t.stackedValue.y0),r=Math.abs(t.stackedValue.y);if(f>=n&&f<=r+n)return void(p=e)}),null!=p&&(h[p].highlight=!0)}var g=o.tickFormat()(e.x()(r,s)),v="expand"==i.style()?function(t,e){return d3.format(".1%")(t)}:function(t,e){return a.tickFormat()(t)};l.tooltip.position({left:u+c.left,top:n.mouseY+c.top}).chartContainer(R.parentNode).enabled(x).valueFormatter(v).data({value:g,series:h})(),l.renderGuideLine(u)}),l.dispatch.on("elementMouseout",function(t){P.tooltipHide(),i.clearHighlights()}),P.on("tooltipShow",function(t){x&&G(t,R.parentNode)}),P.on("changeState",function(t){"undefined"!=typeof t.disabled&&S.length===t.disabled.length&&(S.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),"undefined"!=typeof t.style&&(i.style(t.style),V=t.style),e.update()})}),T.renderEnd("stacked Area chart immediate"),e}var n,r,i=t.models.stackedArea(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),u=t.models.legend(),l=t.interactiveGuideline(),c={top:30,right:25,bottom:50,left:60},h=null,f=null,d=t.utils.defaultColor(),p=!0,g=!0,v=!0,y=!0,m=!1,b=!1,x=!0,S=function(t,e,n,r,i){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},_=d3.format(",.2f"),w=t.utils.state(),k=null,M="No Data Available.",P=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A=250,C=["Stacked","Stream","Expanded"],O={},E=250;w.style=i.style(),o.orient("bottom").tickPadding(7),a.orient(m?"right":"left"),u.updateState(!1);var T=t.utils.renderWatch(P),V=i.style(),G=function(n,r){var s=n.pos[0]+(r.offsetLeft||0),u=n.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(n.point,n.pointIndex)),c=a.tickFormat()(i.y()(n.point,n.pointIndex)),h=S(n.series.key,l,c,n,e);t.tooltip.show([s,u],h,n.value<0?"n":"s",null,r)},L=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:i.style()}}},D=function(t){return function(e){void 0!==e.style&&(V=e.style),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],P.tooltipShow(t)}),i.dispatch.on("tooltipHide",function(t){P.tooltipHide(t)}),P.on("tooltipHide",function(){x&&t.tooltip.cleanup()}),e.dispatch=P,e.stacked=i,e.legend=s,e.controls=u,e.xAxis=o,e.yAxis=a,e.interactiveLayer=l,a.setTickFormat=a.tickFormat,e.dispatch=P,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},tooltips:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return S},set:function(t){S=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return M},set:function(t){M=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return O},set:function(t){O=t}},yAxisTickFormat:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return E},set:function(t){E=t,T.reset(E),i.duration(E),o.duration(E),a.duration(E)}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),s.color(d),i.color(d)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,a.orient(m?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=!!t,t&&(e.interactive(!1),e.useVoronoi(!1))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.version="1.7.1",t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},s=n(3),u=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"preRender",value:function(){var t=Math.floor(4*this.plotter.baseFontSize);a(Object.getPrototypeOf(e.prototype),"preRender",this).call(this),this.titleX=this.data.x_label||"",this.titleY=this.data.y_label||"",this.hasLabels=!!this.titleX||!!this.titleY,this.superTiny=this.plotter.options.tiny,this.titleY&&this.margins.left<t&&!this.superTiny&&(this.margins.left=t),this.titleX&&!this.superTiny&&(this.margins.bottom+=1.2*this.plotter.baseFontSize)}},{key:"mkGroup",value:function(){var t=this.plotGroup.selectAll("g.upiq-axis-titles").data([null]);t.enter().append("g").classed("upiq-axis-titles",!0),this.group=t}},{key:"renderX",value:function(){var t,e="tabular"===this.data.legend_placement,n=(this.margins.top,Math.floor(this.plotter.gridWidth()/2)+this.margins.left+5),r=this.plotter.plotHeight-5;e||(t=this.group.append("text").classed("x-title",!0).text(this.titleX).style({"font-family":"Arial","text-anchor":"middle"}).attr({transform:"translate("+n+","+r+")"}))}},{key:"renderY",value:function(){var t=this.group.append("text").classed("y-title",!0),e=this.margins.top,n=this.plotter.baseFontSize+5,r=Math.floor(this.plotter.gridHeight()/2)+e;t.text(this.titleY).style({"font-family":"Arial","text-anchor":"middle"}).attr({transform:"translate("+n+","+r+") rotate(-90)"})}},{key:"render",value:function(){this.hasLabels&&(this.mkGroup(),this.titleX&&this.renderX(),this.titleY&&!this.superTiny&&this.renderY())}}]),e}(s.BaseRenderingPlugin);e.AxisTitleRenderer=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},u=n(3),l=n(2),c=n(1),h=function(t){function e(t){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.all_locations=["e","n"]}return i(e,t),a(e,[{key:"preRender",value:function(){s(Object.getPrototypeOf(e.prototype),"preRender",this).call(this),this.placement=this.data.legend_placement,this.smallPlot=this.plotter.options.small,this.tiny=this.plotter.options.tiny,this.loc=this._location(),this.enabled=this._enabled(),this.enabled&&this.initialPositioning(),this.rowMax=this.tiny?1:this.smallPlot?2:4,this.textSize=this.plotter.baseFontSize*(this.tiny?.9:.8),this.data.series.length>4&&!this.smallPlot&&!this.tiny&&(this.textSize*=.8)}},{key:"initialPositioning",value:function(){var t=(this.loc,"n"===this.loc),e=this.tiny,n=this.plotter.plotWidth,r=t?30:this.plotter.plotHeight,i=this.plotter.margins.left,o=n-(e?10:i)-this.margins.right,a=t?o:Math.floor(.2*n),s=Math.floor(.01*n),u=n-a-s;this.width=a-1,this.left=t?i:u+s,this.top=t?1:this.plotter.margins.top-1,this.height=r-this.top-1,t||(this.margins.right=this.width+s+2)}},{key:"_enabled",value:function(){var t=this.placement&&"tabular"!==this.placement,e=this.data.series.length>1;return(this.plotter.options.tiny||this.plotter.plotWidth<320)&&(t=!0),t&&null!==this.loc&&e}},{key:"_location",value:function(){var t=this.data.legend_location,e=this.all_locations.indexOf(t)===-1,n=(this.plotter.plotWidth,e?"e":t);return t?this.smallPlot?"n":n:null}},{key:"_legendOrigin",value:function(){var t=this.plotter.options.tiny?10:this.left;return[t,this.top]}},{key:"container",value:function(){return"n"===this.loc?this.abovePlotGroup:this.plotGroup}},{key:"mkGroup",value:function(){var t=this.container().selectAll("g.upiq-basic-legend").data([null]),e=this._legendOrigin(),n=o(e,2),r=n[0],i=n[1];t.enter().append("g").classed("upiq-basic-legend",!0).attr({transform:"translate("+r+", "+i+")"}),this.group=t}},{key:"drawBgRect",value:function(){this.group.append("rect").classed("legend-bg",!0).attr({height:this.height,width:Math.floor(this.width),fill:"#fff","fill-opacity":0,"stroke-opacity":0}).style({"stroke-width":"0.175%",stroke:"#999"})}},{key:"mkElementGroup",value:function(t,e){var n="n"===this.loc,r=n?Math.floor(t/this.rowMax):t,i=n?0:e,o=n?t%this.rowMax:t,a=(n?o*this.itemWidth:0)+i,s=30*r,u=this.group.append("g").classed("upiq-legend-series",!0).attr({transform:"translate("+a+", "+s+")"});return u}},{key:"drawElement",value:function(t){var e=t.color,n=t.title,r=this.tiny,i=Math.floor(this.plotter.plotWidth*(r?.1:.01)),o=Math.floor(i/2),a=t.position,s=this.mkElementGroup(a,i),u=0+("n"===this.loc?1:a)*this.textSize,c=Math.floor(this.plotter.plotWidth/(r?20:45)),h=this.itemWidth-c-3*o;s.append("rect").classed("legend-series-bg",!0).attr({x:0,y:0,width:this.itemWidth,height:30}).style({stroke:"#aaa","stroke-width":"0.2%",fill:"#fff","fill-opacity":0,"stroke-opacity":0}),s.append("rect").classed("legend-series-color",!0).attr({x:o,y:u,width:c,height:c*(r?2:1)}).style({fill:e}),s.append("g").attr({transform:"translate("+(c+2*o)+" "+u+")"}).append("text").attr({x:0,y:0,"font-size":this.textSize+"px"}).style({"dominant-baseline":"middle"}).text(n).call(l.d3textWrap,h,0)}},{key:"drawElements",value:function(){var t="n"===this.loc,e=this.data.series.length,n=t?this.rowMax:e;this.itemWidth=Math.floor(t?this.width/n:.9*this.width),this.data.series.forEach(function(t){this.drawElement(t)},this)}},{key:"render",value:function(){this.enabled&&(this.mkGroup(),this.drawBgRect(),this.drawElements())}},{key:"_postRender",value:function(){var t=this.group.selectAll("g.upiq-legend-series"),e=this.group[0][0],n=this.rowMax,r=t[0].map(function(t,n){return c.select(t).call(function(t){return t[0].parentNode=e})},this),i=r.length,a=function(t){return t[0][0].getBoundingClientRect().height},s=function(t){return Math.ceil(1.35*a(t.select("text")))},u=Math.max.apply(null,r.map(s)),l="n"===this.loc,h=Math.floor(this.plotter.plotWidth/120);r.forEach(function(t,e){var n=Math.round(u/2);t.select("rect.legend-series-color").call(function(t){var e=t[0][0].getBoundingClientRect().height,r=n-Math.floor(e/2);t.attr({y:r})}),t.select("g").call(function(t){var e=o(c.transform(t.attr("transform")).translate,2),r=e[0],i=(e[1],t.select("text")),a=i[0][0].getBoundingClientRect().height,s=i.selectAll("tspan").size(),u=s>1,l=Math.round(a/s),h=n-Math.floor((a-l)/2),f=u?h:n;t.attr({transform:"translate("+r+" "+f+")"})})},this),r.forEach(function(t,e){var r=Math.floor(e/n),i=h+r*u,o=l?i:e*u+h,a=c.transform(t.attr("transform")).translate[0],s=t.select("rect.legend-series-bg");t.attr({transform:"translate("+a+" "+o+")"}),s.attr({height:u})},this),this.group.select("rect.legend-bg").classed("sizing",!0).attr({height:function(t){var e=Math.ceil(i/n);return Math.floor(u*(l?e:i))+2*h}})}},{key:"postRender",value:function(){this.enabled&&this._postRender();
}}]),e}(u.BaseRenderingPlugin);e.BasicLegendRenderer=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},u=n(3),l=n(2),c=(n(28),function(t){function e(){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),a(e,[{key:"extractPathLineSegments",value:function(t){var e=/[Mm]/,n=/[Ll]/,r=function(t){return t.split(n)},i=function(t){return""!==t},a=function(t){return t.split(",")},s=function(t){var e=a(t),n=o(e,2),r=n[0],i=n[1];return{x:r,y:i}},u=function(t){return r(t).map(s)},l=t.split(e).filter(i).map(u);return l}},{key:"missingLines",value:function(t){var e="";return t.length<2?e:(t.forEach(function(n,r){var i,o,a=t[r+1];void 0!==a&&(i=n.slice(-1).pop(),o=a[0],e+="M"+i.x+","+i.y+"L"+o.x+","+o.y)},this),e)}},{key:"renderMissing",value:function(t,e,n,r){var i="dashed"===n,o=t.append("path").attr({d:e}).classed("nv-line upiq-continuation-line",!0);i&&o.style({"stroke-dasharray":"4 4",stroke:l.ColorTool.lighten(r.color,.2)})}},{key:"adjustLines",value:function(t){var e,n,r,i=t.position,o="nv-series-"+i,a=".nv-linesWrap g.nv-line .nv-groups .nv-group."+o,s=this.svg.select(a),u=s.select("path.nv-line"),l=u[0][0].pathSegList,c=l.numberOfItems,h=[],f=t.break_lines;for(r=0;r<c;r++)h.push(l.getItem(r));e=this.extractPathLineSegments(h.filter(function(t){return"z"!==t.pathSegTypeAsLetter}).map(function(t){return""+t.pathSegTypeAsLetter+t.x+","+t.y},this).join("")),n=this.missingLines(e),n&&this.renderMissing(s,n,f,t)}},{key:"render",value:function(){var t=this,e=this.data.series.filter(function(t){return"hidden"!==t.break_lines});"line"===this.plotter.type&&e.forEach(function(e){return t.adjustLines(e)})}}]),e}(u.BaseRenderingPlugin));e.ContinuityLinesPlugin=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e,n){var r=f.select(d.createElement("div")),i=(t.title,r.append("h5").text(t.title).style({"background-color":n,color:c.ColorTool.isLight(n)?"#000":"#fff"}),r.append("dl")),o=f.format(t.display_format.replace("%",",")||",.1f"),a=o(e.y);return i.append("dt").classed("name",!0).append("span").classed("point-title",!0).text(e.title),i.append("dd").classed("value",!0).text(a),i.append("p").classed("note",!0).text(e.note),e.uri&&i.append("a").attr({href:e.uri,target:"_blank"}).text("View data source"),r}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},l=n(3),c=n(2),h=n(22),f=n(1),d=window.document,p=function(t){function e(t){r(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.__name__="PointClickPlugin"}return i(e,t),s(e,[{key:"preRender",value:function(){u(Object.getPrototypeOf(e.prototype),"preRender",this).call(this)}},{key:"render",value:function(){this.xScale=this.plotter.timeScale,this.yScale=this.plotter.yScale}},{key:"scaledCoordinates",value:function(t){var e=Math.floor(this.xScale(t.x)+this.margins.left),n=Math.floor(this.yScale(t.y)+this.margins.top);return[e,n]}},{key:"showOverlay",value:function(t,e,n){var r=n.color,i=c.ColorTool,s=i.isLight(r)?i.darken(r):r,u=this.scaledCoordinates(e),l=a(u,2),f=l[0],d=l[1],p=f<.5*this.plotter.plotWidth,g=Math.max(13,.7*this.plotter.baseFontSize),v=o(n,e,s).html(),y=new h.Overlay(v,{container:this.plotCore[0][0],classname:p?"left":void 0,style:{left:p?f+"px":void 0,right:p?void 0:this.plotter.plotWidth-f+"px",top:d+"px",width:"45%","min-width":"150px","max-width":"300px","font-size":g+"px","z-index":1e4}});y.open()}},{key:"loadInteractiveFeatures",value:function(){var t=this,e=this.svg.selectAll(".nv-point, .nv-bar"),n=(e.data(),function(e,n){var r=f.select(this),i=r.data()[0],o=t.data.series[i.seriesIndex];t.showOverlay(r,i,o)});e.on("click",n)}}]),e}(l.BaseRenderingPlugin);e.PointClickPlugin=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},s=n(3),u=n(1),l=function(t){function e(t){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.colCount=this.plotter.options.columns||4,this.container=u.select(this.plotter.plotDiv[0][0].parentNode)}return i(e,t),o(e,[{key:"isEnabled",value:function(){return"compact"===this.plotter.options.layout}},{key:"sizeColumns",value:function(){var t,e=.89,n=Math.floor(100/this.colCount*e),r=""+n+"%";this.plotDiv.style({width:r,float:"left"}),t=this.plotDiv[0][0].getBoundingClientRect().width,this.plotter.plotWidth=t,this.plotter.plotHeight=Math.floor(.85*t),this.chart.width(this.plotter.plotWidth),this.chart.height(this.plotter.plotHeight),this.plotter.baseFontSize=Math.max(11,Math.floor(t/45*2)/2),this.plotter.plotCore.style({"font-size":""+this.plotter.baseFontSize+"px",height:""+this.plotter.plotHeight+"px"})}},{key:"markerSize",value:function(t){return(t.size||8)*Math.pow(this.plotter.plotWidth/220,2)}},{key:"layoutAdjustments",value:function(){this.plotter.options.small=!0,this.plotter.relativeWidth=!0,this.plotter.options.tiny=!0}},{key:"expandAll",value:function(){window.plotqi.plotters.forEach(function(t){t.options.layout="normal",t.options.interactive=!0,t.refresh()})}},{key:"contractAll",value:function(){window.plotqi.plotters.forEach(function(t){t.complete=!1}),window.plotqi.plotters.forEach(function(t){t.options.layout="compact",t.refresh()})}},{key:"hookupToggle",value:function(){var t,e=u.select(".upiq-report-control"),n=!!e.size(),r=n&&window.plotqi.compactControlReady,i=this.enabled,o="Standard",a="Compact",s=i?o:a,l=i?a:o,c=i?"#standard":"#compact",h=i,f=this;n&&!r&&(e.html("").append("span").classed("control-subtle",!0).text("Layout: "),e.append("span").classed("control-current-layout",!0).text(l),e.append("span").classed("divider",!0).text(" | "),t=e.append("a").classed("upiq-compact-toggle",!0).attr({href:c}).text(s),t.on("click",function(n,r){var i=!h,s=i?"#compact":"#standard",u=i?o:a,l=h?o:a,c=i?f.contractAll:f.expandAll;t.attr({href:s}).text(u),e.select("span.control-current-layout").text(l),h=i,c()}),window.plotqi.compactControlReady=!0)}},{key:"preRender",value:function(){a(Object.getPrototypeOf(e.prototype),"preRender",this).call(this),this.enabled=this.isEnabled(),this.hookupToggle(),this.enabled?(this.chart=this.plotter.chart,this.container.classed("compact",!0),this.originally_interactive=this.plotter.options.interactive||!1,this.plotter.options.interactive=!1,this.sizeColumns(),this.layoutAdjustments(),"line"===this.data.chart_type&&this.plotter.chart.pointSize(this.markerSize.bind(this))):this.container.classed("compact",!1)}},{key:"plotClicked",value:function(){var t=this.plotter.data.url||null;t&&window.open(t,"_blank")}},{key:"postRender",value:function(){var t=this;this.enabled&&this.originally_interactive&&this.svg.on("click",function(e,n){t.plotClicked()})}},{key:"rowPlotters",value:function(t){var e=window.plotqi.plotters,n=e.indexOf(t),r=this.colCount,i=Math.floor(n/r);return e.filter(function(t){var n=e.indexOf(t),o=Math.floor(n/r)===i;return o})}},{key:"rowHeight",value:function(t){var e=this.rowPlotters(t);return Math.ceil(Math.max.apply(null,e.map(function(t){return t.plotHeight})))}},{key:"adjustHeight",value:function(t){var e=t.plotDiv.select(".plot-title"),n=e[0][0].getBoundingClientRect().height,r=this.tallestTitle-n,i=this.topLine;t.plotCore.style({"margin-top":Math.ceil(r)+"px"}),t.plotHeight=this.rowHeight(t),t.plotCore.style({height:""+t.plotHeight+"px"}),t.svg.select(".upiq-plot").attr({transform:"translate(0 "+i+")"})}},{key:"swapLegends",value:function(t){var e=t.plotGroup[0][0].getBoundingClientRect().height;t.abovePlotGroup.attr({transform:"translate(0 "+e+")"}),t.plotGroup.attr({transform:"translate(0 0)"})}},{key:"allDone",value:function(){var t=this,e=this.colCount,n=this.container,r=this.container.selectAll(".plotdiv").filter(function(n,r){return r%e===0&&0!==r?t:null}),i=window.plotqi.plotters,o=Math.ceil(Math.max.apply(null,i.map(function(t){return t.plotHeight})));r.each(function(t,e){var r=this;n.insert("div",function(t){return r}).classed("rowbreak",!0)}),this.maxHeight=o,this.tallestTitle=Math.max.apply(null,i.map(function(t){var e=t.plotDiv.select(".plot-title");return e[0][0].getBoundingClientRect().height})),this.topLine=Math.max.apply(null,i.map(function(t){return t.abovePlotGroup[0][0].getBoundingClientRect().height})),i.forEach(this.adjustHeight,this),i.forEach(this.swapLegends,this)}},{key:"isDone",value:function(){var t=window.plotqi.plotters,e=window.plotqi.plotCount,n=t.filter(function(t){return t.complete});return n.length===e}},{key:"onComplete",value:function(){this.enabled&&this.isDone()&&this.allDone()}},{key:"update",value:function(){this.enabled&&(this.clear(),this.render())}}]),e}(s.BaseRenderingPlugin);e.CompactLayoutPlugin=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},s=(n(2),n(3)),u=(n(1),n(4),"nv-linesWrap"),l="nv-barsWrap",c=function(t){function e(t){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.group=null}return i(e,t),o(e,[{key:"preRender",value:function(){a(Object.getPrototypeOf(e.prototype),"preRender",this).call(this)}},{key:"mkGroup",value:function(){var t=this.svg.select(this.plotter.nvType+" > g"),e=t.select("g.nvd3.nv-distribution"),n=this.data.chart_type||"line",r="line"===n,i=r?u:l;e.empty()&&(e=t.insert("g","."+i).classed("nvd3 nv-distribution",!0)),this.group=e}},{key:"render",value:function(){var t,e,n,r=this.data.goal,i=!!r,o=this.data.goal_color||"#ff0000",a=this.plotter.timeScale,s=a(a.domain()[1].valueOf()),u=Math.floor(this.yScale(r));i&&(this.mkGroup(),t=this.group.selectAll("g.nv-dist.nv-goal").data([null]),e=t.enter().append("g").attr("class","nv-dist nv-goal").style("stroke",o).append("line").classed("nv-goal-line",!0).attr({x1:0,y1:u,x2:s,y2:u}),n=t.append("text").classed("nv-goal-lbl",!0).text("Goal: "+r).style({fill:o}).attr({"text-anchor":"start","fill-opacity":0,x:3,y:u-3}))}},{key:"clear",value:function(){this.group&&this.group.remove()}}]),e}(s.BaseRenderingPlugin);e.GoalLineRenderer=c},function(t,e,n){"use strict";function r(t){document.addEventListener("DOMContentLoaded",t)}var i=(n(2),n(5),n(17)),o=n(3);n(1),n(7);window.plotqi=window.plotqi||{},window.plotqi.ready=r,window.plotqi.load=i.loadReports,window.plotqi.BaseRenderingPlugin=o.BaseRenderingPlugin},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},u=n(3),l=n(2),c=n(1),h=function(t){function e(t){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.__name__="PointHoverPlugin"}return i(e,t),a(e,[{key:"preRender",value:function(){s(Object.getPrototypeOf(e.prototype),"preRender",this).call(this),this.overlay=null}},{key:"render",value:function(){this.xScale=this.plotter.timeScale,this.yScale=this.plotter.yScale}},{key:"scaledCoordinates",value:function(t){var e=Math.floor(this.xScale(t.x)+this.margins.left),n=Math.floor(this.yScale(t.y)+this.margins.top);return[e,n]}},{key:"glowMarker",value:function(t){t.classed("highlighted",!0)}},{key:"clearGlow",value:function(){this.svg.selectAll("path.nv-point.highlighted").classed("highlighted",!1)}},{key:"showOverlay",value:function(t,e,n){var r,i,a,s=l.ColorTool.lighten(n.color,.8),u=n.color,h=this.scaledCoordinates(e),f=o(h,2),d=f[0],p=f[1],g=d<.85*this.plotter.plotWidth,v=p>.75*this.plotter.plotHeight,y=Math.max(10,.7*this.plotter.baseFontSize);null===t&&(t=c.select(this.svg.selectAll(".nv-scatterWrap .nv-groups .nv-series-"+n.position+" path.nv-point")[0].filter(function(t){return c.select(t).data()[0].x===e.x})[0])),this.glowMarker(t),l.ColorTool.isLight(u)&&(u=l.ColorTool.darken(u,.4)),a=this.plotter.plotWidth,i=Math.max(5,.02*a)*("bar"===this.plotter.type?1.8:1),d=Math.floor(g?d+i:d),p=Math.floor(v?p-2.15*i:p),r=this.plotCore.append("div").classed("point-hover-tip",!0).style({border:"0.1em solid "+u,"background-color":s,position:"absolute",left:g?d+"px":void 0,right:g?void 0:this.plotter.plotWidth-d+"px",top:p+"px","font-size":y+"px"}),r.append("p").classed("value-info",!0).style("color",u).append("span").text(this.plotter.yformat(e.y)),r.append("p").classed("click-hint",!0).text("Click datapoint for details."),this.plotter.highlightX(e.x),this.plotter.pluginEnabled("TabularLegendRenderer")&&this.plotter.getPlugin("TabularLegendRenderer").highlightColumn(e.x)}},{key:"clearOverlays",value:function(){this.plotCore.selectAll(".point-hover-tip").transition(3e3).style("opacity",0).remove(),this.plotter.clearHighlights(),this.clearGlow(),this.plotter.pluginEnabled("TabularLegendRenderer")&&this.plotter.getPlugin("TabularLegendRenderer").clearHighlights()}},{key:"loadInteractiveFeatures",value:function(){var t=this,e=this.svg.selectAll(".nv-point, .nv-bar"),n=(e.data(),function(e,n){var r=c.select(this),i=r.data()[0],o=t.data.series[i.seriesIndex];t.showOverlay(r,i,o)}),r=function(e,n){t.clearOverlays()};e.on("mouseover",n).on("mouseout",r)}}]),e}(u.BaseRenderingPlugin);e.PointHoverPlugin=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},u=n(3),l=n(5),c=n(4),h=n(1),f=864e5,d={daily:[1,"day"],weekly:[1,"monday"],biweekly:[2,"week"],semimonthly:[.5,"month"],monthly:[1,"month"],bimonthly:[2,"month"],quarterly:[3,"month"],semiannual:[.5,"year"],yearly:[1,"year"]};e.INTERVALS=d;var p=function(t){var e=t&&2===t.length,n=!!e&&("month"!==t[1]&&"year"!==t[1]);return.5===t[0]||n};e.submonthly=p;var g=c.weekdays().map(function(t){return t.toLowerCase()});e.WEEKDAYS=g;var v=function(t){function e(t){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.autodetect()}return i(e,t),a(e,[{key:"attemptAutoInterval",value:function(){var t=this.plotter._intervalConfig()==d.monthly,e=this.series.size()>1;return t&&e}},{key:"setInterval",value:function(t){this.plotter._loadConfig(t)}},{key:"isSubMonthly",value:function(){var t=[],e=[],n=!0;return this.points.forEach(function(r){var i,o;if(i=c.utc(r.key),i.isValid())return o=i.startOf("month").valueOf(),1!==i.date()&&(n=!1),e.length||t.indexOf(o)!==-1?void e.push(o):void t.push(o)}),e.length>0||2===this.points.length&&!n}},{key:"dayOfWeeks",value:function(t){var e=function(t){return t.reduce(function(t,e){return t===e?t:null},t[0]||null)},n=function(t){return c.utc(t).locale("en-us").format("dddd").toLowerCase()},r=this.points.map(n);return e(r)}},{key:"dayOfMonths",value:function(t){var e=function(t){return c.utc(t.key).date()},n=t.map(e),r=n.reduce(function(t,e){return t===e?t:null},n[0]||null);return r}},{key:"_adjacencyList",value:function(t){var e,n=[];for(e=0;e<=t.length-2;e++)n.push([t[e],t[e+1]]);return n}},{key:"distanceDays",value:function(t){var e=this._adjacencyList(t),n=function(t){var e=Math.abs,n=o(t,2),r=n[0],i=n[1];return e((c.utc(r.key)-c.utc(i.key))/f)},r=e.map(n),i=Math.min.apply(null,r),a=Math.max.apply(null,r);return[i,a]}},{key:"detectBiWeekly",value:function(){var t=this.dayOfWeeks(this.points),e=this.distanceDays(this.points),n=o(e,2),r=n[0],i=n[1];return r===i&&14===r&&null!==t}},{key:"detectSemiMonthly",value:function(){var t=this.distanceDays(this.points),e=o(t,2),n=e[0],r=e[1];return r<20&&n>10}},{key:"detectWeekly",value:function(){var t=this.dayOfWeeks(this.points),e=function(t){return Math.max.apply(null,t)},n=h.map();return!!t&&(this.points.forEach(function(t){var e=c.utc(t.key),r=""+e.month();n.keys().indexOf(r)===-1&&n.set(r,0),n.set(r,n.get(r)+1)}),e(n.values())<=5)}},{key:"detectAnnual",value:function(t){var e=function(t){return Math.max.apply(null,t)},n=h.map(),r=this.distanceDays(this.points),i=o(r,2),a=i[0],s=(i[1],1===this.dayOfMonths(this.points));return this.points.forEach(function(t){var e=c.utc(t.key),r=""+e.year();n.keys().indexOf(r)===-1&&n.set(r,0),n.set(r,n.get(r)+1)}),s&&e(n.values())<=1*(t||1)&&a>=365}},{key:"detectSemiAnnual",value:function(){var t=this.detectAnnual(2),e=this.distanceDays(this.points),n=o(e,2),r=n[0],i=(n[1],1===this.dayOfMonths(this.points));return i&&r>180&&t}},{key:"detectQuarterly",value:function(){var t=this.detectAnnual(4),e=this.distanceDays(this.points),n=o(e,2),r=n[0],i=n[1],a=1===this.dayOfMonths(this.points);return a&&i<=180&&r>63&&t}},{key:"detectBiMonthly",value:function(){var t=this.distanceDays(this.points),e=o(t,2),n=e[0],r=e[1],i=1===this.dayOfMonths(this.points);return i&&r<=63&&n>=32}},{key:"inferInterval",value:function(){var t=this.isSubMonthly();return t?this.detectBiWeekly()?d.biweekly:this.detectSemiMonthly()?d.semimonthly:this.detectWeekly()?d.weekly:d.daily:this.detectAnnual()?d.yearly:this.detectSemiAnnual()?d.semiannual:this.detectQuarterly()?d.quarterly:this.detectBiMonthly()?d.bimonthly:[1,"month"]}},{key:"largestSeries",value:function(){var t=h.map();return this.plotter.data.series.forEach(function(e){e.data.size()>t.size()&&(t=e.data)}),t}},{key:"allPoints",value:function(){var t=h.map();return this.plotter.data.series.forEach(function(e){e.data.values().forEach(function(e){null!=e.value&&t.set(e.key,e)})}),t}},{key:"adjustAnnualData",value:function(){var t=this.plotter.data.series,e=[];this.plotter.data.original_series=t.slice(),t.forEach(function(t){this.plotter.data.start=null,e.push(new l.AnnualDataSeries(t,this.plotter.data))},this),this.plotter.data.series=e,this.plotter.data.frequency="yearly"}},{key:"autodetect",value:function(){var t,e;this.series=this.largestSeries(),this.points=this.series.values(),this.series.size()<2&&(this.series=this.allPoints()),this.attemptAutoInterval()&&(t=this.inferInterval(),e=1===t[0]&&"year"===t[1],e&&this.adjustAnnualData(),this.setInterval(t))}}]),e}(u.BaseRenderingPlugin);e.AutoIntervalPlugin=v},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n){var r="cache_bust="+Math.floor(Math.random()*Math.pow(10,8)),i=function(t){return"b_size="+t[1]+"&b_start="+t[0]},o=function(t){return i(t)+"&"+r},a=function(e){return t+"?"+o(e)};return"geometric"===e?(0,c.geometricBatch)(n).map(a):[t+"?"+r]}function o(t,e,n){var r;return n=n||{},void 0===n.interactive&&(n.interactive=d),r=new l.TimeSeriesPlotter(t,e,n),r.update.bind(r)}function a(t,e,n,a){function s(){return"number"==typeof n.size?n.size:t.selectAll("div.plotdiv").size()}function u(e){var r=(n.prefix||"plot")+"-",i=r+e,o=t.select("#"+i);return o.size()||(o=t.append("div").classed("plotdiv",!0).attr("id",i)),o}var l=[],f=function(t){return l.indexOf(t.uid)===-1},d=function(t){u(t.uid).call(function(e){return o(e,t,n)()})},p=s();window.plotqi.plotCount=(window.plotqi.plotCount||0)+p,i(e,n.batching,p).forEach(function(t){(0,c.forReportJSON)(t,function(t){t=t.filter(f).map(function(t){return new h.Chart(t)}),l.push.apply(l,r(t.map(function(t){return t.uid}))),t.forEach(d)})})}function s(t,e,n){function r(t,e){var r=this instanceof window.HTMLElement,i=(n.prefix||"plot")+"-",o=r?this.getAttribute("id").replace(i,""):null;return o||(t?t.uid:null)}return n=n||{},"geometric"===n.batching?void a(t,e,n,r):(e=i(e,"all",n)[0],void(0,c.forReportJSON)(e,function(e){var i;e=e.map(function(t){return new h.Chart(t)}),i=t.selectAll("div.plotdiv").data(e,r),i.each(function(t,e){var r=f.select(this);o(r,t,n)()}),window.plotqi.plotCount=(window.plotqi.plotCount||0)+i.size(),i.enter().append("div").classed("plotdiv",!0).attr({id:function(t){return n.prefix+"-"+t.uid}}).each(function(t,e){var r=f.select(this);o(r,t,n)()})}))}function u(t){var e=(0,c.urlArgs)(),n=function(t){return t=parseInt(t,10),isNaN(t)?null:t},r=window.location.hash;t=t||{},t.interactive=t.interactive||"true",t.prefix=t.prefix||"plot",t.layout=t.layout||e.layout||"normal",r&&(t.layout="#compact"===r?"compact":t.layout,t.layout="#standard"===r?"normal":t.layout),t.columns=t.columns||e.columns||4,f.select(".report-core").each(function(e,r){var i=f.select(this),o=i.attr("data-report-json"),a=(i.attr("data-report-layout"),parseInt(i.attr("data-report-size"),10)),u=Object.create(t);u.prefix=i.attr("data-report-prefix")||t.prefix,u.layout=i.attr("data-report-layout")||t.layout,u.columns=n(i.attr("data-report-columns")||t.columns),u.batching=i.attr("data-report-batch-step")||"all",u.size=isNaN(a)?null:a,s(i,o,u)})}Object.defineProperty(e,"__esModule",{value:!0}),e.chartLoader=o,e.loadReport=s,e.loadReports=u;var l=n(21),c=n(2),h=n(5),f=n(1),d=!0},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},u=n(2),l=n(3),c=n(1),h=n(4),f=function(t){function e(t){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return i(e,t),a(e,[{key:"preRender",value:function(){s(Object.getPrototypeOf(e.prototype),"preRender",this).call(this),this._needsLabelHeadroom()&&(this.margins.top=5+Math.floor(this.plotter.plotHeight/15))}},{key:"_needsLabelHeadroom",value:function(){var t=this.data,e=t.series.filter(t.showLabels,t),n=function(t){var e=[];return t.data.forEach(function(t,n){e.push(n.value||0)}),Math.max.apply(null,e)>90};return e=e.filter(n),!!e.length}},{key:"scalePoint",value:function(t){var e=t[0],n=t[1],r=Object.create(e),i=this.plotter.timeStep,o=this.plotter.interval,a="month"===o&&3===i,s=this.plotter.weekdays.indexOf(o)!==-1,u=a?"quarter":s?"week":o,l=e.key.valueOf(),c=h.utc(l).endOf(u).toDate(),f=Math.round(this.xScale(c.valueOf())),d=f-Math.round(this.xScale(l)),p=d/this.data.series.length,g=n.position*p*.65+.35*p,v=e.value;return r.x=this.xScale(l),r.y=this.yScale(v),"bar"===this.plotter.data.chart_type&&(r.x+=g),r.x2=r.x+5,r.y2=r.y-Math.floor(this.plotter.plotWidth/90),r}},{key:"lineSlope",value:function(t,e){var n,r;return null===t||null===e?0:(n=(e.y-t.y)*-1,r=e.x-t.x,n/r)}},{key:"pointAngles",value:function(t,e,n){var r=this.lineSlope,i=null===e?r(t,n):r(e,t),o=null===n?r(e,t):r(t,n),a=(i+o)/2,s=-1/a,u=Math.atan(a),l=Math.atan(s),c=Math.PI-Math.abs(Math.atan(o))-Math.abs(Math.atan(i));return[u,l,c]}},{key:"scaledPoints",value:function t(e){var n=[],t=[],r=this.plotter.gridHeight()+this.margins.top,i=.75*this.plotter.baseFontSize;return e.data.forEach(function(t,r){null!==r.value&&n.push([r,e])}),t=n.map(this.scalePoint,this),"line"===this.plotter.type&&t.forEach(function(t,e,n){var a=0===e?null:n[e-1],s=e===n.length-1?null:n[e+1],u=this.pointAngles(t,a,s),l=o(u,3),c=l[0],h=l[1],f=l[2],d=f<Math.PI/2,p=a&&s&&a.y<t.y&&s.y<t.y,g=d&&p?-1:1,v=!p&&Math.abs(c)<Math.PI/4,y=v?60:52,m=p&&d?33:y,b=Math.floor(this.plotter.plotWidth/m),x=g*b*Math.sin(h),S=g*b*Math.cos(h);c<0&&(S*=-1,x*=-1),t.x2=t.x-S,t.y2=t.y+x,t.y2>r||t.y2<-1*(this.margins.top||0)?t.hidden=!0:t.y2>r-2*i&&(t.y2=t.y-x)},this),t}},{key:"mkGroup",value:function(){var t=this.plotGroup.selectAll("g.upiq-point-labels").data([null]),e=this.margins.left,n=this.margins.top;return t.enter().append("g").classed("upiq-point-labels",!0).attr({transform:"translate("+e+", "+n+")"}),t}},{key:"renderPoint",value:function(t,e,n){var r=function(t){return null===t?"":c.format(",.1f")(t)},i=n.position,o=n.color,a=u.ColorTool;Math.floor(this.plotter.plotWidth/60);null!==t.value&&(o=a.isDark(o)?a.lighten(o,.5):a.darken(o,.5),e.append("text").classed("upiq-point-label point-label-"+i,!0).attr({"text-anchor":"middle",x:t.x2,y:t.y2}).style({fill:o}).text(r(t.value)))}},{key:"renderSeries",value:function(t,e){var n=this,r=this.scaledPoints(t),i=e.append("g").classed("upiq-series-labels",!0);i.attr({fill:t.color,
"font-family":"Arial Narrow","font-size":"75%"}).style({fill:t.color}),r.filter(function(t){return t.hidden!==!0}).forEach(function(e){return n.renderPoint(e,i,t)})}},{key:"render",value:function(){var t=this,e=this.data.series.filter(function(e){return t.data.showLabels(e)}),n=this.mkGroup(),r=this.plotter.tickVals;this.xScale=this.plotter.timeScale,this.xMax=this.xScale(this.xScale.domain()[1].valueOf()),this.columnInterval=this.xScale(r[1])-this.xScale(r[0]),this.plotter.options.tiny||e.forEach(function(t){this.renderSeries(t,n)},this)}}]),e}(l.BaseRenderingPlugin);e.PointLabelsRenderer=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){var e=(0,u.parseDate)(t,!0);return e.isValid()?e.toDate():null}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},s=n(6),u=n(2),l=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),(0,s.schematize)({key:{title:"Data point key",type:"string",required:!0},value:{title:"Data point value",type:"number",required:!1},title:{title:"Descriptive label (for key)",type:"string",required:!1},valueLabel:{title:"Value label",description:"May be used for N= labels for denominator value",type:"string",required:!1},note:{title:"Data point note",description:"Descriptive note, used in interactive features",type:"string",defaultValue:""},uri:{title:"Data point URI",description:"Link to data source for point",type:"string",required:!1}},this)}return i(e,t),e}(s.Schema);e.DataPointSchema=l;var c=new l;e.dataPointSchema=c;var h=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),(0,s.schematize)({key:{title:"Date key",description:"Time series data point key (Date value); should be naive dates stored as localtime.",type:Date,required:!0,constraint:o}},this)}return i(e,t),e}(l);e.TimeDataPointSchema=h;var f=new h;e.timeDataPointSchema=f;var d=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),(0,s.schematize)({title:{title:"Series title",description:"Series/line name or title",type:"string",required:!1},description:{title:"Series description",description:"Descriptive text metadata about series, oftenis empty or unused",type:"string",required:!1},line_width:{title:"Line width",description:"Line width (in relative px units) Considered in line plots only, ignored otherwise.",type:"number",required:!1,defaultValue:2},color:{title:"Line/bar color",description:'Primary series color name or HTML color code; if unspecified ("Auto" default), defer to automatic default color palette choices.',type:"string",defaultValue:"auto",required:!1},marker_color:{title:"Point marker fill color",description:'Data point marker color name or code; if unspecified ("Auto" default), defer to match the line/bar color.',type:"string",defaultValue:"Auto",required:!1},marker_size:{title:"Marker size",description:"Marker size (in relative px units) Considered in line plots only, ignored otherwise.",type:"number",required:!1,defaultValue:9},marker_width:{title:"Marker stroke width",description:"Marker stroke width (in relative px units) Considered in line plots only, ignored otherwise.  Currently only used for marker style/shape that is not filled.",type:"number",required:!1,defaultValue:2},marker_style:{title:"Marker shape style",description:"Marker shape, selected from enumerated vocabulary of allowable choices.",type:"string",constraint:function(t,e){return"filledCircle"===t?(e.filled=!0,"circle"):"filledSquare"===t?(e.filled=!0,"square"):"filledDiamond"===t?(e.filled=!0,"diamond"):void 0},vocabulary:["x","diamond","circle","square","cross","plus","dash","triangle-up","triangle-down"],required:!1,defaultValue:"square"},show_trend:{title:"Show trend line?",type:"boolean",defaultValue:!1},trend_width:{title:"Trend line width, if applicable",type:"number",defaultValue:2},trend_color:{title:"Trend line color, if applicable",description:'Trend line color name or code; if unspecified ("Auto" default), defer to match the line/bar color.',type:"string",defaultValue:"Auto"},point_labels:{title:"Show point labels?",description:"Show labels above each marker for data value? The default value of defer obeys plot-wide setting, where show/omit explicitly do as described.",type:"string",vocabulary:["defer","omit","show"],defaultValue:"defer"},display_format:{title:"Display format for y values",description:"Standard formatting string",type:"string",defaultValue:"%%.%if"}},this)}return i(e,t),e}(s.Schema);e.DataSeriesSchema=d;var p=new d;e.dataSeriesSchema=p;var g=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),(0,s.schematize)({break_lines:{title:"Break lines?",description:'When a value is missing for name or date on the X axis, should the line be broken/discontinuous such that no line runs through the empty/null value?  This defaults to true, which means that no line will run from adjacent values through the missing value.  For purposes of tabular legend, any value without a data-source should render "--" and any null value (specifying N/A or NaN value) should display as N/A.  At future date, we may wish to add other options for this case, such as drawing a dotted-line through the N/A period that breaks continuity of contiguous points.  Ideally, any such rendering behavior avoids depending on a fixed frequency for a time-series plot.',type:"string",constraint:function(t){if("boolean"==typeof t)return t?"dashed":"solid"},vocabulary:["hidden","solid","dashed"],defaultValue:"dashed"}},this)}return i(e,t),e}(d);e.TimeDataSeriesSchema=g;var v=new g;e.timeDataSeriesSchema=v;var y=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),(0,s.schematize)({name:{title:"Short name",description:"Short name of plot, unique only to report it is contained within, usually descriptive, like a filename; often transformed from title.  May be present in JSON, but usually is not preferred for identification or data binding vs. UID; may be used in URL construction, but in itself does not contain full context or URI.",type:"string",required:!1},uid:{title:"UID",description:"UUID (hexidecimal representation) of chart, based on UUID of chart content in Teamspace CMS system.  May or may not be in canonical RFC 4122 format (with dashes) or unfieled hexidecimal format (usually, no dashes).",type:"string",required:!1},url:{title:"Chart URL",description:"Base URL to chart content",type:"string",required:!1},title:{title:"Title",description:"Data collection name or title; may be displayed in legend.",type:"string",required:!1},description:{title:"Description",description:"Textual description of the data collection.",type:"string",required:!1},info:{title:"Informative notes / caption",description:"This allows any rich text and may contain free-form notes about this chart; displayed in report output.  NOTE: this is NOT included in JSON as of September 2014, and is instead rendered server-side in template -- it may be included in future JSON feeds.",type:"string",required:!1},chart_type:{title:"Chart type",description:"Type of chart to display (line or bar).",type:"string",vocabulary:["line","bar"],defaultValue:"line",required:!0},width:{title:"Width",description:"Display width of chart, including Y-axis labels, grid, and legend (if applicable) in units configured.",type:"number",defaultValue:"100",required:!0},width_units:{title:"Units of width",description:"",type:"string",defaultValue:"%",required:!0},height:{title:"Height",description:"Display height of chart in units configured (either as percentage of width, or in pixels)  -- used when aspect_ratio not specified.",type:"number",defaultValue:"50",required:!0},height_units:{title:"Units of height",description:"Ignore unless aspect ratio not provided or value of height_units is % or px.",type:"string",defaultValue:"2:1",required:!0},aspect_ratio:{title:"Aspect ratio",description:"Preferred ratio of width to height, should control height of containing div, if present.",type:Array,required:!1,constraint:function(t){if(2!==t.length)throw new s.ValidationError(this,t,"Aspect ratio must be a two element Array");if("number"!=typeof t[0]||"number"!=typeof t[1])throw new s.ValidationTypeError(this,typeof t[0]+" "+typeof t[1],"Both elements of aspect ratio must be numbers")}},range_min:{title:"Range minimum",description:"Minimum anticipated value of any data point (optional; if not specified, calculate from available data on all contained series).",type:"number",required:!1},range_max:{title:"Range maximum",description:"Maximum anticipated value of any data point (optional; if not specified, calculate from available data on all contained series).",type:"number",required:!1},units:{title:"Units",description:"Common set of units of measure for the data series in this collection.  If the units for series are not shared, then define respective units on the series themselves. May be displayed as part of Y-axis label using a parenthetical notation of both units and y_label are provided.",type:"string",required:!1},y_label:{title:"Y axis label",description:"Primary Y-Axis label/title (descriptive); this is often omitted since axis is often self-describing (especially when units are percentages).  If omitted, do not allocate space in plot for label. If included, render text at 90-degree rotation (counter-clockwise, with text bottom-to-top).",type:"string",defaultValue:"",required:!1},goal:{title:"Goal",description:"Common goal value as decimal number.  If each series has different respective goals, edit those goals on each series.  If goal is undefined or null, omit display of goal line.",type:"number",required:!1},goal_color:{title:"Goal-line color",description:"If omitted, color will be selected from defaults.",type:"string",defaultValue:"Auto",required:!1},legend_placement:{title:"Legend placement",description:"Where to place legend in relationship to the grid. Note: the legend is disabled for less than two series/line unless the tabular legend is selected.",type:"string",vocabulary:["tabular","outside","inside"],defaultValue:"outside",required:!1},legend_location:{title:"Legend location",description:"Select a directional position for legend. This setting is ignored if either the tabular legend placement is selected or if the legend is hidden (for less than two series). Available choices are cardinal directions, which is a hold-over from how jqPlot idioms.",type:"string",vocabulary:["n","e","w","s","nw","ne","sw","se"],defaultValue:"e",required:!1},x_label:{title:"X axis label",description:"Label for X-axis, optional.",type:"string",defaultValue:"",required:!1},css:{title:"Chart styles",description:"CSS stylesheet rules for chart (optional).",type:"string",required:!1},point_labels:{title:"Show point labels?",description:"Show labels above data-point markers?  This may be overridden on individual lines/series. If omitted, the usual assumption is that a viewer in a browser must hover over a point to see its value, and click for detail. The primary usability question with this is what to do with overlapping values from two lines, which is why we omit usually (or have an idiom of displaying just labels for the first/primary line on the plot, not plot-wide.",type:"string",vocabulary:["show","omit"],defaultValue:"omit",required:!0}},this)}return i(e,t),e}(s.Schema);e.MultiSeriesChartSchema=y;var m=new y;e.multiSeriesChartSchema=m;var b=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),(0,s.schematize)({frequency:{title:"Frequency",description:'Frequncy between periods of reporting that the plot visualizes.  May be used as cue for handling the default date-label choices, where month names are often stand-ins for an exemplar date value for the month, e.g. 2014-06-01 may be represented as "Jun 2014". ',type:"string",vocabulary:["monthly","weekly","yearly","quarterly","daily"],defaultValue:"monthly",required:!1},start:{title:"Start date",description:"Explicit start date; optional.  If an explicit start date is not provided, one should be computed from earliest value in provided data.",type:Date,constraint:function(t,e){return t=o(t)},required:!1},end:{title:"End date",description:"Explicit end date; optional.  If an explicit end date is not provided, one should be computed from latest value in provided data.",type:Date,constraint:function(t,e){return t=o(t)},required:!1},labels:{title:"Date labels",description:"Date label overrides, used for X-axis labels. if ommitted in whole or in part, use a default MM/DD/YYYY format for dates. Is an untyped object value used as key/vaule pair; keys are ISO 8601 date stamps, values labels; example: http://snag.gy/D1zjx.jpg",type:Object,constraint:function(t){Object.keys(t).forEach(function(e){var n=t[e];if(!(0,u.parseDate)(e,!0).isValid())throw new s.ValidationError(this,t,"Key is not a valid Datestamp: "+e);if("string"!=typeof n)throw new s.ValidationTypeError(this,typeof n,"Labels must be strings")},this)},required:!1},auto_crop:{title:"Auto-crop data?",description:"If data contains sequential null values (incomplete or no data calculable) on the right-hand of a time-series plot, should that right-hand side be cropped to only show the latest meaningful data?  The default is to crop automatically.",type:"boolean",defaultValue:!0,required:!1}},this)}return i(e,t),e}(y);e.TimeSeriesChartSchema=b;var x=new b;e.timeSeriesChartSchema=x},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},u=n(2),l=n(3),c=n(1),h=n(4),f="upiq-legend",d="g."+f,p=function(t){function e(t){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.__name__="TabularLegendRenderer",this.legendGroup=null,this.leftPad=5,this.legPad=10,this.cellPadding={top:1,bottom:1,left:1,right:1},this.rowPadding={top:1,bottom:1,left:1,right:1}}return i(e,t),a(e,[{key:"preRender",value:function(){var t;s(Object.getPrototypeOf(e.prototype),"preRender",this).call(this),t=this.plotter.plotWidth<320||this.plotter.options.tiny,this.enabled=this.useTabularLegend()&&!t,this.enabled&&(this.margins.bottom=100,this.margins.left=Math.max(80,Math.floor(.2*this.plotter.plotWidth)))}},{key:"prepare",value:function(){var t=(this.plotter.xScale,this.plotter.tickVals);this.xScale=this.plotter.timeScale,this.xMax=this.xScale(this.xScale.domain()[1].valueOf()),this.columnInterval=this.xScale(t[1])-this.xScale(t[0]),this.yMin=this.plotter.yScale(this.data.range[0])}},{key:"clear",value:function(){this.unloadInteractiveFeatures(),this.plotGroup.selectAll(d).remove()}},{key:"makeLegendGroup",value:function(){var t=this.plotGroup.selectAll(d).data([this.data.series]);t.enter().append("g").classed(f,!0);this.legendGroup=this.plotGroup.select(d)}},{key:"setLegendMargins",value:function(){var t=this.margins,e=this.yMin+t.top+this.legPad;this.legendGroup.attr({transform:"translate("+this.leftPad+", "+e+")"})}},{key:"makeRow",value:function(t){var e=this.legendGroup.append("g").classed("upiq-legend-row",!0),n=e.selectAll("rect").data([null]).enter().append("rect").classed("upiq-legend-table-row-bg",!0);return t.className&&e.classed(t.className,!0),n.attr({height:15,width:this.xMax+(this.margins.left-this.leftPad),"fill-opacity":t["fill-opacity"]||"1.0",fill:t.fill||"#999"}),e}},{key:"fitRow",value:function(t){var e=c.max(t.selectAll("text.upiq-legend-cell-text")[0].map(function(t){return t.getBoundingClientRect().height})),n=this.cellPadding,r=this.rowPadding,i=e+n.top+n.bottom,o=i+r.top+r.bottom,a=t.select("rect.upiq-legend-table-row-bg");return a.attr({height:o,width:this.xMax+(this.margins.left-this.leftPad)}),o}},{key:"drawCells",value:function(t,e,n){var r,i,o=(this.margins.left,"upiq-legend-table-cell"),a="g."+o,s=30,l=this.cellPadding,h=function(t){return"cell-"+(0,u.uuid4)()},f=4,d=.65*this.plotter.baseFontSize,p=Math.max(d,f),g=p>8?"bold":"normal";p*="bold"===g?1:1.1,t.selectAll(a).data(e).enter().append("g").classed(o,!0).attr({"data-timestamp":function(t){return t.stamp},transform:function(t){return"translate("+t.x+", "+t.y+")"}}).each(function(t,e){var n=c.select(this);t.className&&n.classed(t.className,!0)}),t.selectAll(a).append("defs").append("clipPath").classed("groupClip",!0).attr({id:h}).append("rect").attr({x:0,y:0,width:function(t){return t.width+2},height:s}),t.selectAll(a).attr({"clip-path":function(){var t=c.select(this),e=t.select("defs .groupClip");return"url(#"+e.attr("id")+")"}}),t.selectAll(a).append("rect").classed("upiq-legend-table-cell-bg",!0).attr({x:0,y:0,width:function(t){return t.width},height:s,fill:n.fill||"#d0e9d9","fill-opacity":n["fill-opacity"]||"1.0",stroke:n.stroke}),t.selectAll(a).each(function(t,e){var r=c.select(this);r.append("text").classed("upiq-legend-cell-text",!0).classed("noValue",function(t){return"--"===t.text}).classed("nullValue",function(t){return"N/A"===t.text}).text(function(t){return t.text}).call(u.d3textWrap,t.width,0).attr({x:0,y:l.top,lengthAdjust:"spacingAndGlyphs",height:s}).style({"text-anchor":"middle","font-family":"Arial","font-weight":g,"font-size":function(t){var e="N/A"===t.text||"--"===t.text,n=e?.8*p:p;return""+n+"px"},fill:function(t){return t.color||n.textColor||"#000"}}).selectAll("tspan").attr({x:t.width/2,dy:""+p+"px",lengthAdjust:"spacingAndGlyphs"})}),r=c.max(t.selectAll("text.upiq-legend-cell-text")[0].map(function(t){return t.getBoundingClientRect().height})),i=r+l.top+l.bottom,t.selectAll(".upiq-legend-table-cell-bg, .groupClip rect").attr({height:i}),t.selectAll("text, tspan")[0].forEach(function(t){var e=c.select(t),n=1.05*e.datum().width,i=t.getBoundingClientRect(),o=n<16?1.6:1.25,a=i.width;a>n*o&&e.attr({textLength:n}),"text"===t.tagName&&r>1.7*i.height&&e.attr({y:r>i.height?r/4:1})},this),c.select(t.selectAll(".upiq-legend-table-cell-bg")[0][0]).attr({"fill-opacity":0}),c.select(t.selectAll(".upiq-legend-cell-text")[0][0]).attr({textLength:null}).style({"font-size":""+.9*p+"px"})}},{key:"renderLegendRow",value:function(t,e,n){var r,i=this.makeRow(e||{});return this.drawCells(i,t,n),r=this.fitRow(i),[i,r]}},{key:"rowCellData",value:function(t){if("function"!=typeof t)throw new Error("rowCellData not passed textGetter function");var e=o(this.data.domain,2),n=e[0],r=e[1],i=this.plotter.timeRange(n,r),a=this.plotter.timeStep,s=this.xScale,u=null,l=s.domain(),c="bar"===this.plotter.type,f=Math.floor(s.range().slice(-1)[0]/200),d=c?this.plotter.chart.groupSpacing():0,p=2+.2*d,g="line"===this.plotter.type?0:(s(this.plotter.timeOffset(l[0],.875).valueOf())-s(l[0]))/p,v=Math.round(this.margins.left+g),y=(this.data.domain[0],this.plotter.interval),m="month"===this.plotter.interval&&3===a,b=this.plotter.weekdays.indexOf(this.plotter.interval)!==-1,x=m?"quarter":b?"week":y,S=i.map(function(e){var n=e,r=h.utc(e).endOf(x).toDate(),i=Math.round(s(n.valueOf())),o=Math.round(s(r.valueOf())),a=Math.round(o-i),l=Math.round(s(e.valueOf())-5);return u=u||a,l=Math.round(l-u/2),l-=c?f:0,{key:e,width:a-2,x:v+l,y:0,stamp:e.toISOString(),text:t(e)||""}},this);return S}},{key:"headerTableData",value:function(){var t=this.data,e=this.data.x_label,n={x:5,y:0,width:this.plotter.margins.left-10,color:"#aaa",className:"upiq-legend-xaxis-title",text:e?e+" →":""},r=function(e){return t.axisLabel(e).label||""};return[n].concat(this.rowCellData(r))}},{key:"seriesRowData",value:function(t){var e=t.data,n={},r="--",i={x:5,y:0,width:this.plotter.margins.left-10,className:"upiq-legend-series-title",text:t.title},o=function(t){var e=t.valueOf(),i=function(t){return null===t?"N/A":c.format(",.1f")(t)};return Object.keys(n).indexOf(e.toString())===-1?r:i(n[e].value)};return e.forEach(function(t,e){n[t]=e},this),[i].concat(this.rowCellData(o))}},{key:"renderLegendRows",value:function(){var t,e,n=this.headerTableData(),r=u.ColorTool,i={fill:"#eee","fill-opacity":"0.5",className:"upiq-legend-header-row"},a={fill:"#eee","fill-opacity":"0",textColor:"#666"},s={fill:"#cccccc"},l={fill:"#ffffff",textColor:"#000"},c=0,h=this.renderLegendRow(n,i,a),f=o(h,2);t=f[0],e=f[1],t.attr({transform:"translate(0,"+c+")"}),c+=e,this.data.series.forEach(function(t){var e,n,i=this.seriesRowData(t),a=r.lighten(t.color,.2),u=t.color,h=r.isDark(a)?"#fff":"#000",f=Object.create(s),d=Object.create(l);f.fill=t.color,d.fill=a,d.textColor=h,d.first=Object.create(d),d.first.fill=u;var p=this.renderLegendRow(i,f,d),g=o(p,2);e=g[0],n=g[1],e.attr({transform:"translate(0,"+c+")"}),c+=n},this)}},{key:"unloadInteractiveFeatures",value:function(){}},{key:"columnCells",value:function t(e){var n=this.legendGroup.selectAll("g.upiq-legend-row"),t=[];return n.each(function(n,r){var i=c.select(this),o=i.selectAll(".upiq-legend-table-cell"),a=o[0].filter(function(t){var n=c.select(t).data()[0];return n&&n.key&&n.key.valueOf()==e.valueOf()});t.push(a[0])}),t}},{key:"highlightColumn",value:function(t){var e=c.selectAll(this.columnCells(t));e.classed("col-highlighted",!0)}},{key:"clearHighlights",value:function(){var t=this.legendGroup.selectAll(".upiq-legend-table-cell");t.classed("col-highlighted",!1)}},{key:"coordinateEvent",value:function(t,e){var n,r,i,o=t.data()[0],a=o?o.key:null;a&&(n=t[0][0].parentNode,r=this.legendGroup.selectAll(".upiq-legend-row")[0].indexOf(n)-1,i=this.data.series[r],i&&(o=i.data.get(a.valueOf()),o&&(o.x=o.key.valueOf(),o.y=o.value,null!==o.y&&e.showOverlay(null,o,i))))}},{key:"loadInteractiveFeatures",value:function(){var t=this,e=this.plotter.getPlugin("PointClickPlugin"),n=t.plotter.getPlugin("PointHoverPlugin"),r=this.svg.select("g.upiq-legend"),i="g.upiq-legend-table-cell rect, g.upiq-legend-table-cell text",o=(this.svg.selectAll(i),function(t){return(t.data()[0]||{}).key||null}),a=function(t){for(var e=!0;e;){var n=t;e=!1;var r=n.parentNode,i=r.getAttribute("class")||"",o=i.indexOf("upiq-legend-table-cell")!==-1;if(o)return r;if("svg"===r.tagName)return null;t=r,e=!0,r=i=o=void 0}};this.enabled&&(r.on("mouseover",function(e,r){var i,s=c.event.target,u=s?c.select(a(s)):null;u&&(i=o(u),i&&(n&&(n.clearOverlays(),t.coordinateEvent(u,n)),t.highlightColumn(i),t.plotter.highlightX(i)))}).on("mouseout",function(e,r){n&&n.clearOverlays(),t.clearHighlights(),t.plotter.clearHighlights()}),e&&r.on("click",function(n,r){var i,s=c.event.target,u=s?c.select(a(s)):null;u&&(i=o(u),i&&t.coordinateEvent(u,e))}))}},{key:"_dailyPostFixups",value:function(){var t=this.legendGroup.selectAll("g.upiq-legend-row");t.each(function(t,e){var n=c.select(this);n.selectAll("g text.noValue").each(function(t,e){var n=c.select(c.select(this).node().parentNode);n.remove()})})}},{key:"_postRender",value:function(){var t=this.plotGroup.select(d),e=(this.plotGroup.selectAll("upiq-legend-table-row"),t[0][0].getBoundingClientRect().height),n=this.plotter.gridHeight(),r=(this.margins.top||10)+10,i=n+r,o=e+n+r;this.plotCore.style({height:""+o+"px"}),t.attr({transform:"translate(5, "+i+")"}),"day"===this.plotter.interval&&this._dailyPostFixups()}},{key:"render",value:function(){this.prepare(),this.makeLegendGroup(),this.renderLegendRows()}},{key:"postRender",value:function(){this.enabled&&this._postRender()}},{key:"useTabularLegend",value:function(){return"tabular"===this.data.legend_placement}},{key:"update",value:function(){this.enabled&&(this.clear(),this.render())}}]),e}(l.BaseRenderingPlugin);e.TabularLegendRenderer=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),a=n(24),s=n(20),u=n(18),l=n(23),c=n(13),h=n(10),f=n(8),d=n(25),p=n(9),g=n(15),v=n(11),y=n(12),m=n(16),b=n(4),x=n(1),S=n(7);window.plotqi=window.plotqi||{},window.plotqi.plotters=[],window.plotqi.ADDITIONAL_PLUGINS=window.plotqi.ADDITIONAL_PLUGINS||[],window.plotqi.RENDERING_PLUGINS=window.plotqi.RENDERING_PLUGINS||[m.AutoIntervalPlugin,y.CompactLayoutPlugin,h.ContinuityLinesPlugin,c.GoalLineRenderer,d.XTickLabelsRenderer,f.AxisTitleRenderer,s.TabularLegendRenderer,l.TrendLineRenderer,u.PointLabelsRenderer,p.BasicLegendRenderer,g.PointHoverPlugin,v.PointClickPlugin];var _="upiq-chart chart-svg",w=".nv-wrap.nv-lineChart",k="nv-linesWrap",M=".nv-wrap.nv-multiBarWithLegend",P="nv-barsWrap";S.utils.symbolMap.set("x",function(t){var e=1.8*Math.sqrt(t);return"M"+-e/2+","+-e/2+"l"+e+","+e+"m0,"+-e+"l"+-e+","+e}),S.utils.symbolMap.set("dash",function(t){var e=1.8*Math.sqrt(t);return"M"+-e/2+",0l"+e+",0"}),S.utils.symbolMap.set("plus",function(t){var e=1.8*Math.sqrt(t);return"M0,0l0,"+e+"m"+-e/2+","+-(e/2)+"l"+e+",0"});var A=function(){function t(e,n,i){r(this,t),this.options=this.getOptions(i),this.plotDiv=e,this.data=n,this._loadConfig(),this.chart=null,this.plotCore=null,this.svg=null,this._initPlugins(),this.complete=!1,window.plotqi.plotters.push(this)}return i(t,[{key:"getOptions",value:function(t){return t=Object.create(t)||{},t.interactive=void 0===t.interactive||t.interactive,t.compact="compact"===t.layout,t.tiny=void 0!==t.tiny&&t.tiny,t.small=void 0!==t.small&&t.small,t.prefix=t.prefix||"plot",t}},{key:"_intervalConfig",value:function(){var t,e=this.data.frequency,n=m.INTERVALS[e||"monthly"],r="weekly"===e,i=n;return r&&this.data.series&&this.data.series[0].data.size()&&(t=b.utc(this.data.series[0].data.values()[0].key),i[1]=t.locale("en-us").format("dddd").toLowerCase()),i}},{key:"_loadConfig",value:function(t){var e=this,n=t||this._intervalConfig(),r=this.data.domain,i=function(t){return t.valueOf()},o=this.data.chart_type||"line",a="line"===o,s=0,u=a?-1:0;this.baseFontSize=14,this.type=o,this.relativeWidth="%"==this.data.width_units,this.weekdays=m.WEEKDAYS,this.timeStep=n[0],this.interval=n[1],this.d3Interval=x.time[this.interval].utc,t&&2===t.length&&(0,m.submonthly)(t)&&(this.data.forceGenerated=n),r=[this.timeOffset(r[0],u),this.timeOffset(r[1],s)],this.domain=r,this.timeRange=function(t,n){return e.d3Interval.range(t,n,e.timeStep)},this.tickVals=this.timeRange(r[0],this.timeOffset(r[1],1)).map(i),this.xDomain=a?r.map(i):this.tickVals,this.nvType=a?w:M,this.wrapType=a?k:P}},{key:"_allPlugins",value:function(){var t=window.plotqi.RENDERING_PLUGINS,e=window.plotqi.ADDITIONAL_PLUGINS;return t.concat(e)}},{key:"_initPlugins",value:function(){this.plugins=[],this._allPlugins().forEach(function(t){var e=new t(this);this.plugins.push(e)},this)}},{key:"pluginName",value:function(t){return t.__name__||t.constructor.name}},{key:"pluginEnabled",value:function(t){var e=this,n=this.plugins.filter(function(n){return e.pluginName(n)===t})[0];return n&&n.enabled}},{key:"getPlugin",value:function(t){var e=this,n=this.plugins.filter(function(n){return e.pluginName(n)===t})[0];return n}},{key:"computedInterval",value:function(t){var e,n,r=0,i=Math;if(t<=0||t===1/0)return[100,20];for(e=1;r<t;e++)r=10*i.max(1,i.pow(10,i.floor((e-1)/5)))*(e%5||5),n=[0,1].indexOf(e%5)!==-1?r/5:r/(e%5);return[r,n]}},{key:"_configAxes",value:function(){var t=this,e=[Math.floor(this.data.range[0]),Math.ceil(this.data.range[1])],n=e[1]-e[0],r=this.chart,i=("tabular"===this.data.legend_placement,function(n){var r,i,o=[],a=(e[1]-e[0])/n;for(e[0]===e[1]&&e[1]<=100&&(e=[0,100],a=20),e[1]>100&&!t.data.range_max&&(r=t.computedInterval(e[1]),e=[0,r[0]],a=r[1]),i=e[0];i<=e[1];i+=a)o.push(i);return o});r.xAxis.tickFormat(function(){return""}),r.xAxis.tickValues(this.tickVals),r.yAxis.tickFormat(x.format(",.0f")).tickValues(i(n<5?n:5)).showMaxMin(!1).tickPadding(6),r.xDomain(this.xDomain).yDomain(e)}},{key:"timeOffset",value:function(t,e){var n=this.weekdays.indexOf(this.interval)!==-1,r=n?"week":this.interval;return b.utc(t).add(e*this.timeStep,r).toDate()}},{key:"_margins",value:function(){return{top:10,bottom:5,left:40,right:10}}},{key:"nvChartFactory",value:function(){var t=this,e=S.models,n=this.data.chart_type||"line",r="line"===n?e.lineChart:e.multiBarChart,i=r(),o=function(e){return(e.size||8)*Math.pow(t.plotWidth/320,2)};return i.id(this.data.uid).showLegend(!1).tooltips(!1),"line"===n&&i.useInteractiveGuideline(!1).pointSize(o).interactive(!1),"bar"===n&&i.showControls(!1).groupSpacing(.3).reduceXTicks(!1),i}},{key:"yformat",value:function(t){return"number"==typeof t?x.format(",.1f")(t):"N/A"}},{key:"allSeries",value:function(){var t=this.data,e=this.timeRange(t.domain[0],this.timeOffset(t.domain[1],2)),n=function(t,n){var r=this.type,i={key:t.position,color:t.color,values:[],format:x.format(t.display_format)};return"line"===r&&(i.incomplete=t.break_lines,i.thickness=t.line_width||2,i.markerThickness=t.marker_width||2),e.map(function(t){return t.valueOf()}).forEach(function(e){var o,a,s=t.data.get(e);t.data.has(e)?(o=s.value,a={x:b.utc(s.key).valueOf(),y:o||0===o?o:NaN,note:s.note,title:s.title,uri:s.uri,seriesIndex:n},"line"===r&&(a.size=t.marker_size,a.shape=t.marker_style),i.values.push(a)):"line"===r&&i.values.push({x:b.utc(e).valueOf()})}),i};return t.series.map(n,this)}},{key:"_updateLineDetail",value:function(){var t=this.svg.selectAll(".nv-wrap.nv-line > g > g.nv-groups .nv-group"),e=.25+this.gridWidth()/600;t.style("stroke-dasharray",function(t){return t.dashed?"5 5":"none"}).style("stroke-width",function(t){return(t.thickness||2)*e})}},{key:"_updateMarkerDetail",value:function(){var t=1+this.plotWidth/640,e=function(e){return(e.markerThickness||2)*t};this.svg.selectAll(".nv-point").style({"stroke-width":function(t){return""+e(t)+"px"}})}},{key:"sizePlot",value:function(){var t,e,n=this.data,r=+n.width||100,i=n.width_units||"%",o=n.aspect_ratio,a=o&&2===o.length,s=a?o[1]/o[0]:void 0,u=!a&&"%"===n.height_units,l=""+r+i,c=160,h=9;return this.plotCore.style("width","100%"),this.plotDiv.style("width",l),n.series.length?(t=this.plotCore[0][0].clientWidth,
a||"px"!==n.height_units?(u&&n.height&&(s=n.height/100),e=Math.round(s*t)):e=n.height,e=Math.max(c,e),this.plotCore.style("height",""+e+"px"),this.plotWidth=t,this.plotHeight=e,this.baseFontSize=Math.max(h,Math.floor(t/45*2)/2),"disabled"!==this.options.tiny&&this.plotWidth<165?this.options.tiny=!0:this.plotWidth>=165&&(this.options.tiny=!1),void(this.options.small=this.plotWidth<400)):(this.plotCore.style("height","15px"),void this.plotCore.html("<em>No series data yet provided for plot.</em>"))}},{key:"clear",value:function(){this.plotCore&&this.plotCore.size()&&this.plotCore.remove()}},{key:"displayMetadata",value:function(){var t=this.plotDiv.selectAll(".plot-title").data([null]),e=this.plotDiv.selectAll(".plot-description").data([null]),n=this.plotDiv.selectAll(".plot-info").data([null]);t.enter().append("h3").classed("plot-title",!0),t.text(this.data.title||""),e.enter().append("p").classed("plot-description",!0),e.text(this.data.description||""),n.enter().append("div").classed("plot-info",!0)}},{key:"preRender",value:function(){this.margins=this._margins(),this.displayMetadata(),this.clear(),this.plotCore=this.plotDiv.insert("div",".plot-info").classed("chart-div",!0).style({postion:"relative"}),this.sizePlot(),this.svg=this.plotCore.append("svg").attr("class",_),this.svg.outerNode=this.plotDiv,this.abovePlotGroup=this.svg.append("g").classed("upiq-above-plot",!0),this.plotGroup=this.svg.append("g").classed("upiq-plot",!0),this.plotCore.style({"font-size":""+this.baseFontSize+"px"}),this.svg.append("defs"),this.chart=this.nvChartFactory(),this.xScale=this.chart.xScale(),this.yScale=this.chart.yScale(),this.plugins.forEach(function(t){"function"==typeof t.preRender&&t.preRender()},this),this.chart.width(this.plotWidth),this.chart.height(this.plotHeight),this.chart.margin(this.margins)}},{key:"_grid",value:function(){var t=".nv-multiBarWithLegend .nv-x",e=".nv-lineChart g rect",n="bar"===this.type?t:e;return this.svg.select(n).node()}},{key:"gridWidth",value:function(){var t=this._grid();return t?t.getBoundingClientRect().width:0}},{key:"gridHeight",value:function(){var t=this._grid();return t?t.getBoundingClientRect().height:0}},{key:"updateRenderingPlugins",value:function(){this.plugins.forEach(function(t){t.update()},this)}},{key:"setTimeScale",value:function(){var t=this.xScale.domain(),e=this.xScale.range();e=[e[0],e.slice(-1)[0]],t=[t[0],t.slice(-1)[0]],this.timeScale=x.time.scale().domain(t).range(e),"bar"===this.type&&(t[1]=this.timeOffset(t[1],1),e[1]=this.timeScale(t[1])),this.timeScale.domain(t).range(e)}},{key:"render",value:function(){var t=this.allSeries();return this.preRender(),this._configAxes(),this.plotGroup.datum(t).call(this.chart),this.setTimeScale(),"line"===this.type&&(this._updateLineDetail(),this._updateMarkerDetail()),this.updateRenderingPlugins(),this.chart}},{key:"loadInteractiveFeatures",value:function(){this.options.interactive&&this.plugins.forEach(function(t){t.loadInteractiveFeatures()},this)}},{key:"highlightX",value:function(t){var e=t?t.valueOf():null,n=this.svg.select("g.nv-x").selectAll("g.tick"),r=n[0].filter(function(t){return x.select(t).data()==e});x.select(r[0]).classed("selected",!0)}},{key:"clearHighlights",value:function(){var t=this.svg.select("g.nv-x").selectAll("g.tick");t.classed("selected",!1)}},{key:"reorderSeries",value:function(){var t=(0,o.range)(this.data.series.length);t.reverse(),t.forEach(function(t){var e=".nv-series-"+t,n=this.plotGroup.selectAll(e);n[0].forEach(function(t){t.parentNode.appendChild(t)})},this)}},{key:"postRender",value:function(){var t,e,n=this.abovePlotGroup,r=function(t){return t.getBoundingClientRect().height};"line"===this.type&&this.reorderSeries(),this.plugins.forEach(function(t){t.postRender()},this),t=n.selectAll(".sizing"),t.size()&&(e=t[0].map(r).reduce(function(t,e){return t+e},0)),e&&(this.plotGroup.attr({transform:"translate(0, "+e+")"}),this.plotHeight+=e,this.plotCore.style({height:this.plotHeight+"px"})),this.complete=!0,this.plugins.forEach(function(t){t.onComplete()},this)}},{key:"refresh",value:function(){this.render(),this.loadInteractiveFeatures(),this.postRender()}},{key:"update",value:function(){this.refresh(),this.relativeWidth&&window.addEventListener("resize",(0,a.debounce)(this.refresh.bind(this),500,!1))}}]),t}();e.TimeSeriesPlotter=A},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return t instanceof Array?t:t instanceof window.HTMLCollection||t instanceof window.NodeList?Array.prototype.slice.call(t,0):[t]}function o(t,e,n){return"string"!=typeof e?void Object.keys(e).forEach(function(n){return o(t,n,e[n])}):n?void t.setAttribute(e,n):t.getAttribute(e)}function a(t,e,n){return!n&&e instanceof Object?void Object.keys(e).forEach(function(n){return a(t,n,e[n])}):(t.style.removeProperty(e),void(void 0!==n&&t.style.setProperty(e,n)))}function s(t,e,n){var r,i;if(t.indexOf(".")!==-1){var a=t.split("."),s=l(a,2);t=s[0],e=s[1]}if(t.indexOf("#")!==-1){var u=t.split("#"),c=l(u,2);t=c[0],i=c[1]}return r=f.createElement(t),o(r,{id:i,class:e}),n&&(r.innerHTML=n),r}function u(t,e,n){var r=s(e||"div",n,t),i=r.childNodes;return 1===i.length?i[0]:r}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(2),f=window.document,d={CONTROL:String()+'<div class="olControl">  <span class="olControlBtn">   <a class="close" title="close">&times;</a>  </span></div>'},p=function(){function t(e,n,i){r(this,t);var o=(n||{}).id||(0,h.uuid4)(),l=(f.getElementsByTagName("body")[0],s("div#"+o+".overlayInner",null,e)),c=(n||{}).classname,p="tinyOverlay"+(c?" "+c:""),g=s("div."+p),v=u(d.CONTROL);this.id=o,this.options=n,this.container=this.options.container||f.querySelector("body"),this.target=g,this.options=n||{},this.options.style=this.options.style||{width:"120px"},a(this.target,this.options.style),g.appendChild(v),g.appendChild(l),i=void 0===i?[]:i,this.onclose=i instanceof Array?i:[i]}return c(t,[{key:"open",value:function(){var t=this,e=this.container,n=i(e.querySelectorAll("div.tinyOverlay")),r=this.target.querySelector("span.olControlBtn a.close");n.forEach(function(t){return t.parentNode.removeChild(t)}),this.container.appendChild(this.target),r.addEventListener("click",function(e){t.close()})}},{key:"close",value:function(){var t=this;this.target.parentNode.removeChild(this.target),this.onclose.forEach(function(e){return e.call(t)})}}]),t}();e.Overlay=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},s=n(3),u=n(2),l=n(1),c=(n(4),function(t){function e(t){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.showMarkers=window.navigator.userAgent.indexOf("Trident")===-1}return i(e,t),o(e,[{key:"preRender",value:function(){a(Object.getPrototypeOf(e.prototype),"preRender",this).call(this),this.plotWidth=this.plotter.plotWidth}},{key:"scaleTrendLine",value:function(t){var e={x1:this.plotter.timeScale(t.x1),y1:this.yScale(t.y1),x2:this.plotter.timeScale(t.x2),y2:this.yScale(t.y2),trend_color:t.trend_color,trend_width:t.trend_width*Math.floor(this.plotWidth/160)/2},n=e.y1>e.y2;return e.slope=-1*(e.y2-e.y1)/(e.x2-e.x1),e.slope=n?-1*e.slope:e.slope,e}},{key:"render",value:function(){var t,e=this,n=this.data.series.filter(function(t){return!!t.show_trend}),r=n.map(function(t){return e.data.fittedTrendline(t)},this),i=r.map(this.scaleTrendLine,this),o=i.length?i[0]:null,a=o?o.slope:0,s=(-1*Math.atan(a)*(180/Math.PI),this.margins.left),c=this.margins.top,h=l.svg.line().x(function(t){return t.x}).y(function(t){return t.y}).interpolate("linear"),f=this.showMarkers;n&&(t=this.plotGroup.append("g").classed("upiq-trendlines",!0).attr({transform:"translate("+s+", "+c+")",opacity:"0.5"}),i.forEach(function(e,n){var r=Math.floor((e.point_count||12)/2),i=[],o=e.x1,a=e.y1,s=e.x2,c=e.y2,d=c-a,p=s-o,g=d/p,v=e.trend_color,y=Math.atan(g)*(180/Math.PI);v="Auto"===v?"#CCCCCC":v,this.plotGroup.select("defs").append("marker").attr({id:"trendmarker-"+n,viewBox:"0 0 10 10",markerWidth:Math.floor(Math.sqrt(this.plotWidth/160)+2),markerHeight:Math.floor(Math.sqrt(this.plotWidth/160)+2),orient:y,refX:0,refY:5}).append("path").attr({d:"M 0 0 L 10 5 L 0 10 L 0 0 Z",fill:u.ColorTool.darken(v,.25),opacity:.5}),i.push({x:o,y:a}),l.range(1,r+1).forEach(function(t){i.push({x:s-p*t/r,y:c-d*t/r})}),i.push({x:s,y:c}),t.append("path").attr({d:h(i),stroke:v,"stroke-width":e.trend_width,"marker-mid":f?"url(#trendmarker-"+n+")":void 0,fill:"none"})},this))}}]),e}(s.BaseRenderingPlugin));e.TrendLineRenderer=c},function(t,e){"use strict";function n(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;window.clearTimeout(r),r=window.setTimeout(a,e),s&&t.apply(i,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},s=n(3),u=function(t){function e(t){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.type=this.plotter.type}return i(e,t),o(e,[{key:"preRender",value:function(){a(Object.getPrototypeOf(e.prototype),"preRender",this).call(this),this.tiny=this.plotter.options.tiny,this.enabled="tabular"!==this.data.legend_placement||this.tiny,this.enabled&&(this.angle="bar"===this.type||this.plotter.plotWidth<360?90:45,this.angleRadians=Math.PI/180*this.angle,this.relSize="bar"===this.type?.8:.9,this.labels=this.data.axisLabels(),this.height=this.labelHeight(),this.margins.bottom+=this.height)}},{key:"mkGroup",value:function(){var t=this.plotGroup.selectAll("g.upiq-x-tick-labels").data([null]),e=("bar"===this.type,this.plotter.plotWidth<200?"75%":"90%"),n=this.plotter.tickVals,r=this.scale(n[1])-this.scale(n[0]),i="bar"===this.type?Math.floor(r/2)+1:5,o=1.02*this.plotter.plotHeight-this.margins.bottom;t.enter().append("g").classed("upiq-x-tick-labels",!0).style({"font-size":"bar"===this.type?"80%":e}).attr({transform:"translate("+i+", "+o+")"}),this.group=t}},{key:"labelHeight",value:function(){var t=Math.max.apply(null,this.labels.map(function(t){return t.label.length})),e=this.plotter.baseFontSize*this.relSize,n=.5875,r=e*(t+2)*n,i=Math.floor(r*Math.sin(this.angleRadians));return i}},{key:"drawLabel",value:function(t){var e=Math.floor(this.scale(t.key)+this.margins.left),n=5,r=-1*this.angle;this.group.append("text").text(t.label).style({"text-anchor":"end"}).attr({x:e,y:n,transform:"rotate("+r+" "+e+" "+n+")"})}},{key:"drawLabels",value:function(){var t=this;this.labels.forEach(function(e){return t.drawLabel(e)})}},{key:"render",value:function(){this.enabled&&(this.scale=this.plotter.timeScale,this.mkGroup(),this.drawLabels())}}]),e}(s.BaseRenderingPlugin);e.XTickLabelsRenderer=u},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){if("undefined"==typeof window.Symbol){var n=function(t){function e(){}function n(){var t=o+a++;i(r,this._=t,{enumerable:!1,configurable:!1,get:e,set:function(e){i(this,t,{enumerable:!1,configurable:!0,writable:!0,value:e})}})}var r=t.prototype,i=t.defineProperty,o="__simbol"+Math.random()+"__",a=0;return i(n.prototype,"toString",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this._}}),n}(Object);window.Symbol=function(){return new n}}},function(t,e){!function(){"use strict";"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},SVGPathSeg.prototype.classname="SVGPathSeg",SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,r,i,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,r,i,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,r,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=r,this._y1=i},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,r,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=r,this._y1=i},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,r,i,o,a,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,r,i,o,a,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=r,this._y2=i},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y;
},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=r,this._y2=i},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new SVGPathSegMovetoAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new SVGPathSegMovetoRel(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new SVGPathSegLinetoAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new SVGPathSegLinetoRel(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,r,i,o){return new SVGPathSegCurvetoCubicAbs(void 0,t,e,n,r,i,o)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,r,i,o){return new SVGPathSegCurvetoCubicRel(void 0,t,e,n,r,i,o)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,r){return new SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,r)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,r){return new SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,r)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,r,i,o,a){return new SVGPathSegArcAbs(void 0,t,e,n,r,i,o,a)},SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,r,i,o,a){return new SVGPathSegArcRel(void 0,t,e,n,r,i,o,a)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new SVGPathSegLinetoHorizontalAbs(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new SVGPathSegLinetoHorizontalRel(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new SVGPathSegLinetoVerticalAbs(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new SVGPathSegLinetoVerticalRel(void 0,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,r)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r){return new SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,r)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var r=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},r.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},r.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=SVGPathSeg.PATHSEG_CLOSEPATH?e==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:e==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:e:SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==SVGPathSeg.PATHSEG_MOVETO_ABS||t==SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var t=0,e=0,n=1,r=0,i=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var u=this._currentIndex-1,l=1;u>=s;)e+=l*(this._string.charAt(u--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)r+=(this._string.charAt(this._currentIndex++)-"0")*(n*=.1)}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=e+r;if(c*=i,t&&(c*=Math.pow(10,o*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},r.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},r.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(n=this._nextCommandHelper(t,this._previousCommand),n==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(e,r.x,r.y,r.x2,r.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(e,r.x,r.y,r.x2,r.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(e,r.x,r.y,r.x1,r.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(e,r.x,r.y,r.x1,r.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var i=new n,o=new r(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];i.appendSegment(a)}return i.pathSegList})}()}]);